{"version":3,"sources":["assets/whiteLogo.svg","util/env-config.js","api/service.js","components/Loader/index.js","components/ForgotPasswordModal/index.js","store/auth.js","pages/Login/index.js","assets/femaleLogo.png","assets/maleLogo.png","assets/blackLogo.png","components/MenuDrawer/index.js","store/docs.js","components/SearchBar/index.js","utilities/formatDate.js","store/requests.js","components/NotificationsMenu/index.js","components/Navbar/index.js","components/Sidebar/index.js","layout/Content/index.js","utilities/countries.js","pages/Signup/index.js","pages/PasswordReset/index.js","pages/ValidateProfile/index.js","utilities/capitalizeWord.js","pages/ViewHistory/index.js","store/modalResponse.js","components/UserDeactivateModal/index.js","components/UserActivateModal/index.js","components/UserRemoveModal/index.js","components/UserAddEditorModal/index.js","components/UserRemoveEditorModal/index.js","components/UserRoleFilter/index.js","components/UsersTable/index.js","components/DocumentPublicAccessModal/index.js","components/DocumentPublicAccessForbidModal/index.js","components/DocumentDeleteModal/index.js","components/DocumentsTableFilters/index.js","components/DocumentsTable/index.js","components/UsersApprovedDocumentsTable/index.js","pages/Home/index.js","components/UsersStatistics/UsersTotal/index.js","components/UsersStatistics/LastDayVisitors/index.js","components/DocumentsStatistics/DocumentsTotal/index.js","components/DocumentsStatistics/LastDayDocVisits/index.js","components/ChartsOptions/index.js","components/UsersStatistics/UsersVisitModal/index.js","components/UsersStatistics/LastSevenDayVisits/index.js","components/UsersStatistics/UsersAge/index.js","components/UsersStatistics/UsersCountries/index.js","components/DocumentsStatistics/PublicPrivateDocs/index.js","components/DocumentsStatistics/MostAccessedDocs/index.js","components/DocumentsStatistics/MostSearchedDocs/index.js","components/DocumentsStatistics/MostDownloadedDocs/index.js","pages/Statistics/index.js","components/PasswordChangeAccordion/index.js","pages/Profile/index.js","pages/NewDocument/index.js","assets/privateDoc.png","components/DocumentDownloadRequestModal/index.js","components/ViewDocumentDetails/index.js","components/DocumentAccessRequestModal/index.js","components/ShowDocumentFile/index.js","components/DownloadUsersTable/DownloadUsersTable.js","pages/ViewDocumentPage/index.js","pages/DocumentsPage/index.js","pages/SearchPage/index.js","pages/RequestsPage/index.js","components/ApproveRequestModal/index.js","components/UploadDocumentBox/index.js","components/DocumentRemoveModal/index.js","components/DocumentInfoEdit/index.js","pages/EditDocumentPage/index.js","layout/Dashboard.js","App.js","store/index.js","index.js"],"names":["ENV","apiBase","axios","defaults","withCredentials","Service","headers","Authorization","localStorage","getItem","get","this","reqConfig","reqData","post","patch","validationToken","resetToken","values","delete","id","Loader","props","className","style","backgroundColor","loaderColor","ForgotPasswordModal","useState","isLoading","setIsLoading","errorMessage","setErrorMessage","isAlertVisible","setIsAlertVisible","validationSchema","Yup","shape","email","required","useForm","resolver","yupResolver","register","handleSubmit","errors","formState","handleResetPassword","value","a","forgotPassword","then","res","onClose","onOpenAlert","data","status","message","catch","err","response","Backdrop","sx","color","zIndex","open","Dialog","visible","DialogTitle","DialogContent","DialogContentText","Alert","severity","action","HighlightOff","onClick","cursor","marginBottom","AlertTitle","TextField","autoFocus","margin","label","type","fullWidth","variant","error","Typography","textAlign","font","DialogActions","Button","textTransform","fontFamily","fontWeight","authSlice","createSlice","name","initialState","isAuthenticated","currentUser","reducers","login","state","logout","setCurrentUser","payload","authActions","actions","Login","showPassword","setShowPassword","isForgotPasswordModalOpen","setIsForgotPasswordModalOpen","alertType","setAlertType","isResetPasswordAlertVisible","setIsResetPasswordAlertVisible","resetPasswordAlertMessage","setResetPasswordAlertMessage","isValidationProfileAlertVisible","setIsValidationProfileAlertVisible","validationProfileMessage","setValidationProfileMessage","validationAlertType","setValidationAlertType","password","min","max","defaultValues","reset","dispatch","useDispatch","isMounted","useRef","useEffect","current","handleLogin","userValues","user","active","window","location","reload","setItem","token","setTimeout","Grid","container","justifyContent","alignItems","theme","drawer","src","logo","alt","item","xs","Box","display","Person","mr","my","borderColor","marginLeft","Lock","InputProps","endAdornment","InputAdornment","position","IconButton","Visibility","VisibilityOff","width","height","marginTop","to","textDecoration","MenuDrawer","useSelector","auth","closeDrawerOnSelectLink","Drawer","anchor","firstName","lastName","Divider","light","role","isActive","Home","History","Timeline","DocumentScanner","docsSlice","isSearchStarted","searchQuery","allDocs","startSearch","docsActions","SearchbarStyle","styled","top","left","backdropFilter","WebkitBackdropFilter","useStyles","makeStyles","textFieldSearchIcon","searchBtn","marginRight","Searchbar","isOpen","setOpen","setSearchQuery","navigate","useNavigate","classes","handleClose","searchHandler","e","key","ClickAwayListener","onClickAway","prev","Search","Slide","direction","in","mountOnEnter","unmountOnExit","Input","disableUnderline","placeholder","startAdornment","onChange","target","onKeyDown","formatDate","date","format","Date","formatDateTime","requestsSlice","allRequests","isRequestModalVisible","selectedRequest","setAllRequests","setRequestModalVisible","setSelectedRequest","resetInitialState","requestsActions","NotificationItem","notification","documentName","textOverflow","whiteSpace","overflow","maxWidth","heading","icon","DoneAll","renderContent","ListItemButton","disableGutters","py","px","mt","alpha","ListItemAvatar","Tooltip","title","ListItemText","primary","secondary","requestedBy","ml","AccessTime","createdAt","NotificationsMenu","requests","isMobileSmall","useMediaQuery","Popover","anchorEl","Boolean","PaperProps","elevation","filter","content","right","bgcolor","transform","transformOrigin","horizontal","vertical","anchorOrigin","flexGrow","length","Notifications","List","disablePadding","subheader","ListSubheader","disableSticky","typography","slice","map","index","_id","description","reason","document","userId","docId","p","disableRipple","searchFieldButton","searchFieldIcon","navbar","navbarIcons","searchField","padding","Navbar","openMenu","setOpenMenu","isDrawerOpen","setIsDrawerOpen","openNotificationMenu","setOpenNotificationMenu","isTabletMobile","handleCloseMenu","Snackbar","autoHideDuration","AppBar","Toolbar","size","edge","MenuOpen","event","currentTarget","Badge","badgeContent","ExpandMore","Menu","Stack","spacing","gender","femaleLogo","maleLogo","MenuItem","ListItemIcon","PersonOutlined","clear","Logout","Sidebar","ContentHome","isUserLoggedIn","countries","code","phone","suggested","Signup","matches","phoneNumber","dob","country","organization","registrationPurpose","control","handleSignup","signup","WebkitBoxShadow","MozBoxShadow","boxShadow","borderRadius","paddingBottom","columns","sm","Email","Phone","render","field","defaultCountry","disableAreaCodes","Event","LocalizationProvider","dateAdapter","AdapterDateFns","defaultValue","DatePicker","inputFormat","disableFuture","toJSON","clearable","renderInput","params","rules","Wc","FormControl","component","FormLabel","RadioGroup","row","FormControlLabel","Radio","Public","Autocomplete","options","getOptionLabel","option","renderOption","flexShrink","loading","toLowerCase","srcSet","Work","FindInPage","multiline","rows","PasswordReset","useParams","responseMessage","setResponseMessage","isPasswordResetSuccessful","setIsPasswordResetSuccessful","accessApproved","setAccessApproved","findResetTokenHandler","findResetToken","passwordConfirm","oneOf","resetPasswordHandler","resetPassword","ValidateProfile","isAccessApproved","setIsAccessApproved","isResendEmailButtonVisible","setIsResendEmailButtonVisible","alertResponseMessage","setAlertResponseMessage","validateProfileHanlder","validateProfile","resendValidationEmailHandler","resendValidationEmail","capitalizeWord","docName","toUpperCase","ViewHistory","documents","setDocuments","isMobile","fetchUserHistoryReview","getUserHistoryReview","userDocs","userReviewDocs","newReviewArr","usr","forEach","doc","push","timeVisited","time","documentTypeHandler","documentsTableData","documentType","fileType","documentLastVisit","fontSize","moment","locale","fromNow","placement","ownership","tableLocalization","pagination","labelDisplayedRows","previousTooltip","nextTooltip","lastTooltip","firstTooltip","labelRowsPerPage","labelRowsSelect","toolbar","nRowsSelected","searchPlaceholder","showColumnsTitle","addRemoveColumns","header","body","emptyDataSourceMessage","filterRow","filterTooltip","Breadcrumbs","sorting","align","searchable","cellStyle","VisibilityOutlined","tooltip","actionsColumnIndex","columnsButton","grouping","paging","pageSizeOptions","pageSize","emptyRowsWhenPaging","rowStyle","headerStyle","background","paddingRight","localization","modalResponseSlice","isModalResAlertVisible","modalResMessage","modalAlertType","setIsModalResAlertVisible","setModalResMessage","setModalAlertType","setIsModalResAlertHidden","modalResponseActions","UserDeactivateModal","selectedUser","selected","deactivateUserHandler","deactivateUser","UserActivateModal","activateUserHandler","activateUser","UserRemoveModal","removeUserHandler","removeUser","UserAddEditorModal","addUserAsEditorHandler","userEditorAdd","UserRemoveEditorModal","removeUserAsEditorHandler","userEditorRemove","resetBtn","selectField","UserRoleFilter","roleValues","setRoleValues","getUserRole","InputLabel","Select","labelId","multiple","onFilterUsers","input","OutlinedInput","renderValue","flexWrap","gap","Chip","startIcon","HighlightOffOutlined","onResetFilter","UsersTable","users","setUsers","isUserDeactivateModalVisible","setIsUserDeactivateModalVisible","isUserActivateModalVisible","setIsUserActivateModalVisible","isUserRemoveModalVisible","setIsUserRemoveModalVisible","selectedRow","setSelectedRow","isUserAddEditorModalVisible","setIsUserAddEditorModalVisible","isUserRemoveEditorModalVisible","setIsUserRemoveEditorModalVisible","allUsers","setAllUsers","fetchAllUsersHandler","getAllUsers","userRoleHandler","editorColumnHandler","isDisabled","removed","disabled","CheckBox","CheckBoxOutlineBlank","usersTableData","firstLastName","editor","tmpUserArr","includes","rowData","ToggleOff","ToggleOn","handleOpenUserActivateModal","handleOpenUserDeactivateModal","DeleteOutlined","handleOpenUserRemoveModal","isOk","tmpUsersData","tmpRequestsData","req","DocumentPublicAccessModal","selectedDoc","approvePublicAccess","DocumentPublicAccessForbidModal","forbidPublicAccess","DocumentDeleteModal","deleteDocumentHandler","deleteDocument","filterBtns","filterBtnsField","DocumentsTableFilters","fileTypeValues","setFileTypeValues","rangeValue","setRangeValue","docValue","setDocValue","docLastChangeValue","setDocLastChangeValue","biggestDoc","getFileType","isResetFilterBtnsVisible","every","val","undefined","some","md","Slider","valueLabelDisplay","valueLabelFormat","toFixed","step","DateRangePicker","startText","endText","newValue","startProps","endProps","Fragment","mx","onResetFilters","onApplyFilters","newDocBtn","DocumentsTable","allDocuments","setAllDocuments","isVisibleDocAccessApprovedModal","setIsVisibleDocAccessApprovedModal","isVisibleDocAccessForbiddenModal","setIsVisibleDocAccessForbiddenModal","isDeleteDocModalVisible","setIsDeleteDocModalVisible","setBiggestDoc","fetchAllDocumentsHandler","getAllDocuments","docSizes","Number","documentSize","Math","fileSize","initialSize","publicAccess","tableOptions","tmpDocArr","start","end","lastEdit","getTime","customSort","b","EditOutlined","handleOpenDeleteDocModal","tmpDocData","UsersApprovedDocumentsTable","fetchAllApprovedDocumentsHandler","getApprovedDocuments","userFilteredDocs","approvedDocuments","pendingDocuments","RootStyle","Card","IconWrapperStyle","backgroundImage","TotalUsersNumber","totalUsers","duration","opacity","LastDayVisitors","todayVisit","TotalDocsNumber","totalDocs","LastDayVisits","lastDaysDocVisits","OptionCharts","useTheme","LABEL_TOTAL","show","palette","text","subtitle2","LABEL_VALUE","offsetY","h3","chart","zoom","enabled","foreColor","states","hover","fill","gradient","shadeIntensity","opacityFrom","opacityTo","stops","dataLabels","stroke","curve","lineCap","grid","strokeDashArray","divider","xaxis","axisBorder","axisTicks","markers","strokeColors","paper","x","legend","horizontalAlign","radius","itemMargin","labels","colors","plotOptions","bar","columnWidth","pie","donut","total","radialBar","track","strokeWidth","grey","radar","polygons","connectorColors","polarArea","rings","strokeColor","spokes","responsive","breakpoint","breakpoints","UsersVisitModal","dividers","prevState","EventNote","subtract","ExpandLess","Collapse","timeout","ListItem","i","LastSevenDayLogin","isUsersVisitModalVisible","setIsUsersVisitModalVisible","lastDaysAppVisits","lastDaysAppVisitsUsers","CHART_DATA","chartOptions","merge","ChartOptions","shared","intersect","y","formatter","CardHeader","ViewList","pb","dir","series","ChartWrapperStyle","alignContent","borderTop","CHART_HEIGHT","UsersAge","usersAge","floating","dropShadow","fillSeriesColor","seriesName","UsersCountries","usersCountries","sortedCountries","unshift","marker","barHeight","categories","PublicPrivateDocs","publicDocs","privateDocs","MostAccessedDocs","docs","mostAccessedDocs","visits","MostSearchedDocs","mostSearchedDocs","searchNumber","MostDownloadedDocs","mostDownloadedDocs","downloadNumber","Statistics","setPublicDocs","setPrivateDocs","setMostAccessedDocs","setMostSearchedDocs","setMostDownloadedDocs","setLastDaysDocVisits","setTotalDocs","setLastDaysAppVisits","setLastDaysAppVisitsUsers","setUsersAge","setUsersCountries","setTotalUsers","setTodayVisit","fetchDocsStats","getDocsStats","sortedDocs","lastDayDocsVisits","fetchUsersStats","getUsersStats","lg","PasswordChangeAccordion","panel","showCurrentPassword","setShowCurrentPassword","isSuccessAlertVisible","setIsSuccessAlertVisible","isErrorAlertVisible","setIsErrorAlertVisible","alertMessage","setAlertMessage","isExpandedAccordion","setIsExpandedAccordion","currentPassword","handleUpdatePassword","passwordValues","updateUserPassword","newPassword","scrollTo","behavior","Accordion","expanded","isExpanded","m","AccordionSummary","expandIcon","AccordionDetails","mb","Profile","switchChecked","setSwitchChecked","address","city","about","handleUpdateProfile","updateUserProfile","FormGroup","Switch","checked","labelPlacement","LocationOn","readOnly","isOptionEqualToValue","SaveOutlined","NewDocument","setFileType","selectedFileType","setSelectedFileType","files","setFiles","isFileAlertVisible","setIsFileAlertVisible","isUploadAlertVisible","setIsUploadAlertVisible","uploadMessage","setUploadMessage","uploadAlertType","setUploadAlertType","keyWords","useDropzone","accept","onDrop","acceptedFiles","file","Object","assign","preview","URL","createObjectURL","fileId","maxFiles","maxSize","getRootProps","getInputProps","handleSaveDocument","docValues","formData","FormData","append","keys","createDocument","AddCircleOutlineOutlined","hidden","secondaryAction","tmpFiles","removeImageFromFiles","DeleteOutline","path","Checkbox","CloudUploadOutlined","DocumentDonwloadRequestModal","handleSendDownloadRequest","createRequest","documentInfo","docMoreInfo","docLabel","documentInfoGrid","reqAccessBtn","ViewDocumentDetails","downloadImageIndex","setDownloadImageIndex","isDownlaodRequestModalVisible","setIsDownloadRequestModalVisible","documentProp","isDownloadAvailable","isDownloadRequestSent","isDocPrivate","downloadFilesHandler","downloadDocument","responseType","downloadDoc","link","createElement","href","appendChild","click","removeChild","minWidth","maxHeight","uploadedBy","editedBy","isRequestSent","onChangeDownloadStatus","DocumentAccessRequestModal","handleRequestAccess","SwiperCore","use","Zoom","Navigation","Pagination","ShowDocumentFile","isImageViewerOpen","setIsImageViewerOpen","currentImage","setCurrentImage","imageFiles","setImageFiles","tmpImageFiles","clickNextViewerImage","tmpImg","clickPreviousViewerImage","onContextMenu","preventDefault","navigation","clickable","imgs","currImg","onClickPrev","onClickNext","spinnerDisabled","backdropCloseable","onClickImg","controls","controlsList","customAdditionalControls","sandbox","encodeURIComponent","frameBorder","allowFullScreen","getFilesData","DownloadUsersTable","username","ViewDocumentPage","setDocument","setIsDocPrivate","isDocAccessRequestModalVisible","setIsDocAccessRequestModalVisible","setIsRequestSent","setIsDownloadAvailable","setIsDownloadRequestSent","fetchSelectedDocument","getDocument","approvedDownload","pendingDownload","Paper","privateDocImage","downloadedBy","sentMessage","DocumentsPage","SearchPage","fetchSearchedDocs","searchDocument","query","RequestsPage","requestsTableData","request","typeTable","isApproved","createdAtTable","handleOpenApproveRequestModal","ApproveRequestModal","successResponse","filteredRequests","errResponse","approveRequestHandler","approveRequest","declineRequestHandler","declineRequest","UploadBox","addImageBox","isEditEnabled","changeFileTypeHandler","handleEditFiles","_","images","Cancel","editedFiles","onEdit","ref","editedImagesArr","newImage","Add","DocumentRemoveModal","removeDocument","WarningAmber","DocumentInfoEdit","isEditAlertVisible","setIsEditAlertVisible","editMessage","setEditMessage","editAlertType","setEditAlertType","isRemoveDocModalVisible","setIsRemoveDocModalVisible","handleEditDocument","editDocument","onShowPreview","onSwitchDisable","Delete","Edit","EditDocumentPage","updatedFiles","setUpdatedFiles","setIsEditEnabled","isPreviewBtnVisible","setIsPreviewBtnVisible","UploadDocumentBox","Dashboard","modalResponse","fetchAllRequests","getAllRequests","element","Content","createTheme","main","App","isLoggedIn","isUserAutheticated","userAuthenticated","ThemeProvider","store","configureStore","reducer","authReducer","docsReducer","requestsReducer","modalResponseReducer","middleware","getDefaultMiddleware","serializableCheck","ReactDOM","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.d02a57fb.chunk.js","sourcesContent":["export default __webpack_public_path__ + \"static/media/whiteLogo.2bba4759.svg\";","const ENVIRONMENTS = {\r\n  dev: {\r\n    apiBase: 'http://localhost:8800/api',\r\n  },\r\n  prod: {\r\n    apiBase: 'http://52.59.234.32:8800/api',\r\n  },\r\n};\r\n\r\nconst ENV = ENVIRONMENTS[process.env.REACT_APP_ENV];\r\n\r\nexport default ENV;\r\n","import axios from 'axios';\nimport ENV from '../util/env-config';\naxios.defaults.withCredentials = true;\n// axios.defaults.headers.common['Authorization'] = `Bearer ${localStorage.getItem(\n//     'token'\n// )}`;\n\nclass Service {\n    static reqConfig() {\n        return {\n            headers: {\n                Authorization: `Bearer ${localStorage.getItem('token')}`,\n            },\n        };\n    }\n\n    static getCsrfToken() {\n        return axios.get(\n            ENV.apiBase + '/getCsrfToken',\n            this.reqConfig(),\n            this.reqConfig()\n        );\n    }\n\n    static signup(reqData) {\n        return axios.post(\n            ENV.apiBase + '/users/signup',\n            reqData,\n            this.reqConfig()\n        );\n    }\n\n    static login(reqData) {\n        return axios.post(\n            ENV.apiBase + '/users/login',\n            reqData,\n            this.reqConfig()\n        );\n    }\n\n    static logout() {\n        return axios.get(ENV.apiBase + '/users/logout', this.reqConfig());\n    }\n\n    static validateProfile(reqData) {\n        return axios.patch(\n            ENV.apiBase + '/users/validateProfile/' + reqData.validationToken,\n            this.reqConfig()\n        );\n    }\n\n    static userAuthenticated(reqData) {\n        return axios.post(\n            ENV.apiBase + '/users/auth',\n            reqData,\n            this.reqConfig()\n        );\n    }\n\n    static forgotPassword(reqData) {\n        return axios.post(\n            ENV.apiBase + '/users/forgotPassword',\n            reqData,\n            this.reqConfig()\n        );\n    }\n\n    static resetPassword(reqData) {\n        return axios.patch(\n            ENV.apiBase + '/users/resetPassword/' + reqData.resetToken,\n            reqData.values,\n            this.reqConfig()\n        );\n    }\n\n    static findResetToken(reqData) {\n        return axios.post(\n            ENV.apiBase + '/users/findResetToken',\n            reqData,\n            this.reqConfig()\n        );\n    }\n\n    static resendValidationEmail(reqData) {\n        return axios.patch(\n            ENV.apiBase +\n                '/users/resendValidationEmail/' +\n                reqData.validationToken,\n            this.reqConfig()\n        );\n    }\n\n    static getAllUsers() {\n        return axios.get(ENV.apiBase + '/users', this.reqConfig());\n    }\n\n    static deactivateUser(reqData) {\n        return axios.patch(\n            ENV.apiBase + '/users/deactivateUser',\n            reqData,\n            this.reqConfig()\n        );\n    }\n\n    static activateUser(reqData) {\n        return axios.patch(\n            ENV.apiBase + '/users/activateUser',\n            reqData,\n            this.reqConfig()\n        );\n    }\n\n    static removeUser(reqData) {\n        return axios.delete(\n            ENV.apiBase + '/users/' + reqData,\n            this.reqConfig()\n        );\n    }\n\n    static userEditorAdd(reqData) {\n        return axios.patch(\n            ENV.apiBase + '/users/userEditorAdd',\n            reqData,\n            this.reqConfig()\n        );\n    }\n\n    static userEditorRemove(reqData) {\n        return axios.patch(\n            ENV.apiBase + '/users/userEditorRemove',\n            reqData,\n            this.reqConfig()\n        );\n    }\n\n    static updateUserProfile(reqData) {\n        return axios.patch(\n            ENV.apiBase + '/users/updateUserProfile',\n            reqData,\n            this.reqConfig()\n        );\n    }\n\n    static updateUserPassword(reqData) {\n        return axios.patch(\n            ENV.apiBase + '/users/updateUserPassword',\n            reqData,\n            this.reqConfig()\n        );\n    }\n\n    static createDocument(reqData) {\n        return axios.post(\n            ENV.apiBase + '/documents',\n            reqData,\n            this.reqConfig()\n        );\n    }\n\n    static getAllDocuments() {\n        return axios.get(ENV.apiBase + '/documents', this.reqConfig());\n    }\n\n    static getDocument(reqData) {\n        return axios.get(\n            ENV.apiBase + '/documents/' + reqData.id,\n            this.reqConfig()\n        );\n    }\n\n    static approvePublicAccess(reqData) {\n        return axios.patch(\n            ENV.apiBase + '/documents/approvePublicAccess',\n            reqData,\n            this.reqConfig()\n        );\n    }\n\n    static forbidPublicAccess(reqData) {\n        return axios.patch(\n            ENV.apiBase + '/documents/forbidPublicAccess',\n            reqData,\n            this.reqConfig()\n        );\n    }\n\n    static deleteDocument(reqData) {\n        return axios.patch(\n            ENV.apiBase + '/documents/deleteDocument',\n            reqData,\n            this.reqConfig()\n        );\n    }\n\n    static editDocument(reqData) {\n        return axios.patch(\n            ENV.apiBase + '/documents/editDocument',\n            reqData,\n            this.reqConfig()\n        );\n    }\n\n    static removeDocument(reqData) {\n        return axios.delete(\n            ENV.apiBase + '/documents/removeDocument/' + reqData,\n            this.reqConfig()\n        );\n    }\n\n    static getUserHistoryReview() {\n        return axios.get(\n            ENV.apiBase + '/documents/userHistoryReview',\n            this.reqConfig()\n        );\n    }\n\n    static searchDocument(reqData) {\n        return axios.post(\n            ENV.apiBase + '/documents/searchDocument',\n            reqData,\n            this.reqConfig()\n        );\n    }\n\n    static getApprovedDocuments() {\n        return axios.get(\n            ENV.apiBase + '/documents/approvedDocuments',\n            this.reqConfig()\n        );\n    }\n\n    static downloadDocument(reqData) {\n        return axios.patch(\n            ENV.apiBase + '/documents/download',\n            reqData,\n            this.reqConfig()\n        );\n    }\n\n    static createRequest(reqData) {\n        return axios.post(ENV.apiBase + '/requests', reqData, this.reqConfig());\n    }\n\n    static getAllRequests() {\n        return axios.get(ENV.apiBase + '/requests', this.reqConfig());\n    }\n\n    static approveRequest(reqData) {\n        return axios.patch(\n            ENV.apiBase + '/requests/approveRequest',\n            reqData,\n            this.reqConfig()\n        );\n    }\n\n    static declineRequest(reqData) {\n        return axios.patch(\n            ENV.apiBase + '/requests/declineRequest',\n            reqData,\n            this.reqConfig()\n        );\n    }\n\n    static getLastDaysLoginStat() {\n        return axios.get(\n            ENV.apiBase + '/statistics/lastDaysLoginStatistics',\n            this.reqConfig()\n        );\n    }\n\n    static getDobAverageOfUsers() {\n        return axios.get(\n            ENV.apiBase + '/statistics/getDobAverageOfUsers',\n            this.reqConfig()\n        );\n    }\n\n    static getCountriesOfUsers() {\n        return axios.get(\n            ENV.apiBase + '/statistics/getCountriesOfUsers',\n            this.reqConfig()\n        );\n    }\n\n    static getUsersStats() {\n        return axios.get(\n            ENV.apiBase + '/statistics/getUsersStats',\n            this.reqConfig()\n        );\n    }\n\n    static getDocsStats() {\n        return axios.get(\n            ENV.apiBase + '/statistics/getDocsStats',\n            this.reqConfig()\n        );\n    }\n}\n\nexport default Service;\n","import React from 'react';\nimport './style.css';\n\nfunction Loader(props) {\n    return (\n        <div className='spinner'>\n            <div\n                className='rect1'\n                style={{ backgroundColor: props.loaderColor && '#393E46' }}\n            ></div>\n            <div\n                className='rect2'\n                style={{ backgroundColor: props.loaderColor && '#393E46' }}\n            ></div>\n            <div\n                className='rect3'\n                style={{ backgroundColor: props.loaderColor && '#393E46' }}\n            ></div>\n            <div\n                className='rect4'\n                style={{ backgroundColor: props.loaderColor && '#393E46' }}\n            ></div>\n            <div\n                className='rect5'\n                style={{ backgroundColor: props.loaderColor && '#393E46' }}\n            ></div>\n        </div>\n    );\n}\n\nexport default Loader;\n","import React, { useState } from 'react';\nimport {\n    Button,\n    TextField,\n    Dialog,\n    DialogActions,\n    DialogContent,\n    DialogContentText,\n    DialogTitle,\n    Typography,\n    Backdrop,\n    Alert,\n    AlertTitle,\n} from '@mui/material';\nimport { HighlightOff } from '@mui/icons-material';\nimport { useForm } from 'react-hook-form';\nimport { yupResolver } from '@hookform/resolvers/yup';\nimport * as Yup from 'yup';\nimport Service from '../../api/service';\nimport Loader from '../Loader';\n\nfunction ForgotPasswordModal(props) {\n    const [isLoading, setIsLoading] = useState(false);\n    const [errorMessage, setErrorMessage] = useState('');\n    const [isAlertVisible, setIsAlertVisible] = useState(false);\n    const validationSchema = Yup.object().shape({\n        email: Yup.string()\n            .required('Email je obavezan')\n            .email('Email nije validan'),\n    });\n    const {\n        register,\n        handleSubmit,\n        formState: { errors },\n    } = useForm({\n        resolver: yupResolver(validationSchema),\n    });\n\n    const handleResetPassword = async (value) => {\n        setIsLoading(true);\n        await Service.forgotPassword({ email: value.email })\n            .then((res) => {\n                setIsLoading(false);\n                props.onClose();\n                props.onOpenAlert(res.data.status, res.data.message);\n            })\n            .catch((err) => {\n                // console.error(err);\n                setIsAlertVisible(true);\n                setErrorMessage(\n                    err.response\n                        ? err.response.data.message\n                        : 'Konekcija sa serverom nije uspostavljena'\n                );\n                setIsLoading(false);\n            });\n    };\n    return (\n        <div>\n            <Backdrop\n                sx={{\n                    color: '#fff',\n                    zIndex: 1500,\n                }}\n                open={isLoading}\n            >\n                <Loader />\n            </Backdrop>\n            <Dialog open={props.visible} onClose={props.onClose}>\n                <DialogTitle>Zaboravljena šifra</DialogTitle>\n                <DialogContent>\n                    <DialogContentText>\n                        Molimo vas da unese vaš mail, kako bismo vam poslali\n                        reset link da oporavite vaš račun.\n                    </DialogContentText>\n                    {isAlertVisible && (\n                        <Alert\n                            severity='error'\n                            action={\n                                <HighlightOff\n                                    onClick={() => setIsAlertVisible(false)}\n                                    style={{ cursor: 'pointer' }}\n                                />\n                            }\n                            style={{ marginBottom: 15 }}\n                        >\n                            <AlertTitle>Greška</AlertTitle>\n                            {errorMessage}\n                        </Alert>\n                    )}\n                    <TextField\n                        autoFocus\n                        margin='dense'\n                        id='name'\n                        label='Email'\n                        type='email'\n                        fullWidth\n                        required\n                        variant='standard'\n                        {...register('email')}\n                        error={errors.email ? true : false}\n                    />\n\n                    <Typography\n                        variant='inherit'\n                        color='red'\n                        sx={{\n                            textAlign: 'left',\n                            font: '12px Roboto',\n                        }}\n                    >\n                        {errors.email?.message}\n                    </Typography>\n                </DialogContent>\n                <DialogActions>\n                    <Button\n                        variant='outlined'\n                        color='primary'\n                        onClick={props.onClose}\n                        sx={{\n                            textTransform: 'none',\n                            fontFamily: 'Roboto',\n                            fontWeight: 'bold',\n                        }}\n                    >\n                        Poništi\n                    </Button>\n\n                    <Button\n                        variant='contained'\n                        sx={{\n                            textTransform: 'none',\n                            fontFamily: 'Roboto',\n                            color: '#fff',\n                            fontWeight: 'bold',\n                        }}\n                        onClick={handleSubmit(handleResetPassword)}\n                    >\n                        Prijavi\n                    </Button>\n                </DialogActions>\n            </Dialog>\n        </div>\n    );\n}\n\nexport default ForgotPasswordModal;\n","import { createSlice } from '@reduxjs/toolkit';\n\nconst initialAuthState = {\n    isAuthenticated: false,\n    currentUser: {},\n};\n\nconst authSlice = createSlice({\n    name: 'authentication',\n    initialState: initialAuthState,\n    reducers: {\n        login(state) {\n            state.isAuthenticated = true;\n        },\n        logout(state) {\n            state.isAuthenticated = false;\n            state.currentUser = {};\n        },\n        setCurrentUser(state, action) {\n            state.currentUser = action.payload;\n        },\n    },\n});\n\nexport const authActions = authSlice.actions;\n\nexport default authSlice.reducer;\n","import React, { useEffect, useRef, useState } from 'react';\nimport { NavLink } from 'react-router-dom';\nimport {\n  Grid,\n  TextField,\n  Button,\n  InputAdornment,\n  IconButton,\n  Box,\n  Typography,\n  Backdrop,\n  Alert,\n  AlertTitle,\n} from '@mui/material';\nimport {\n  Person,\n  Lock,\n  Visibility,\n  VisibilityOff,\n  HighlightOff,\n} from '@mui/icons-material';\nimport './style.css';\nimport logo from '../../assets/whiteLogo.svg';\nimport ForgotPasswordModal from '../../components/ForgotPasswordModal';\nimport { useForm } from 'react-hook-form';\nimport { yupResolver } from '@hookform/resolvers/yup';\nimport * as Yup from 'yup';\nimport Service from '../../api/service';\nimport { authActions } from '../../store/auth';\nimport { useDispatch } from 'react-redux';\nimport Loader from '../../components/Loader';\n\nfunction Login() {\n  const [showPassword, setShowPassword] = useState(false);\n  const [isLoading, setIsLoading] = useState(false);\n  const [errorMessage, setErrorMessage] = useState('');\n  const [isAlertVisible, setIsAlertVisible] = useState(false);\n  const [isForgotPasswordModalOpen, setIsForgotPasswordModalOpen] =\n    useState(false);\n  const [alertType, setAlertType] = useState('');\n  const [isResetPasswordAlertVisible, setIsResetPasswordAlertVisible] =\n    useState(false);\n  const [resetPasswordAlertMessage, setResetPasswordAlertMessage] =\n    useState('');\n  const [isValidationProfileAlertVisible, setIsValidationProfileAlertVisible] =\n    useState(false);\n  const [validationProfileMessage, setValidationProfileMessage] = useState('');\n  const [validationAlertType, setValidationAlertType] = useState('success');\n\n  const validationSchema = Yup.object().shape({\n    email: Yup.string()\n      .required('Email je obavezan')\n      .email('Email nije validan'),\n    password: Yup.string()\n      .required('Šifra je obavezna')\n      .min(8, 'Šifra mora da sadrži najmanje 8 karaktera')\n      .max(24, 'Šifra može da sadrži najviše 24 karaktera'),\n  });\n\n  const {\n    register,\n    handleSubmit,\n    reset,\n    formState: { errors },\n  } = useForm({\n    defaultValues: {\n      email: '',\n      password: '',\n    },\n    resolver: yupResolver(validationSchema),\n  });\n  const dispatch = useDispatch();\n\n  let isMounted = useRef(true);\n\n  useEffect(() => {\n    return () => {\n      isMounted.current = false;\n    };\n  }, []);\n\n  const handleLogin = async (userValues) => {\n    setIsLoading(true);\n    await Service.login(userValues)\n      .then((res) => {\n        if (isMounted.current) {\n          if (!res.data.user.active) {\n            setIsValidationProfileAlertVisible(true);\n            setValidationProfileMessage(res.data.message);\n            setValidationAlertType('warning');\n            reset();\n          } else {\n            window.location.reload();\n            localStorage.setItem('isLoggedIn', 'true');\n            localStorage.setItem('token', res.data.token);\n            setTimeout(() => {\n              dispatch(authActions.login());\n              dispatch(authActions.setCurrentUser(res.data.user));\n\n              setIsLoading(false);\n              reset();\n            }, 1000);\n          }\n        }\n      })\n      .catch((err) => {\n        setErrorMessage(\n          err.response\n            ? err.response.data.message\n            : 'Konekcija sa serverom nije uspostavljena'\n        );\n        setIsAlertVisible(true);\n        setIsLoading(false);\n      });\n    // setIsLoading(false);\n  };\n\n  const showResetPasswordAlertHandler = (type, message) => {\n    setAlertType(type);\n    setResetPasswordAlertMessage(message);\n    setIsResetPasswordAlertVisible(true);\n  };\n\n  return (\n    <div>\n      <div className='resetPasswordAlert'>\n        {isResetPasswordAlertVisible && (\n          <Alert\n            severity={`${alertType}`}\n            action={\n              <HighlightOff\n                onClick={() => setIsResetPasswordAlertVisible(false)}\n                style={{ cursor: 'pointer' }}\n              />\n            }\n            sx={{ font: '14px Roboto' }}\n          >\n            {resetPasswordAlertMessage}\n          </Alert>\n        )}\n      </div>\n\n      <div className='validationProfileAlert'>\n        {isValidationProfileAlertVisible && (\n          <Alert\n            severity={validationAlertType}\n            action={\n              <HighlightOff\n                onClick={() => setIsValidationProfileAlertVisible(false)}\n                style={{ cursor: 'pointer' }}\n              />\n            }\n            sx={{ font: '14px Roboto' }}\n          >\n            {validationProfileMessage}\n          </Alert>\n        )}\n      </div>\n\n      <Grid container justifyContent='center' alignItems='center'>\n        <div className='loginContent'>\n          <h2 className='headingLogin'>Digitalna biblioteka</h2>\n          <Backdrop\n            sx={{\n              color: '#fff',\n              zIndex: (theme) => theme.zIndex.drawer + 1,\n            }}\n            open={isLoading}\n          >\n            <Loader />\n          </Backdrop>\n          <form>\n            <div className='upperBox'>\n              <h4>Prijava</h4>\n              <img src={logo} alt='logo' />\n            </div>\n\n            <div className='formFieldsBox'>\n              {isAlertVisible && (\n                <Alert\n                  severity='error'\n                  action={\n                    <HighlightOff\n                      onClick={() => setIsAlertVisible(false)}\n                      style={{ cursor: 'pointer' }}\n                    />\n                  }\n                  style={{\n                    marginBottom: 15,\n                  }}\n                >\n                  <AlertTitle>Greška</AlertTitle>\n                  {errorMessage}\n                  {/* <strong> Pokušajte ponovo !</strong> */}\n                </Alert>\n              )}\n              <Grid item xs={16}>\n                <Box\n                  sx={{\n                    display: 'flex',\n                    alignItems: 'flex-end',\n                  }}\n                >\n                  <Person\n                    sx={{\n                      color: '#393E46',\n                      mr: 1,\n                      my: 0.5,\n                    }}\n                  />\n                  <TextField\n                    id='email'\n                    label='Email'\n                    type='email'\n                    fullWidth\n                    required\n                    variant='standard'\n                    {...register('email')}\n                    error={errors.email ? true : false}\n                    style={{ borderColor: '#00ab55' }}\n                  />\n                </Box>\n                <Typography\n                  variant='inherit'\n                  color='red'\n                  sx={{\n                    textAlign: 'left',\n                    marginLeft: 4,\n                    font: '12px Roboto',\n                  }}\n                >\n                  {errors.email?.message}\n                </Typography>\n              </Grid>\n              <Grid item xs={16}>\n                <Box\n                  sx={{\n                    display: 'flex',\n                    alignItems: 'flex-end',\n                  }}\n                >\n                  <Lock\n                    sx={{\n                      color: '#393E46',\n                      mr: 1,\n                      my: 0.5,\n                    }}\n                  />\n                  <TextField\n                    id='password'\n                    label='Šifra'\n                    type={showPassword ? 'text' : 'password'}\n                    fullWidth\n                    required\n                    variant='standard'\n                    {...register('password')}\n                    error={errors.password ? true : false}\n                    InputProps={{\n                      endAdornment: (\n                        <InputAdornment position='end'>\n                          <IconButton\n                            aria-label='toggle password visibility'\n                            onClick={() => setShowPassword(!showPassword)}\n                          >\n                            {showPassword ? (\n                              <Visibility\n                                style={{\n                                  color: '#393E46',\n                                }}\n                              />\n                            ) : (\n                              <VisibilityOff\n                                style={{\n                                  color: '#393E46',\n                                }}\n                              />\n                            )}\n                          </IconButton>\n                        </InputAdornment>\n                      ),\n                    }}\n                  />\n                </Box>\n                <Typography\n                  variant='inherit'\n                  color='red'\n                  sx={{\n                    textAlign: 'left',\n                    marginLeft: 4,\n                    font: '12px Roboto',\n                  }}\n                >\n                  {errors.password?.message}\n                </Typography>\n              </Grid>\n            </div>\n            <Button\n              variant='contained'\n              style={{\n                textTransform: 'none',\n                fontWeight: 'bold',\n                // backgroundImage: `linear-gradient(to bottom right, #D0F2FF, #1890FF)`,\n                backgroundColor: '#393E46',\n                color: '#fff',\n                width: '75%',\n                height: '10%',\n                marginTop: -50,\n                marginBottom: 100,\n              }}\n              onClick={handleSubmit(handleLogin)}\n              type='submit'\n            >\n              Prijava\n            </Button>\n          </form>\n          <div>\n            <p\n              className='forgotPassBtn'\n              onClick={() => setIsForgotPasswordModalOpen(true)}\n            >\n              Zaboravljena šifra?\n            </p>\n            <p className='registrationBtn'>\n              Postanite korisnik,\n              <NavLink\n                to='/registracija'\n                style={{\n                  textDecoration: 'none',\n                  color: 'black',\n                }}\n              >\n                <strong> Registrujte se</strong>\n              </NavLink>\n            </p>\n          </div>\n        </div>\n        {isForgotPasswordModalOpen && (\n          <ForgotPasswordModal\n            visible={isForgotPasswordModalOpen}\n            onClose={() => setIsForgotPasswordModalOpen(false)}\n            onOpenAlert={showResetPasswordAlertHandler}\n          />\n        )}\n      </Grid>\n    </div>\n  );\n}\n\nexport default Login;\n","export default __webpack_public_path__ + \"static/media/femaleLogo.73a228dc.png\";","export default __webpack_public_path__ + \"static/media/maleLogo.0818dc99.png\";","export default __webpack_public_path__ + \"static/media/blackLogo.d214f1df.png\";","import React from 'react';\nimport { useSelector } from 'react-redux';\nimport { NavLink } from 'react-router-dom';\nimport { Drawer, Divider, Grid } from '@mui/material';\nimport { History, Timeline, Home, DocumentScanner } from '@mui/icons-material';\nimport logo from '../../assets/blackLogo.png';\nimport './style.css';\n\nfunction MenuDrawer(props) {\n    const currentUser = useSelector((state) => state.auth.currentUser);\n\n    const closeDrawerOnSelectLink = () => {\n        props.onClose();\n    };\n\n    const list = () => (\n        <div role='presentation'>\n            <NavLink\n                to='/'\n                className={({ isActive }) =>\n                    isActive ? 'menuRow active' : 'menuRow'\n                }\n                onClick={closeDrawerOnSelectLink}\n            >\n                <div className='menuRow'>\n                    <Home className='material-icons' />\n                    <h4>Početna</h4>\n                </div>\n            </NavLink>\n            {(currentUser.role === 'reader' ||\n                currentUser.role === 'editor') && (\n                <NavLink\n                    to='/historijapregleda'\n                    className={({ isActive }) =>\n                        isActive ? 'menuRow active' : 'menuRow'\n                    }\n                    onClick={closeDrawerOnSelectLink}\n                >\n                    <div className='menuRow'>\n                        <History className='material-icons' />\n                        <h4>Historija pregleda</h4>\n                    </div>\n                </NavLink>\n            )}\n            {(currentUser.role === 'admin' ||\n                currentUser.role === 'editor') && (\n                <NavLink\n                    to='/statistika'\n                    className={({ isActive }) =>\n                        isActive ? 'menuRow active' : 'menuRow'\n                    }\n                    onClick={closeDrawerOnSelectLink}\n                >\n                    <div className='menuRow'>\n                        <Timeline className='material-icons' />\n                        <h4>Statistika</h4>\n                    </div>\n                </NavLink>\n            )}\n            {currentUser.role === 'admin' && (\n                <NavLink\n                    to='/dokumenti'\n                    className={({ isActive }) =>\n                        isActive ? 'menuRow active' : 'menuRow'\n                    }\n                    onClick={closeDrawerOnSelectLink}\n                >\n                    <div className='menuRow'>\n                        <DocumentScanner className='material-icons' />\n                        <h4>Dokumenti</h4>\n                    </div>\n                </NavLink>\n            )}\n\n            <Divider light={true} variant='middle' sx={{ marginTop: 1 }} />\n        </div>\n    );\n    return (\n        <div>\n            <Drawer\n                anchor='left'\n                open={props.visible}\n                onClose={props.onClose}\n                sx={{ width: 500 }}\n                className='drawerContent'\n            >\n                <div className='profile__avatar'>\n                    <img alt='logo' src={logo} />\n                    <h5 className='headingDrawer'>Digitalna biblioteka</h5>\n                    <div className='currentUserDrawer'>\n                        <h4 className='userName'>{`${currentUser?.firstName} ${currentUser?.lastName}`}</h4>\n                        <h4 className='userEmail'>{currentUser.email}</h4>\n                    </div>\n                </div>\n                <Divider\n                    light={true}\n                    variant='middle'\n                    sx={{ marginBottom: 1 }}\n                />\n                {list()}\n                <div className='footerContent'>\n                    <Grid container justifyContent='center'>\n                        <h4\n                            style={{ width: 170, color: 'grey' }}\n                            className='signature'\n                        >\n                            Digitalna Biblioteka ©2022 Developed by General IT\n                            and Software Solutions d.o.o. Sarajevo\n                        </h4>\n                    </Grid>\n                </div>\n            </Drawer>\n        </div>\n    );\n}\n\nexport default MenuDrawer;\n","import { createSlice } from '@reduxjs/toolkit';\n\nconst initialDocsState = {\n    isSearchStarted: false,\n    searchQuery: '',\n    allDocs: [],\n};\n\nconst docsSlice = createSlice({\n    name: 'docs',\n    initialState: initialDocsState,\n    reducers: {\n        startSearch(state, action) {\n            state.isSearchStarted = true;\n            state.searchQuery = action.payload;\n        },\n    },\n});\n\nexport const docsActions = docsSlice.actions;\n\nexport default docsSlice.reducer;\n","import React, { useState } from 'react';\nimport { useDispatch } from 'react-redux';\nimport { useNavigate } from 'react-router-dom';\nimport { docsActions } from '../../store/docs';\nimport { styled } from '@mui/material/styles';\nimport {\n    Input,\n    Slide,\n    Button,\n    InputAdornment,\n    ClickAwayListener,\n    IconButton,\n} from '@mui/material';\nimport { makeStyles } from '@mui/styles';\nimport { Search } from '@mui/icons-material';\n\nconst SearchbarStyle = styled('div')(() => ({\n    top: 0,\n    left: 0,\n    zIndex: 99,\n    width: '100%',\n    display: 'flex',\n    position: 'absolute',\n    alignItems: 'center',\n    height: 64,\n    backdropFilter: 'blur(6px)',\n    WebkitBackdropFilter: 'blur(6px)', // Fix on Mobile\n}));\n\nconst useStyles = makeStyles(() => ({\n    textFieldSearchIcon: {\n        marginLeft: 30,\n        '@media (max-width: 1280px)': {\n            marginLeft: 80,\n        },\n    },\n    searchBtn: {\n        marginRight: 10,\n        textTransform: 'none',\n        fontWeight: 'bold',\n    },\n}));\n\nexport default function Searchbar() {\n    const [isOpen, setOpen] = useState(false);\n    const [searchQuery, setSearchQuery] = useState('');\n\n    const dispatch = useDispatch();\n    const navigate = useNavigate();\n\n    const classes = useStyles();\n\n    const handleOpen = () => {\n        setOpen((prev) => !prev);\n    };\n\n    const handleClose = () => {\n        setOpen(false);\n    };\n\n    const handleChangeSearch = (e) => {\n        setSearchQuery(e.target.value);\n    };\n\n    const searchHandler = async (e) => {\n        if (e.key === 'Enter' || e.type === 'click') {\n            dispatch(docsActions.startSearch(searchQuery));\n            navigate('/pretraga');\n            handleClose();\n        }\n    };\n\n    return (\n        <ClickAwayListener onClickAway={handleClose}>\n            <div>\n                {!isOpen && (\n                    <IconButton onClick={handleOpen}>\n                        <Search />\n                    </IconButton>\n                )}\n\n                <Slide direction='down' in={isOpen} mountOnEnter unmountOnExit>\n                    <SearchbarStyle>\n                        <Input\n                            autoFocus\n                            fullWidth\n                            disableUnderline\n                            placeholder='Pretraga…'\n                            startAdornment={\n                                <InputAdornment position='start'>\n                                    <Search />\n                                </InputAdornment>\n                            }\n                            className={classes.textFieldSearchIcon}\n                            onChange={handleChangeSearch}\n                            onKeyDown={searchHandler}\n                        />\n                        <Button\n                            variant='contained'\n                            className={classes.searchBtn}\n                            onClick={searchHandler}\n                        >\n                            Pretraži\n                        </Button>\n                    </SearchbarStyle>\n                </Slide>\n            </div>\n        </ClickAwayListener>\n    );\n}\n","import { format } from 'date-fns';\n\nexport function formatDate(date) {\n    return format(new Date(date), 'dd/MM/yyyy');\n}\n\nexport function formatDateTime(date) {\n    return format(new Date(date), 'dd.MM.yyyy - HH:mm');\n}\n\n// export function fDateTimeSuffix(date) {\n//     return format(new Date(date), 'dd/MM/yyyy hh:mm p');\n// }\n\n// export function fToNow(date) {\n//     return formatDistanceToNow(new Date(date), {\n//         addSuffix: true,\n//     });\n// }\n","import { createSlice } from '@reduxjs/toolkit';\n\nconst initialRequestsState = {\n    allRequests: [],\n    isRequestModalVisible: false,\n    selectedRequest: {},\n};\n\nconst requestsSlice = createSlice({\n    name: 'requests',\n    initialState: initialRequestsState,\n    reducers: {\n        setAllRequests(state, action) {\n            state.allRequests = action.payload;\n        },\n        setRequestModalVisible(state) {\n            state.isRequestModalVisible = true;\n        },\n        setSelectedRequest(state, action) {\n            state.selectedRequest = action.payload;\n        },\n        resetInitialState(state) {\n            state.isRequestModalVisible = false;\n            state.selectedRequest = {};\n        },\n    },\n});\n\nexport const requestsActions = requestsSlice.actions;\n\nexport default requestsSlice.reducer;\n","import React from 'react';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { useNavigate } from 'react-router-dom';\nimport { DoneAll, AccessTime, Notifications } from '@mui/icons-material';\nimport {\n    Divider,\n    Box,\n    Typography,\n    Tooltip,\n    IconButton,\n    List,\n    ListSubheader,\n    ListItemAvatar,\n    useMediaQuery,\n    ListItemButton,\n    ListItemText,\n    Button,\n    Popover,\n} from '@mui/material';\nimport { alpha } from '@mui/material/styles';\nimport { formatDateTime } from '../../utilities/formatDate';\nimport { requestsActions } from '../../store/requests';\n\nfunction renderContent(notification) {\n    const documentName = (\n        <Typography variant='subtitle2'>\n            {notification.documentName}\n            <Typography\n                // component='span'\n                variant='body2'\n                sx={{\n                    color: 'text.secondary',\n                    textOverflow: 'ellipsis',\n                    whiteSpace: 'nowrap',\n                    overflow: 'hidden',\n                    maxWidth: 300,\n                    width: 250,\n                }}\n            >\n                {notification.heading}\n            </Typography>\n        </Typography>\n    );\n\n    return {\n        icon: <DoneAll color='success' />,\n        documentName,\n    };\n}\nfunction NotificationItem(props) {\n    const { icon, documentName } = renderContent(props);\n    const dispatch = useDispatch();\n\n    const openNotificationModal = (data) => {\n        dispatch(requestsActions.setRequestModalVisible());\n        dispatch(requestsActions.setSelectedRequest(data));\n    };\n\n    return (\n        <>\n            <ListItemButton\n                // to='#'\n                disableGutters\n                // component={RouterLink}\n                sx={{\n                    py: 1.5,\n                    px: 2.5,\n                    mt: '1px',\n                    backgroundColor: alpha('#919EAB', 0.16),\n                }}\n            >\n                <ListItemAvatar>\n                    <Tooltip title='Pogledati'>\n                        <IconButton\n                            onClick={() => {\n                                openNotificationModal(props);\n                                // props.onClose();\n                            }}\n                        >\n                            {icon}\n                        </IconButton>\n                    </Tooltip>\n                </ListItemAvatar>\n                <ListItemText\n                    primary={documentName}\n                    secondary={\n                        <>\n                            <Typography\n                                variant='caption'\n                                sx={{\n                                    mt: 0.5,\n                                    // ml: -0.5,\n                                    display: 'flex',\n                                    alignItems: 'center',\n                                    color: 'text.disabled',\n                                }}\n                            >\n                                {props.requestedBy}\n                            </Typography>\n                            <Typography\n                                variant='caption'\n                                sx={{\n                                    ml: -0.5,\n                                    display: 'flex',\n                                    alignItems: 'center',\n                                    color: 'text.disabled',\n                                }}\n                            >\n                                <AccessTime sx={{ mr: 0.5 }} />\n                                {formatDateTime(props.createdAt)}\n                            </Typography>\n                        </>\n                    }\n                />\n            </ListItemButton>\n        </>\n    );\n}\nexport default function NotificationsMenu(props) {\n    const allRequests = useSelector((state) => state.requests.allRequests);\n    const navigate = useNavigate();\n    const isMobileSmall = useMediaQuery('(max-width:414px)');\n\n    return (\n        <Popover\n            anchorEl={props.isOpen}\n            open={Boolean(props.isOpen)}\n            onClose={props.onClose}\n            // onClick={props.onClose}\n            PaperProps={{\n                elevation: 0,\n                sx: {\n                    overflow: 'visible',\n                    filter: 'drop-shadow(0px 2px 8px rgba(0,0,0,0.32))',\n                    mt: 1.5,\n                    '& .MuiAvatar-root': {\n                        width: 32,\n                        height: 32,\n                        ml: -0.5,\n                        mr: 1,\n                    },\n                    '&:before': {\n                        content: '\"\"',\n                        display: 'block',\n                        position: 'absolute',\n                        top: 0,\n                        right: isMobileSmall ? 40 : 14,\n                        width: 10,\n                        height: 10,\n                        bgcolor: 'background.paper',\n                        transform: 'translateY(-50%) rotate(45deg)',\n                        zIndex: 0,\n                    },\n                },\n            }}\n            transformOrigin={{\n                horizontal: 'right',\n                vertical: 'top',\n            }}\n            anchorOrigin={{\n                horizontal: 'right',\n                vertical: 'bottom',\n            }}\n        >\n            <Box sx={{ display: 'flex', alignItems: 'center', py: 2, px: 2.5 }}>\n                <Box sx={{ flexGrow: 1 }}>\n                    <Typography variant='subtitle1'>Notifikacije</Typography>\n                    <Typography\n                        variant='body2'\n                        sx={{ color: 'text.secondary' }}\n                    >\n                        Ukupno {allRequests.length}{' '}\n                        {allRequests.length > 1 || allRequests.length === 0\n                            ? `zahtjeva`\n                            : `zahtjev`}\n                    </Typography>\n                </Box>\n\n                <Notifications color='success' />\n            </Box>\n\n            <Divider />\n\n            <div>\n                <List\n                    disablePadding\n                    subheader={\n                        <ListSubheader\n                            disableSticky\n                            sx={{ py: 1, px: 2.5, typography: 'overline' }}\n                        >\n                            Zahtjevi\n                        </ListSubheader>\n                    }\n                >\n                    {allRequests.length > 0 ? (\n                        allRequests\n                            .slice(0, 3)\n                            .map((notification, index) => (\n                                <NotificationItem\n                                    key={index}\n                                    id={notification._id}\n                                    description={notification.reason}\n                                    heading={\n                                        notification.type === 'access'\n                                            ? 'Zahtjev za pregled dokumenta'\n                                            : 'Zahtjev za preuzimanje dokumenta'\n                                    }\n                                    documentName={\n                                        notification.document?.documentName\n                                    }\n                                    type={notification.type}\n                                    requestedBy={`${notification.user?.firstName} ${notification.user?.lastName}`}\n                                    userId={notification.user?._id}\n                                    docId={notification.document?._id}\n                                    createdAt={notification.createdAt}\n                                />\n                            ))\n                    ) : (\n                        <ListItemButton\n                            // to='#'\n                            disableGutters\n                            // component={RouterLink}\n                            sx={{\n                                py: 1.5,\n                                px: 2.5,\n                                mt: '1px',\n                                backgroundColor: alpha('#919EAB', 0.16),\n                            }}\n                        >\n                            <Typography\n                                variant='body2'\n                                sx={{\n                                    color: 'text.secondary',\n                                }}\n                            >\n                                Trenutno nema zahtjeva\n                            </Typography>\n                        </ListItemButton>\n                    )}\n                </List>\n            </div>\n            <Divider />\n\n            <Box sx={{ p: 1 }}>\n                <Button\n                    fullWidth\n                    disableRipple\n                    onClick={() => {\n                        navigate('/zahtjevi');\n                        props.onClose();\n                    }}\n                    sx={{ textTransform: 'none', fontWeight: 'bold' }}\n                >\n                    Pogledati sve\n                </Button>\n            </Box>\n        </Popover>\n    );\n}\n","import React, { useState } from 'react';\nimport { useSelector, useDispatch } from 'react-redux';\nimport { NavLink, useNavigate } from 'react-router-dom';\nimport {\n    MenuOpen,\n    Notifications,\n    ExpandMore,\n    PersonOutlined,\n    Logout,\n} from '@mui/icons-material';\nimport {\n    Menu,\n    MenuItem,\n    Divider,\n    ListItemIcon,\n    useMediaQuery,\n    Stack,\n    AppBar,\n    Box,\n    IconButton,\n    Toolbar,\n    Backdrop,\n    Snackbar,\n    Alert,\n    Badge,\n} from '@mui/material';\nimport { makeStyles } from '@mui/styles';\nimport { authActions } from '../../store/auth';\nimport femaleLogo from '../../assets/femaleLogo.png';\nimport maleLogo from '../../assets/maleLogo.png';\nimport MenuDrawer from '../MenuDrawer';\nimport './style.css';\nimport Service from '../../api/service';\nimport Loader from '../Loader';\nimport Searchbar from '../SearchBar';\nimport NotificationsMenu from '../NotificationsMenu';\n\nconst useStyles = makeStyles(() => ({\n    searchFieldButton: {\n        textTransform: 'none',\n        fontWeight: 'bold',\n    },\n    searchFieldIcon: {\n        marginRight: 10,\n    },\n    navbar: {\n        width: '85%',\n        position: 'fixed',\n        zIndex: 10,\n        backdropFilter: 'blur(10px)',\n        // boxShadow: '0 4px 10px -2px #ddd',\n        '@media (max-width: 1280px)': {\n            width: '100%',\n        },\n        backgroundColor: 'rgba(255, 255, 255, 0.5)',\n    },\n    navbarIcons: {\n        color: '#393e46;',\n        zIndex: 11,\n    },\n    searchField: {\n        width: '83%',\n        marginTop: 10,\n        padding: 10,\n        '@media (max-width: 1280px)': {\n            width: '98%',\n        },\n    },\n}));\n\nfunction Navbar() {\n    const [openMenu, setOpenMenu] = useState(null);\n    const [isDrawerOpen, setIsDrawerOpen] = useState(false);\n    const [isLoading, setIsLoading] = useState(false);\n    const [isAlertVisible, setIsAlertVisible] = useState(false);\n    const [errorMessage, setErrorMessage] = useState('');\n    const [openNotificationMenu, setOpenNotificationMenu] = useState(null);\n\n    const currentUser = useSelector((state) => state.auth.currentUser);\n    const allRequests = useSelector((state) => state.requests.allRequests);\n\n    const isTabletMobile = useMediaQuery('(max-width:1280px)');\n    const dispatch = useDispatch();\n    const navigate = useNavigate();\n\n    const classes = useStyles();\n\n    const openDrawerHandler = () => {\n        setIsDrawerOpen(true);\n    };\n\n    const closeDrawerHandler = () => {\n        setIsDrawerOpen(false);\n    };\n\n    const handleOpenMenu = (event) => {\n        setOpenMenu(event.currentTarget);\n    };\n\n    const handleCloseMenu = () => {\n        setOpenMenu(null);\n    };\n\n    const handleOpenNotificationMenu = (event) => {\n        setOpenNotificationMenu(event.currentTarget);\n    };\n\n    const handleCloseNotificationMenu = () => {\n        setOpenNotificationMenu(null);\n    };\n\n    const logoutHandler = () => {\n        setIsLoading(true);\n        Service.logout()\n            .then(() => {\n                localStorage.clear();\n                dispatch(authActions.logout());\n                navigate('/login');\n            })\n            .catch((err) => {\n                setErrorMessage(\n                    err.response\n                        ? 'Problem prilikom odjavljivanja'\n                        : 'Konekcija sa serverom nije uspostavljena'\n                );\n                setIsAlertVisible(true);\n            });\n        setIsLoading(false);\n    };\n\n    return (\n        <div>\n            {isLoading && (\n                <Backdrop\n                    sx={{\n                        color: '#fff',\n                        zIndex: (theme) => theme.zIndex.drawer + 1,\n                    }}\n                    open={isLoading}\n                >\n                    <Loader loaderColor={`black`} />\n                </Backdrop>\n            )}\n            {isAlertVisible && (\n                <Snackbar\n                    open={isAlertVisible}\n                    anchorOrigin={{\n                        vertical: 'top',\n                        horizontal: 'center',\n                    }}\n                    autoHideDuration={6000}\n                    onClose={() => setIsAlertVisible(false)}\n                >\n                    <Alert\n                        onClose={() => setIsAlertVisible(false)}\n                        severity='error'\n                        sx={{ width: '100%', font: '14px Roboto' }}\n                    >\n                        {errorMessage}\n                    </Alert>\n                </Snackbar>\n            )}\n            <Box sx={{ flexGrow: 1 }}>\n                <AppBar\n                    position='static'\n                    className={classes.navbar}\n                    elevation={0}\n                >\n                    <Toolbar>\n                        {isTabletMobile && (\n                            <IconButton\n                                size='large'\n                                edge='start'\n                                color='inherit'\n                                aria-label='open drawer'\n                                sx={{ mr: 2 }}\n                                onClick={openDrawerHandler}\n                            >\n                                <MenuOpen className={classes.navbarIcons} />\n                            </IconButton>\n                        )}\n                        <Searchbar />\n                        <Box sx={{ flexGrow: 1 }} />\n                        <Box>\n                            {(currentUser.role === 'editor' ||\n                                currentUser.role === 'admin') && (\n                                <>\n                                    <IconButton\n                                        size='large'\n                                        aria-label='show 17 new notifications'\n                                        color='inherit'\n                                        onClick={handleOpenNotificationMenu}\n                                    >\n                                        <Badge\n                                            badgeContent={allRequests?.length}\n                                            color='error'\n                                        >\n                                            <Notifications\n                                                className={classes.navbarIcons}\n                                            />\n                                        </Badge>\n                                    </IconButton>\n                                    <NotificationsMenu\n                                        isOpen={openNotificationMenu}\n                                        onClose={handleCloseNotificationMenu}\n                                    />\n                                </>\n                            )}\n                            <IconButton\n                                size='large'\n                                edge='end'\n                                aria-label='account of current user'\n                                aria-haspopup='true'\n                                color='inherit'\n                                onClick={handleOpenMenu}\n                            >\n                                <ExpandMore className={classes.navbarIcons} />\n                            </IconButton>\n                            <Menu\n                                anchorEl={openMenu}\n                                open={Boolean(openMenu)}\n                                onClose={handleCloseMenu}\n                                onClick={handleCloseMenu}\n                                PaperProps={{\n                                    elevation: 0,\n                                    sx: {\n                                        overflow: 'visible',\n                                        filter: 'drop-shadow(0px 2px 8px rgba(0,0,0,0.32))',\n                                        mt: 1.5,\n                                        '& .MuiAvatar-root': {\n                                            width: 32,\n                                            height: 32,\n                                            ml: -0.5,\n                                            mr: 1,\n                                        },\n                                        '&:before': {\n                                            content: '\"\"',\n                                            display: 'block',\n                                            position: 'absolute',\n                                            top: 0,\n                                            right: 14,\n                                            width: 10,\n                                            height: 10,\n                                            bgcolor: 'background.paper',\n                                            transform:\n                                                'translateY(-50%) rotate(45deg)',\n                                            zIndex: 0,\n                                        },\n                                    },\n                                }}\n                                transformOrigin={{\n                                    horizontal: 'right',\n                                    vertical: 'top',\n                                }}\n                                anchorOrigin={{\n                                    horizontal: 'right',\n                                    vertical: 'bottom',\n                                }}\n                            >\n                                <Stack\n                                    direction='row'\n                                    spacing={2}\n                                    justifyContent='center'\n                                >\n                                    <img\n                                        src={\n                                            currentUser?.gender === 'female'\n                                                ? femaleLogo\n                                                : maleLogo\n                                        }\n                                        alt='user avatar'\n                                        className='userAvatarNavMenu'\n                                    />\n                                    <div>\n                                        <p className='currentUserMenu'>\n                                            {currentUser?.firstName}{' '}\n                                            {currentUser?.lastName}\n                                        </p>\n                                        <p className='currentUserMenuEmail'>\n                                            {currentUser?.email}\n                                        </p>\n                                    </div>\n                                </Stack>\n\n                                <Divider />\n                                <NavLink\n                                    to='/profil'\n                                    style={{\n                                        color: 'black',\n                                        textDecoration: 'none',\n                                    }}\n                                >\n                                    <MenuItem style={{ height: 50 }}>\n                                        <ListItemIcon>\n                                            <PersonOutlined\n                                                sx={{ color: '#393e46' }}\n                                            />\n                                        </ListItemIcon>\n                                        Profil\n                                    </MenuItem>\n                                </NavLink>\n                                <MenuItem\n                                    onClick={logoutHandler}\n                                    style={{ height: 50 }}\n                                >\n                                    <ListItemIcon>\n                                        <Logout sx={{ color: '#393e46' }} />\n                                    </ListItemIcon>\n                                    Odjava\n                                </MenuItem>\n                            </Menu>\n                        </Box>\n                    </Toolbar>\n                </AppBar>\n            </Box>\n            {isDrawerOpen && (\n                <MenuDrawer\n                    visible={isDrawerOpen}\n                    onClose={closeDrawerHandler}\n                />\n            )}\n        </div>\n    );\n}\n\nexport default Navbar;\n","import React from 'react';\nimport { useSelector } from 'react-redux';\nimport { NavLink } from 'react-router-dom';\nimport { Home, History, Timeline, DocumentScanner } from '@mui/icons-material';\nimport logo from '../../assets/blackLogo.png';\nimport femaleLogo from '../../assets/femaleLogo.png';\nimport maleLogo from '../../assets/maleLogo.png';\nimport './style.css';\nimport { Stack } from '@mui/material';\n\nfunction Sidebar() {\n    const currentUser = useSelector((state) => state.auth.currentUser);\n\n    return (\n        <div className='sidebar'>\n            <img src={logo} alt='logo' className='logo' />\n            <h5 className='heading'>Digitalna biblioteka</h5>\n            <Stack\n                direction='row'\n                spacing={2}\n                justifyContent='center'\n                className='userNameIcon'\n            >\n                <img\n                    src={\n                        currentUser?.gender === 'female' ? femaleLogo : maleLogo\n                    }\n                    alt='user avatar'\n                    className='userAvatar'\n                />\n                <h4 className='currentUser'>{`${currentUser?.firstName} ${currentUser?.lastName}`}</h4>\n            </Stack>\n            <NavLink\n                to='/'\n                className={({ isActive }) =>\n                    isActive ? 'sidebarRow active' : 'sidebarRow'\n                }\n            >\n                <Home className='material-icons' />\n                <h5>Početna</h5>\n            </NavLink>\n\n            {(currentUser.role === 'reader' ||\n                currentUser.role === 'editor') && (\n                <NavLink\n                    to='/historijapregleda'\n                    className={({ isActive }) =>\n                        isActive ? 'sidebarRow active' : 'sidebarRow'\n                    }\n                >\n                    <History className='material-icons' />\n                    <h5>Historija pregleda</h5>\n                </NavLink>\n            )}\n            {(currentUser.role === 'admin' ||\n                currentUser.role === 'editor') && (\n                <NavLink\n                    to='/statistika'\n                    className={({ isActive }) =>\n                        isActive ? 'sidebarRow active' : 'sidebarRow'\n                    }\n                >\n                    <Timeline className='material-icons' />\n                    <h5>Statistika pretraživanja</h5>\n                </NavLink>\n            )}\n            {currentUser.role === 'admin' && (\n                <NavLink\n                    to='/dokumenti'\n                    className={({ isActive }) =>\n                        isActive ? 'sidebarRow active' : 'sidebarRow'\n                    }\n                >\n                    <DocumentScanner className='material-icons' />\n                    <h5>Dokumenti</h5>\n                </NavLink>\n            )}\n        </div>\n    );\n}\n\nexport default Sidebar;\n","import React from 'react';\nimport { Outlet } from 'react-router-dom';\nimport { useSelector } from 'react-redux';\nimport { Grid } from '@mui/material';\nimport Navbar from '../../components/Navbar';\nimport Sidebar from '../../components/Sidebar';\nimport './style.css';\n\nfunction ContentHome() {\n    const isUserLoggedIn = useSelector((state) => state.auth.isAuthenticated);\n    return (\n        <div>\n            <div className='mainHomeBody'>\n                <Sidebar />\n                <div className='dashboardBody'>\n                    {isUserLoggedIn && <Navbar />}\n                    <div className='contentBody'>\n                        <Outlet />\n                    </div>\n                    <div className='contentFooter'>\n                        <Grid container justifyContent='center'>\n                            <p>\n                                Digitalna Biblioteka ©2022 Developed by General\n                                IT and Software Solutions d.o.o. Sarajevo\n                            </p>\n                        </Grid>\n                    </div>\n                </div>\n            </div>\n        </div>\n    );\n}\n\nexport default ContentHome;\n","const countries = [\n    { code: 'AD', label: 'Andorra', phone: '+376' },\n    {\n        code: 'AE',\n        label: 'United Arab Emirates',\n        phone: '+971',\n    },\n    { code: 'AF', label: 'Afghanistan', phone: '+93' },\n    {\n        code: 'AG',\n        label: 'Antigua and Barbuda',\n        phone: '+1268',\n    },\n    { code: 'AI', label: 'Anguilla', phone: '+1264' },\n    { code: 'AL', label: 'Albania', phone: '+355' },\n    { code: 'AM', label: 'Armenia', phone: '+374' },\n    { code: 'AO', label: 'Angola', phone: '+244' },\n    { code: 'AQ', label: 'Antarctica', phone: '+672' },\n    { code: 'AR', label: 'Argentina', phone: '+54' },\n    { code: 'AS', label: 'American Samoa', phone: '+1684' },\n    { code: 'AT', label: 'Austria', phone: '+43' },\n    {\n        code: 'AU',\n        label: 'Australia',\n        phone: '+61',\n        suggested: true,\n    },\n    { code: 'AW', label: 'Aruba', phone: '+297' },\n    { code: 'AX', label: 'Alland Islands', phone: '+358' },\n    { code: 'AZ', label: 'Azerbaijan', phone: '+994' },\n    {\n        code: 'BA',\n        label: 'Bosnia and Herzegovina',\n        phone: '+387',\n    },\n    { code: 'BB', label: 'Barbados', phone: '+1246' },\n    { code: 'BD', label: 'Bangladesh', phone: '+880' },\n    { code: 'BE', label: 'Belgium', phone: '+32' },\n    { code: 'BF', label: 'Burkina Faso', phone: '+226' },\n    { code: 'BG', label: 'Bulgaria', phone: '+359' },\n    { code: 'BH', label: 'Bahrain', phone: '+973' },\n    { code: 'BI', label: 'Burundi', phone: '+257' },\n    { code: 'BJ', label: 'Benin', phone: '+229' },\n    { code: 'BL', label: 'Saint Barthelemy', phone: '+590' },\n    { code: 'BM', label: 'Bermuda', phone: '+1441' },\n    { code: 'BN', label: 'Brunei Darussalam', phone: '+673' },\n    { code: 'BO', label: 'Bolivia', phone: '+591' },\n    { code: 'BR', label: 'Brazil', phone: '+55' },\n    { code: 'BS', label: 'Bahamas', phone: '+1242' },\n    { code: 'BT', label: 'Bhutan', phone: '+975' },\n    { code: 'BV', label: 'Bouvet Island', phone: '+47' },\n    { code: 'BW', label: 'Botswana', phone: '+267' },\n    { code: 'BY', label: 'Belarus', phone: '+375' },\n    { code: 'BZ', label: 'Belize', phone: '+501' },\n    {\n        code: 'CA',\n        label: 'Canada',\n        phone: '+1',\n        suggested: true,\n    },\n    {\n        code: 'CC',\n        label: 'Cocos (Keeling) Islands',\n        phone: '+61',\n    },\n    {\n        code: 'CD',\n        label: 'Congo, Democratic Republic of the',\n        phone: '+243',\n    },\n    {\n        code: 'CF',\n        label: 'Central African Republic',\n        phone: '+236',\n    },\n    {\n        code: 'CG',\n        label: 'Congo, Republic of the',\n        phone: '+242',\n    },\n    { code: 'CH', label: 'Switzerland', phone: '+41' },\n    { code: 'CI', label: \"Cote d'Ivoire\", phone: '+225' },\n    { code: 'CK', label: 'Cook Islands', phone: '+682' },\n    { code: 'CL', label: 'Chile', phone: '+56' },\n    { code: 'CM', label: 'Cameroon', phone: '+237' },\n    { code: 'CN', label: 'China', phone: '+86' },\n    { code: 'CO', label: 'Colombia', phone: '+57' },\n    { code: 'CR', label: 'Costa Rica', phone: '+506' },\n    { code: 'CU', label: 'Cuba', phone: '+53' },\n    { code: 'CV', label: 'Cape Verde', phone: '+238' },\n    { code: 'CW', label: 'Curacao', phone: '+599' },\n    { code: 'CX', label: 'Christmas Island', phone: '+61' },\n    { code: 'CY', label: 'Cyprus', phone: '+357' },\n    { code: 'CZ', label: 'Czech Republic', phone: '+420' },\n    {\n        code: 'DE',\n        label: 'Germany',\n        phone: '+49',\n        suggested: true,\n    },\n    { code: 'DJ', label: 'Djibouti', phone: '+253' },\n    { code: 'DK', label: 'Denmark', phone: '+45' },\n    { code: 'DM', label: 'Dominica', phone: '+1767' },\n    {\n        code: 'DO',\n        label: 'Dominican Republic',\n        phone: '+1809',\n    },\n    { code: 'DZ', label: 'Algeria', phone: '+213' },\n    { code: 'EC', label: 'Ecuador', phone: '+593' },\n    { code: 'EE', label: 'Estonia', phone: '+372' },\n    { code: 'EG', label: 'Egypt', phone: '+20' },\n    { code: 'EH', label: 'Western Sahara', phone: '+212' },\n    { code: 'ER', label: 'Eritrea', phone: '+291' },\n    { code: 'ES', label: 'Spain', phone: '+34' },\n    { code: 'ET', label: 'Ethiopia', phone: '+251' },\n    { code: 'FI', label: 'Finland', phone: '+358' },\n    { code: 'FJ', label: 'Fiji', phone: '+679' },\n    {\n        code: 'FK',\n        label: 'Falkland Islands (Malvinas)',\n        phone: '+500',\n    },\n    {\n        code: 'FM',\n        label: 'Micronesia, Federated States of',\n        phone: '+691',\n    },\n    { code: 'FO', label: 'Faroe Islands', phone: '+298' },\n    {\n        code: 'FR',\n        label: 'France',\n        phone: '+33',\n        suggested: true,\n    },\n    { code: 'GA', label: 'Gabon', phone: '+241' },\n    { code: 'GB', label: 'United Kingdom', phone: '+44' },\n    { code: 'GD', label: 'Grenada', phone: '+1473' },\n    { code: 'GE', label: 'Georgia', phone: '+995' },\n    { code: 'GF', label: 'French Guiana', phone: '+594' },\n    { code: 'GG', label: 'Guernsey', phone: '+44' },\n    { code: 'GH', label: 'Ghana', phone: '+233' },\n    { code: 'GI', label: 'Gibraltar', phone: '+350' },\n    { code: 'GL', label: 'Greenland', phone: '+299' },\n    { code: 'GM', label: 'Gambia', phone: '+220' },\n    { code: 'GN', label: 'Guinea', phone: '+224' },\n    { code: 'GP', label: 'Guadeloupe', phone: '+590' },\n    { code: 'GQ', label: 'Equatorial Guinea', phone: '+240' },\n    { code: 'GR', label: 'Greece', phone: '+30' },\n    {\n        code: 'GS',\n        label: 'South Georgia and the South Sandwich Islands',\n        phone: '+500',\n    },\n    { code: 'GT', label: 'Guatemala', phone: '+502' },\n    { code: 'GU', label: 'Guam', phone: '+1671' },\n    { code: 'GW', label: 'GuineaBissau', phone: '+245' },\n    { code: 'GY', label: 'Guyana', phone: '+592' },\n    { code: 'HK', label: 'Hong Kong', phone: '+852' },\n    {\n        code: 'HM',\n        label: 'Heard Island and McDonald Islands',\n        phone: '+672',\n    },\n    { code: 'HN', label: 'Honduras', phone: '+504' },\n    { code: 'HR', label: 'Croatia', phone: '+385' },\n    { code: 'HT', label: 'Haiti', phone: '+509' },\n    { code: 'HU', label: 'Hungary', phone: '+36' },\n    { code: 'ID', label: 'Indonesia', phone: '+62' },\n    { code: 'IE', label: 'Ireland', phone: '+353' },\n    { code: 'IL', label: 'Israel', phone: '+972' },\n    { code: 'IM', label: 'Isle of Man', phone: '+44' },\n    { code: 'IN', label: 'India', phone: '+91' },\n    {\n        code: 'IO',\n        label: 'British Indian Ocean Territory',\n        phone: '+246',\n    },\n    { code: 'IQ', label: 'Iraq', phone: '+964' },\n    {\n        code: 'IR',\n        label: 'Iran, Islamic Republic of',\n        phone: '+98',\n    },\n    { code: 'IS', label: 'Iceland', phone: '+354' },\n    { code: 'IT', label: 'Italy', phone: '+39' },\n    { code: 'JE', label: 'Jersey', phone: '+44' },\n    { code: 'JM', label: 'Jamaica', phone: '+1876' },\n    { code: 'JO', label: 'Jordan', phone: '+962' },\n    {\n        code: 'JP',\n        label: 'Japan',\n        phone: '+81',\n        suggested: true,\n    },\n    { code: 'KE', label: 'Kenya', phone: '+254' },\n    { code: 'KG', label: 'Kyrgyzstan', phone: '+996' },\n    { code: 'KH', label: 'Cambodia', phone: '+855' },\n    { code: 'KI', label: 'Kiribati', phone: '+686' },\n    { code: 'KM', label: 'Comoros', phone: '+269' },\n    {\n        code: 'KN',\n        label: 'Saint Kitts and Nevis',\n        phone: '+1869',\n    },\n    {\n        code: 'KP',\n        label: \"Korea, Democratic People's Republic of\",\n        phone: '+850',\n    },\n    { code: 'KR', label: 'Korea, Republic of', phone: '+82' },\n    { code: 'KW', label: 'Kuwait', phone: '+965' },\n    { code: 'KY', label: 'Cayman Islands', phone: '+1345' },\n    { code: 'KZ', label: 'Kazakhstan', phone: '+7' },\n    {\n        code: 'LA',\n        label: \"Lao People's Democratic Republic\",\n        phone: '+856',\n    },\n    { code: 'LB', label: 'Lebanon', phone: '+961' },\n    { code: 'LC', label: 'Saint Lucia', phone: '+1758' },\n    { code: 'LI', label: 'Liechtenstein', phone: '+423' },\n    { code: 'LK', label: 'Sri Lanka', phone: '+94' },\n    { code: 'LR', label: 'Liberia', phone: '+231' },\n    { code: 'LS', label: 'Lesotho', phone: '+266' },\n    { code: 'LT', label: 'Lithuania', phone: '+370' },\n    { code: 'LU', label: 'Luxembourg', phone: '+352' },\n    { code: 'LV', label: 'Latvia', phone: '+371' },\n    { code: 'LY', label: 'Libya', phone: '+218' },\n    { code: 'MA', label: 'Morocco', phone: '+212' },\n    { code: 'MC', label: 'Monaco', phone: '+377' },\n    {\n        code: 'MD',\n        label: 'Moldova, Republic of',\n        phone: '+373',\n    },\n    { code: 'ME', label: 'Montenegro', phone: '+382' },\n    {\n        code: 'MF',\n        label: 'Saint Martin (French part)',\n        phone: '+590',\n    },\n    { code: 'MG', label: 'Madagascar', phone: '+261' },\n    { code: 'MH', label: 'Marshall Islands', phone: '+692' },\n    {\n        code: 'MK',\n        label: 'Macedonia, the Former Yugoslav Republic of',\n        phone: '+389',\n    },\n    { code: 'ML', label: 'Mali', phone: '+223' },\n    { code: 'MM', label: 'Myanmar', phone: '+95' },\n    { code: 'MN', label: 'Mongolia', phone: '+976' },\n    { code: 'MO', label: 'Macao', phone: '+853' },\n    {\n        code: 'MP',\n        label: 'Northern Mariana Islands',\n        phone: '+1670',\n    },\n    { code: 'MQ', label: 'Martinique', phone: '+596' },\n    { code: 'MR', label: 'Mauritania', phone: '+222' },\n    { code: 'MS', label: 'Montserrat', phone: '+1664' },\n    { code: 'MT', label: 'Malta', phone: '+356' },\n    { code: 'MU', label: 'Mauritius', phone: '+230' },\n    { code: 'MV', label: 'Maldives', phone: '+960' },\n    { code: 'MW', label: 'Malawi', phone: '+265' },\n    { code: 'MX', label: 'Mexico', phone: '+52' },\n    { code: 'MY', label: 'Malaysia', phone: '+60' },\n    { code: 'MZ', label: 'Mozambique', phone: '+258' },\n    { code: 'NA', label: 'Namibia', phone: '+264' },\n    { code: 'NC', label: 'New Caledonia', phone: '+687' },\n    { code: 'NE', label: 'Niger', phone: '+227' },\n    { code: 'NF', label: 'Norfolk Island', phone: '+672' },\n    { code: 'NG', label: 'Nigeria', phone: '+234' },\n    { code: 'NI', label: 'Nicaragua', phone: '+505' },\n    { code: 'NL', label: 'Netherlands', phone: '+31' },\n    { code: 'NO', label: 'Norway', phone: '+47' },\n    { code: 'NP', label: 'Nepal', phone: '+977' },\n    { code: 'NR', label: 'Nauru', phone: '+674' },\n    { code: 'NU', label: 'Niue', phone: '+683' },\n    { code: 'NZ', label: 'New Zealand', phone: '+64' },\n    { code: 'OM', label: 'Oman', phone: '+968' },\n    { code: 'PA', label: 'Panama', phone: '+507' },\n    { code: 'PE', label: 'Peru', phone: '+51' },\n    { code: 'PF', label: 'French Polynesia', phone: '+689' },\n    { code: 'PG', label: 'Papua New Guinea', phone: '+675' },\n    { code: 'PH', label: 'Philippines', phone: '+63' },\n    { code: 'PK', label: 'Pakistan', phone: '+92' },\n    { code: 'PL', label: 'Poland', phone: '+48' },\n    {\n        code: 'PM',\n        label: 'Saint Pierre and Miquelon',\n        phone: '+508',\n    },\n    { code: 'PN', label: 'Pitcairn', phone: '+870' },\n    { code: 'PR', label: 'Puerto Rico', phone: '+1' },\n    {\n        code: 'PS',\n        label: 'Palestine, State of',\n        phone: '+970',\n    },\n    { code: 'PT', label: 'Portugal', phone: '+351' },\n    { code: 'PW', label: 'Palau', phone: '+680' },\n    { code: 'PY', label: 'Paraguay', phone: '+595' },\n    { code: 'QA', label: 'Qatar', phone: '+974' },\n    { code: 'RE', label: 'Reunion', phone: '+262' },\n    { code: 'RO', label: 'Romania', phone: '+40' },\n    { code: 'RS', label: 'Serbia', phone: '+381' },\n    { code: 'RU', label: 'Russian Federation', phone: '+7' },\n    { code: 'RW', label: 'Rwanda', phone: '+250' },\n    { code: 'SA', label: 'Saudi Arabia', phone: '+966' },\n    { code: 'SB', label: 'Solomon Islands', phone: '+677' },\n    { code: 'SC', label: 'Seychelles', phone: '+248' },\n    { code: 'SD', label: 'Sudan', phone: '+249' },\n    { code: 'SE', label: 'Sweden', phone: '+46' },\n    { code: 'SG', label: 'Singapore', phone: '+65' },\n    { code: 'SH', label: 'Saint Helena', phone: '+290' },\n    { code: 'SI', label: 'Slovenia', phone: '+386' },\n    {\n        code: 'SJ',\n        label: 'Svalbard and Jan Mayen',\n        phone: '+47',\n    },\n    { code: 'SK', label: 'Slovakia', phone: '+421' },\n    { code: 'SL', label: 'Sierra Leone', phone: '+232' },\n    { code: 'SM', label: 'San Marino', phone: '+378' },\n    { code: 'SN', label: 'Senegal', phone: '+221' },\n    { code: 'SO', label: 'Somalia', phone: '+252' },\n    { code: 'SR', label: 'Suriname', phone: '+597' },\n    { code: 'SS', label: 'South Sudan', phone: '+211' },\n    {\n        code: 'ST',\n        label: 'Sao Tome and Principe',\n        phone: '+239',\n    },\n    { code: 'SV', label: 'El Salvador', phone: '+503' },\n    {\n        code: 'SX',\n        label: 'Sint Maarten (Dutch part)',\n        phone: '+1721',\n    },\n    {\n        code: 'SY',\n        label: 'Syrian Arab Republic',\n        phone: '+963',\n    },\n    { code: 'SZ', label: 'Swaziland', phone: '+268' },\n    {\n        code: 'TC',\n        label: 'Turks and Caicos Islands',\n        phone: '+1649',\n    },\n    { code: 'TD', label: 'Chad', phone: '+235' },\n    {\n        code: 'TF',\n        label: 'French Southern Territories',\n        phone: '+262',\n    },\n    { code: 'TG', label: 'Togo', phone: '+228' },\n    { code: 'TH', label: 'Thailand', phone: '+66' },\n    { code: 'TJ', label: 'Tajikistan', phone: '+992' },\n    { code: 'TK', label: 'Tokelau', phone: '+690' },\n    { code: 'TL', label: 'TimorLeste', phone: '+670' },\n    { code: 'TM', label: 'Turkmenistan', phone: '+993' },\n    { code: 'TN', label: 'Tunisia', phone: '+216' },\n    { code: 'TO', label: 'Tonga', phone: '+676' },\n    { code: 'TR', label: 'Turkey', phone: '+90' },\n    {\n        code: 'TT',\n        label: 'Trinidad and Tobago',\n        phone: '+1868',\n    },\n    { code: 'TV', label: 'Tuvalu', phone: '+688' },\n    {\n        code: 'TW',\n        label: 'Taiwan, Province of China',\n        phone: '+886',\n    },\n    {\n        code: 'TZ',\n        label: 'United Republic of Tanzania',\n        phone: '+255',\n    },\n    { code: 'UA', label: 'Ukraine', phone: '+380' },\n    { code: 'UG', label: 'Uganda', phone: '+256' },\n    {\n        code: 'US',\n        label: 'United States',\n        phone: '+1',\n        suggested: true,\n    },\n    { code: 'UY', label: 'Uruguay', phone: '+598' },\n    { code: 'UZ', label: 'Uzbekistan', phone: '+998' },\n    {\n        code: 'VA',\n        label: 'Holy See (Vatican City State)',\n        phone: '+379',\n    },\n    {\n        code: 'VC',\n        label: 'Saint Vincent and the Grenadines',\n        phone: '+1784',\n    },\n    { code: 'VE', label: 'Venezuela', phone: '+58' },\n    {\n        code: 'VG',\n        label: 'British Virgin Islands',\n        phone: '+1284',\n    },\n    {\n        code: 'VI',\n        label: 'US Virgin Islands',\n        phone: '+1340',\n    },\n    { code: 'VN', label: 'Vietnam', phone: '+84' },\n    { code: 'VU', label: 'Vanuatu', phone: '+678' },\n    { code: 'WF', label: 'Wallis and Futuna', phone: '+681' },\n    { code: 'WS', label: 'Samoa', phone: '+685' },\n    { code: 'XK', label: 'Kosovo', phone: '+383' },\n    { code: 'YE', label: 'Yemen', phone: '+967' },\n    { code: 'YT', label: 'Mayotte', phone: '+262' },\n    { code: 'ZA', label: 'South Africa', phone: '+27' },\n    { code: 'ZM', label: 'Zambia', phone: '+260' },\n    { code: 'ZW', label: 'Zimbabwe', phone: '+263' },\n];\nexport default countries;\n","import React, { useState } from 'react';\nimport { NavLink } from 'react-router-dom';\nimport {\n    Grid,\n    TextField,\n    Button,\n    InputAdornment,\n    IconButton,\n    Box,\n    Radio,\n    RadioGroup,\n    FormControlLabel,\n    FormControl,\n    FormLabel,\n    Autocomplete,\n    Stack,\n    Typography,\n    Alert,\n    AlertTitle,\n    Backdrop,\n} from '@mui/material';\nimport {\n    Person,\n    Lock,\n    Visibility,\n    VisibilityOff,\n    Email,\n    Phone,\n    Public,\n    Work,\n    FindInPage,\n    Event,\n    Wc,\n    HighlightOff,\n} from '@mui/icons-material';\nimport { DatePicker, LocalizationProvider } from '@mui/lab';\nimport AdapterDateFns from '@mui/lab/AdapterDateFns';\nimport './style.css';\nimport logo from '../../assets/whiteLogo.svg';\nimport countries from '../../utilities/countries';\nimport MuiPhoneNumber from 'material-ui-phone-number';\nimport { Controller, useForm } from 'react-hook-form';\nimport { yupResolver } from '@hookform/resolvers/yup';\nimport * as Yup from 'yup';\nimport Service from '../../api/service';\nimport Loader from '../../components/Loader';\n\nfunction Signup() {\n    const [showPassword, setShowPassword] = useState(false);\n    const [isLoading, setIsLoading] = useState(false);\n    const [errorMessage, setErrorMessage] = useState('');\n    const [isAlertVisible, setIsAlertVisible] = useState(false);\n    const [\n        isValidationProfileAlertVisible,\n        setIsValidationProfileAlertVisible,\n    ] = useState(false);\n    const [validationProfileMessage, setValidationProfileMessage] =\n        useState('');\n\n    const validationSchema = Yup.object().shape({\n        firstName: Yup.string().required('Ime je obavezno'),\n        lastName: Yup.string().required('Prezime je obavezno'),\n        email: Yup.string()\n            .required('Email je obavezan')\n            .email('Email nije validan'),\n        password: Yup.string()\n            .required('Šifra je obavezna')\n            .max(24, 'Šifra može da sadrži maximalno 24 karaktera')\n            .matches(\n                /^.*(?=.{8,})((?=.*[!@#$%^&*()\\-_=+{};:,<.>]){1})(?=.*\\d)((?=.*[a-z]){1})((?=.*[A-Z]){1}).*$/,\n                'Šifra mora da sadrži najmanje 8 karaktera, jedno veliko, jedno malo slovo, jedan broj i jedan simbol'\n            ),\n        phoneNumber: Yup.string()\n            .required('Broj telefona je obavezan')\n            .min(10, 'Nedovoljan broj karaktera'),\n        dob: Yup.date().required('Datum rođenja je obavezan'),\n        gender: Yup.string().required('Spol je obavezan'),\n        country: Yup.string().required('Država je obavezna'),\n        organization: Yup.string(),\n        registrationPurpose: Yup.string().required(\n            'Svrha istrživanja je obavezna'\n        ),\n    });\n\n    const {\n        register,\n        control,\n        handleSubmit,\n        reset,\n        formState: { errors },\n    } = useForm({\n        resolver: yupResolver(validationSchema),\n        defaultValues: {\n            firstName: '',\n            lastName: '',\n            email: '',\n            password: '',\n            phoneNumber: '',\n            dob: null,\n            gender: '',\n            country: '',\n            organization: '',\n            registrationPurpose: '',\n        },\n    });\n    const handleSignup = async (userValues, e) => {\n        setIsLoading(true);\n        await Service.signup(userValues)\n            .then((res) => {\n                setIsValidationProfileAlertVisible(true);\n                setValidationProfileMessage(res.data.message);\n                reset();\n            })\n            .catch((err) => {\n                setErrorMessage(\n                    err.response\n                        ? err.response.data.message\n                        : 'Konekcija sa serverom nije uspostavljena, pokušajte da osjvežite aplikaciju ili nas kontaktirajte putem info maila.'\n                );\n                setIsAlertVisible(true);\n            });\n        setIsLoading(false);\n    };\n\n    return (\n        <div>\n            <div className='validationProfileAlert'>\n                {isValidationProfileAlertVisible && (\n                    <Alert\n                        severity='success'\n                        action={\n                            <HighlightOff\n                                onClick={() =>\n                                    setIsValidationProfileAlertVisible(false)\n                                }\n                                style={{ cursor: 'pointer' }}\n                            />\n                        }\n                        sx={{ font: '14px Roboto' }}\n                    >\n                        {validationProfileMessage}\n                    </Alert>\n                )}\n            </div>\n            <h2 className='headingSignup'>Digitalna biblioteka</h2>\n            <Backdrop\n                sx={{\n                    color: '#fff',\n                    zIndex: (theme) => theme.zIndex.drawer + 1,\n                }}\n                open={isLoading}\n            >\n                <Loader />\n            </Backdrop>\n            <Grid\n                container\n                justifyContent='center'\n                alignItems='center'\n                sx={{\n                    maxWidth: 600,\n                    margin: '50px auto',\n                    WebkitBoxShadow: '-1px -1px 8px -1px rgba(0, 0, 0, 0.52)',\n                    MozBoxShadow: '-1px -1px 8px -1px rgba(0, 0, 0, 0.52)',\n                    boxShadow: '-1px -1px 8px -1px rgba(0, 0, 0, 0.52)',\n                    borderRadius: 3,\n                }}\n            >\n                <div className='signupContent' sx={{ paddingBottom: 150 }}>\n                    <form>\n                        <div className='upperBoxSignup'>\n                            <h4>Registracija</h4>\n                            <img\n                                src={logo}\n                                style={{\n                                    justifyContent: 'center',\n                                    alignItems: 'center',\n                                }}\n                                alt='logo'\n                            />\n                        </div>\n\n                        <div className='formFieldsBoxSignup'>\n                            {isAlertVisible && (\n                                <Alert\n                                    severity='error'\n                                    action={\n                                        <HighlightOff\n                                            onClick={() =>\n                                                setIsAlertVisible(false)\n                                            }\n                                            style={{ cursor: 'pointer' }}\n                                        />\n                                    }\n                                    style={{ marginBottom: 15 }}\n                                >\n                                    <AlertTitle>Greška</AlertTitle>\n                                    {errorMessage} —{' '}\n                                    <strong> Pokušajte ponovo !</strong>\n                                </Alert>\n                            )}\n                            <Grid\n                                container\n                                spacing={2}\n                                columns={16}\n                                sx={{ padding: 1 }}\n                            >\n                                <Grid item xs={16} sm={8}>\n                                    <Box\n                                        sx={{\n                                            display: 'flex',\n                                            alignItems: 'flex-end',\n                                        }}\n                                    >\n                                        <Person\n                                            sx={{\n                                                color: '#393E46',\n                                                mr: 1,\n                                                my: 0.5,\n                                            }}\n                                        />\n                                        <TextField\n                                            id='firstName'\n                                            label='Ime'\n                                            type='text'\n                                            fullWidth\n                                            required\n                                            variant='standard'\n                                            {...register('firstName')}\n                                            error={\n                                                errors.firstName ? true : false\n                                            }\n                                        />\n                                    </Box>\n                                    <Typography\n                                        variant='inherit'\n                                        color='red'\n                                        sx={{\n                                            marginLeft: 4,\n                                            font: '12px Roboto',\n                                        }}\n                                    >\n                                        {errors.firstName?.message}\n                                    </Typography>\n                                </Grid>\n                                <Grid item xs={16} sm={8}>\n                                    <Box\n                                        sx={{\n                                            display: 'flex',\n                                            alignItems: 'flex-end',\n                                        }}\n                                    >\n                                        <Person\n                                            sx={{\n                                                color: '#393E46',\n                                                mr: 1,\n                                                my: 0.5,\n                                            }}\n                                        />\n                                        <TextField\n                                            id='lastName'\n                                            label='Prezime'\n                                            type='text'\n                                            fullWidth\n                                            required\n                                            variant='standard'\n                                            {...register('lastName')}\n                                            error={\n                                                errors.lastName ? true : false\n                                            }\n                                        />\n                                    </Box>\n                                    <Typography\n                                        variant='inherit'\n                                        color='red'\n                                        sx={{\n                                            marginLeft: 4,\n                                            font: '12px Roboto',\n                                        }}\n                                    >\n                                        {errors.lastName?.message}\n                                    </Typography>\n                                </Grid>\n                                <Grid item xs={16} sm={8}>\n                                    <Box\n                                        sx={{\n                                            display: 'flex',\n                                            alignItems: 'flex-end',\n                                        }}\n                                    >\n                                        <Email\n                                            sx={{\n                                                color: '#393E46',\n                                                mr: 1,\n                                                my: 0.5,\n                                            }}\n                                        />\n                                        <TextField\n                                            id='email'\n                                            label='Email'\n                                            type='email'\n                                            fullWidth\n                                            required\n                                            variant='standard'\n                                            {...register('email')}\n                                            error={errors.email ? true : false}\n                                        />\n                                    </Box>\n                                    <Typography\n                                        variant='inherit'\n                                        color='red'\n                                        sx={{\n                                            marginLeft: 4,\n                                            font: '12px Roboto',\n                                        }}\n                                    >\n                                        {errors.email?.message}\n                                    </Typography>\n                                </Grid>\n                                <Grid item xs={16} sm={8}>\n                                    <Box\n                                        sx={{\n                                            display: 'flex',\n                                            alignItems: 'flex-end',\n                                        }}\n                                    >\n                                        <Lock\n                                            sx={{\n                                                color: '#393E46',\n                                                mr: 1,\n                                                my: 0.5,\n                                            }}\n                                        />\n                                        <TextField\n                                            id='password'\n                                            label='Šifra'\n                                            type={\n                                                showPassword\n                                                    ? 'text'\n                                                    : 'password'\n                                            }\n                                            fullWidth\n                                            required\n                                            variant='standard'\n                                            {...register('password')}\n                                            error={\n                                                errors.password ? true : false\n                                            }\n                                            InputProps={{\n                                                endAdornment: (\n                                                    <InputAdornment position='end'>\n                                                        <IconButton\n                                                            aria-label='toggle password visibility'\n                                                            onClick={() =>\n                                                                setShowPassword(\n                                                                    !showPassword\n                                                                )\n                                                            }\n                                                        >\n                                                            {showPassword ? (\n                                                                <Visibility\n                                                                    style={{\n                                                                        color: '#393E46',\n                                                                    }}\n                                                                />\n                                                            ) : (\n                                                                <VisibilityOff\n                                                                    style={{\n                                                                        color: '#393E46',\n                                                                    }}\n                                                                />\n                                                            )}\n                                                        </IconButton>\n                                                    </InputAdornment>\n                                                ),\n                                            }}\n                                        />\n                                    </Box>\n                                    <Typography\n                                        variant='inherit'\n                                        color='red'\n                                        sx={{\n                                            marginLeft: 4,\n                                            font: '12px Roboto',\n                                        }}\n                                    >\n                                        {errors.password?.message}\n                                    </Typography>\n                                </Grid>\n                                <Grid item xs={16} sm={8}>\n                                    <Box\n                                        sx={{\n                                            display: 'flex',\n                                            alignItems: 'flex-end',\n                                        }}\n                                    >\n                                        <Phone\n                                            sx={{\n                                                color: '#393E46',\n                                                mr: 1,\n                                                my: 0.5,\n                                            }}\n                                        />\n                                        <Controller\n                                            control={control}\n                                            name='phoneNumber'\n                                            // defaultValue=''\n                                            render={({ field }) => (\n                                                <MuiPhoneNumber\n                                                    id='phoneNumber'\n                                                    required\n                                                    fullWidth\n                                                    // defaultValue=''\n                                                    label='Broj telefona'\n                                                    defaultCountry={'ba'}\n                                                    onChange={(value) =>\n                                                        field.onChange(\n                                                            value && value\n                                                        )\n                                                    }\n                                                    disableAreaCodes={true}\n                                                    error={\n                                                        errors.phoneNumber\n                                                            ? true\n                                                            : false\n                                                    }\n                                                    // {...register('phoneNumber')}\n                                                />\n                                            )}\n                                        />\n                                    </Box>\n                                    <Typography\n                                        variant='inherit'\n                                        color='red'\n                                        sx={{\n                                            marginLeft: 4,\n                                            font: '12px Roboto',\n                                        }}\n                                    >\n                                        {errors.phoneNumber &&\n                                            'Broj telefona je obavezan'}\n                                    </Typography>\n                                </Grid>\n                                <Grid item xs={16} sm={8}>\n                                    <Box\n                                        sx={{\n                                            display: 'flex',\n                                            alignItems: 'flex-end',\n                                        }}\n                                    >\n                                        <Event\n                                            sx={{\n                                                color: '#393E46',\n                                                mr: 1,\n                                                my: 0.5,\n                                            }}\n                                        />\n                                        <LocalizationProvider\n                                            dateAdapter={AdapterDateFns}\n                                        >\n                                            <Controller\n                                                control={control}\n                                                name='dob'\n                                                defaultValue={null}\n                                                render={({ field }) => (\n                                                    <DatePicker\n                                                        {...field}\n                                                        label='Datum rođenja'\n                                                        inputFormat='dd/MM/yyyy'\n                                                        disableFuture\n                                                        onChange={(e) => {\n                                                            field.onChange(\n                                                                e && e.toJSON()\n                                                            );\n                                                        }}\n                                                        clearable\n                                                        renderInput={(\n                                                            params\n                                                        ) => (\n                                                            <TextField\n                                                                {...params}\n                                                                variant='standard'\n                                                                required\n                                                                fullWidth\n                                                                error={\n                                                                    errors.dob\n                                                                        ? true\n                                                                        : false\n                                                                }\n                                                            />\n                                                        )}\n                                                    />\n                                                )}\n                                                rules={{ required: true }}\n                                            />\n                                        </LocalizationProvider>\n                                    </Box>\n                                    <Typography\n                                        variant='inherit'\n                                        color='red'\n                                        sx={{\n                                            marginLeft: 4,\n                                            font: '12px Roboto',\n                                        }}\n                                    >\n                                        {errors.dob &&\n                                            'Datum rođenja je obavezan'}\n                                    </Typography>\n                                </Grid>\n                                <Grid item xs={16} sm={8}>\n                                    <Box\n                                        sx={{\n                                            display: 'flex',\n                                            alignItems: 'flex-end',\n                                        }}\n                                    >\n                                        <Wc\n                                            sx={{\n                                                color: '#393E46',\n                                                mr: 1,\n                                                my: 2,\n                                            }}\n                                        />\n                                        <FormControl component='fieldset'>\n                                            <Stack spacing={4} direction='row'>\n                                                <FormLabel\n                                                    component='legend'\n                                                    sx={{ my: 2 }}\n                                                    error={\n                                                        errors.gender\n                                                            ? true\n                                                            : false\n                                                    }\n                                                >\n                                                    Spol*\n                                                </FormLabel>\n                                                <Controller\n                                                    control={control}\n                                                    name='gender'\n                                                    rules={{ required: true }}\n                                                    render={({ field }) => (\n                                                        <RadioGroup\n                                                            row\n                                                            aria-label='gender'\n                                                            name='row-radio-buttons-group'\n                                                            {...field}\n                                                        >\n                                                            <FormControlLabel\n                                                                value='female'\n                                                                control={\n                                                                    <Radio />\n                                                                }\n                                                                label='Ž'\n                                                            />\n                                                            <FormControlLabel\n                                                                value='male'\n                                                                control={\n                                                                    <Radio />\n                                                                }\n                                                                label='M'\n                                                            />\n                                                        </RadioGroup>\n                                                    )}\n                                                />\n                                            </Stack>\n                                        </FormControl>\n                                    </Box>\n                                    <Typography\n                                        variant='inherit'\n                                        color='red'\n                                        sx={{\n                                            marginLeft: 4,\n                                            font: '12px Roboto',\n                                        }}\n                                    >\n                                        {errors.gender && 'Spol je obavezan'}\n                                    </Typography>\n                                </Grid>\n                                <Grid item xs={16} sm={8}>\n                                    <Box\n                                        sx={{\n                                            display: 'flex',\n                                            alignItems: 'flex-end',\n                                        }}\n                                    >\n                                        <Public\n                                            sx={{\n                                                color: '#393E46',\n                                                mr: 1,\n                                                my: 0.5,\n                                            }}\n                                        />\n                                        <Controller\n                                            name='country'\n                                            control={control}\n                                            render={({ field }) => (\n                                                <Autocomplete\n                                                    id='country'\n                                                    options={countries}\n                                                    getOptionLabel={(option) =>\n                                                        option.label\n                                                    }\n                                                    renderOption={(\n                                                        props,\n                                                        option\n                                                    ) => (\n                                                        <Box\n                                                            component='li'\n                                                            sx={{\n                                                                '& > img': {\n                                                                    mr: 2,\n                                                                    flexShrink: 0,\n                                                                },\n                                                            }}\n                                                            {...props}\n                                                        >\n                                                            <img\n                                                                loading='lazy'\n                                                                width='20'\n                                                                src={`https://flagcdn.com/w20/${option.code.toLowerCase()}.png`}\n                                                                srcSet={`https://flagcdn.com/w40/${option.code.toLowerCase()}.png 2x`}\n                                                                alt=''\n                                                            />\n                                                            {option.label} (\n                                                            {option.code})\n                                                        </Box>\n                                                    )}\n                                                    required\n                                                    fullWidth\n                                                    renderInput={(params) => (\n                                                        <TextField\n                                                            {...params}\n                                                            label='Država'\n                                                            required\n                                                            variant='standard'\n                                                            error={\n                                                                errors.country\n                                                                    ? true\n                                                                    : false\n                                                            }\n                                                        />\n                                                    )}\n                                                    onChange={(e, value) =>\n                                                        field.onChange(\n                                                            value && value.label\n                                                        )\n                                                    }\n                                                />\n                                            )}\n                                            rules={{ required: true }}\n                                        />\n                                    </Box>\n                                    <Typography\n                                        variant='inherit'\n                                        color='red'\n                                        sx={{\n                                            marginLeft: 4,\n                                            font: '12px Roboto',\n                                        }}\n                                    >\n                                        {errors.country && 'Država je obavezna'}\n                                    </Typography>\n                                </Grid>\n                                <Grid item xs={16} sm={8}>\n                                    <Box\n                                        sx={{\n                                            display: 'flex',\n                                            alignItems: 'flex-end',\n                                        }}\n                                    >\n                                        <Work\n                                            sx={{\n                                                color: '#393E46',\n                                                mr: 1,\n                                                my: 0.5,\n                                            }}\n                                        />\n                                        <TextField\n                                            id='organization'\n                                            label='Organizacija'\n                                            type='organization'\n                                            fullWidth\n                                            variant='standard'\n                                            {...register('organization')}\n                                            error={\n                                                errors.organization\n                                                    ? true\n                                                    : false\n                                            }\n                                        />\n                                    </Box>\n                                    <Typography\n                                        variant='inherit'\n                                        color='red'\n                                        sx={{\n                                            marginLeft: 4,\n                                            font: '12px Roboto',\n                                        }}\n                                    >\n                                        {errors.organization?.message}\n                                    </Typography>\n                                </Grid>\n                                <Grid item xs={16}>\n                                    <Box\n                                        sx={{\n                                            display: 'flex',\n                                            alignItems: 'flex-end',\n                                        }}\n                                    >\n                                        <FindInPage\n                                            sx={{\n                                                color: '#393E46',\n                                                mr: 1,\n                                                my: 0.5,\n                                            }}\n                                        />\n                                        <TextField\n                                            id='registrationPurpose'\n                                            label='Svrha istraživanja'\n                                            type='registrationPurpose'\n                                            fullWidth\n                                            required\n                                            variant='outlined'\n                                            {...register('registrationPurpose')}\n                                            error={\n                                                errors.registrationPurpose\n                                                    ? true\n                                                    : false\n                                            }\n                                            multiline\n                                            rows={3}\n                                        />\n                                    </Box>\n                                    <Typography\n                                        variant='inherit'\n                                        color='red'\n                                        sx={{\n                                            marginLeft: 4,\n                                            font: '12px Roboto',\n                                        }}\n                                    >\n                                        {errors.registrationPurpose?.message}\n                                    </Typography>\n                                </Grid>\n                            </Grid>\n                        </div>\n\n                        <Button\n                            variant='contained'\n                            style={{\n                                textTransform: 'none',\n                                fontWeight: 'bold',\n                                // backgroundImage: `linear-gradient(to bottom right, #D0F2FF, #04297a)`,\n                                backgroundColor: '#393E46',\n                                width: '75%',\n                                color: '#fff',\n                                height: '10%',\n                                marginTop: -50,\n                                display: 'block',\n                                marginLeft: 'auto',\n                                marginRight: 'auto',\n                            }}\n                            onClick={handleSubmit(handleSignup)}\n                            type='submit'\n                        >\n                            Registruj se\n                        </Button>\n                    </form>\n                </div>\n                <p className='loginBtn'>\n                    Ukoliko ste korisnik,\n                    <NavLink\n                        to='/'\n                        style={{ textDecoration: 'none', color: 'black' }}\n                    >\n                        <strong> Prijavite se</strong>\n                    </NavLink>\n                </p>\n            </Grid>\n        </div>\n    );\n}\n\nexport default Signup;\n","import React, { useEffect, useState, useRef } from 'react';\nimport { useParams } from 'react-router-dom';\nimport Service from '../../api/service';\nimport {\n    Grid,\n    TextField,\n    Button,\n    InputAdornment,\n    IconButton,\n    Box,\n    Typography,\n    Backdrop,\n    Alert,\n    AlertTitle,\n} from '@mui/material';\nimport {\n    Lock,\n    Visibility,\n    VisibilityOff,\n    HighlightOff,\n} from '@mui/icons-material';\nimport logo from '../../assets/whiteLogo.svg';\nimport { useForm } from 'react-hook-form';\nimport { yupResolver } from '@hookform/resolvers/yup';\nimport * as Yup from 'yup';\nimport Loader from '../../components/Loader';\nimport { useNavigate } from 'react-router-dom';\nimport './style.css';\n\nfunction PasswordReset() {\n    const { resetToken } = useParams();\n    const [showPassword, setShowPassword] = useState(false);\n    const [isLoading, setIsLoading] = useState(false);\n    const [isAlertVisible, setIsAlertVisible] = useState(false);\n    const [responseMessage, setResponseMessage] = useState('');\n    const [isPasswordResetSuccessful, setIsPasswordResetSuccessful] =\n        useState(false);\n    const [accessApproved, setAccessApproved] = useState(false);\n    const navigate = useNavigate();\n    let isMounted = useRef(true);\n    useEffect(() => {\n        const findResetTokenHandler = async () => {\n            await Service.findResetToken({ resetToken })\n                .then((res) => {\n                    if (isMounted.current && res.status === 200) {\n                        setAccessApproved(true);\n                    }\n                })\n                .catch(() => {\n                    navigate('/');\n                });\n        };\n\n        findResetTokenHandler();\n\n        return () => {\n            isMounted.current = false;\n        };\n    }, [resetToken, navigate]);\n\n    const validationSchema = Yup.object().shape({\n        password: Yup.string()\n            .required('Šifra je obavezna')\n            .max(24, 'Šifra može da sadrži maximalno 24 karaktera')\n            .matches(\n                /^.*(?=.{8,})((?=.*[!@#$%^&*()\\-_=+{};:,<.>]){1})(?=.*\\d)((?=.*[a-z]){1})((?=.*[A-Z]){1}).*$/,\n                'Šifra mora da sadrži minimalno 8 karaktera, jedno veliko, jedno malo slovo, jedan broj i jedan simbol'\n            ),\n        passwordConfirm: Yup.string()\n            .required('Morate ponoviti šifru')\n            .oneOf([Yup.ref('password'), null], 'Šifre moraju biti iste'),\n    });\n\n    const {\n        register,\n        handleSubmit,\n        formState: { errors },\n    } = useForm({\n        resolver: yupResolver(validationSchema),\n    });\n\n    const resetPasswordHandler = async (values) => {\n        setIsLoading(true);\n        await Service.resetPassword({\n            values,\n            resetToken,\n        })\n            .then((res) => {\n                setResponseMessage(res.data.message);\n                setIsLoading(false);\n                setIsPasswordResetSuccessful(true);\n            })\n            .catch((err) => {\n                setResponseMessage(\n                    err.response\n                        ? err.response.data.message\n                        : 'Konekcija sa serverom nije uspostavljena'\n                );\n                setIsAlertVisible(true);\n                setIsLoading(false);\n            });\n    };\n\n    const switchToLoginHandler = () => {\n        navigate('/login');\n    };\n\n    return (\n        <div className='resetPasswordPage'>\n            {accessApproved && (\n                <Grid container justifyContent='center' alignItems='center'>\n                    {isPasswordResetSuccessful ? (\n                        <div className='resetPasswordSuccess'>\n                            <h2>{responseMessage}</h2>\n                            <Button\n                                variant='contained'\n                                style={{\n                                    textTransform: 'none',\n                                    fontWeight: 'bold',\n                                    backgroundColor: '#fff',\n                                    color: '#393e46',\n                                    height: '10%',\n                                    marginBottom: 20,\n                                    display: 'block',\n                                    marginLeft: 'auto',\n                                    marginRight: 'auto',\n                                }}\n                                onClick={switchToLoginHandler}\n                            >\n                                Prijavite se\n                            </Button>\n                        </div>\n                    ) : (\n                        <div className='resetPasswordContent'>\n                            <Backdrop\n                                sx={{\n                                    color: '#fff',\n                                    zIndex: (theme) => theme.zIndex.drawer + 1,\n                                }}\n                                open={isLoading}\n                            >\n                                <Loader />\n                            </Backdrop>\n                            <form>\n                                <div className='upperBoxReset'>\n                                    <h4>Reset šifre</h4>\n                                    <img src={logo} alt='logo' />\n                                </div>\n\n                                <div className='formFieldsResetBox'>\n                                    {isAlertVisible && (\n                                        <Alert\n                                            severity='error'\n                                            action={\n                                                <HighlightOff\n                                                    onClick={() =>\n                                                        setIsAlertVisible(false)\n                                                    }\n                                                    style={{\n                                                        cursor: 'pointer',\n                                                    }}\n                                                />\n                                            }\n                                            style={{ marginBottom: 15 }}\n                                        >\n                                            <AlertTitle>Greška</AlertTitle>\n                                            {responseMessage}\n                                        </Alert>\n                                    )}\n                                    <Grid item xs={16}>\n                                        <Box\n                                            sx={{\n                                                display: 'flex',\n                                                alignItems: 'flex-end',\n                                            }}\n                                        >\n                                            <Lock\n                                                sx={{\n                                                    color: '#393e46',\n                                                    mr: 1,\n                                                    my: 0.5,\n                                                }}\n                                            />\n                                            <TextField\n                                                id='password'\n                                                label='Nova šifra'\n                                                type={\n                                                    showPassword\n                                                        ? 'text'\n                                                        : 'password'\n                                                }\n                                                fullWidth\n                                                required\n                                                variant='standard'\n                                                {...register('password')}\n                                                error={\n                                                    errors.password\n                                                        ? true\n                                                        : false\n                                                }\n                                                InputProps={{\n                                                    endAdornment: (\n                                                        <InputAdornment position='end'>\n                                                            <IconButton\n                                                                aria-label='toggle password visibility'\n                                                                onClick={() =>\n                                                                    setShowPassword(\n                                                                        !showPassword\n                                                                    )\n                                                                }\n                                                            >\n                                                                {showPassword ? (\n                                                                    <Visibility\n                                                                        style={{\n                                                                            color: '#393e46',\n                                                                        }}\n                                                                    />\n                                                                ) : (\n                                                                    <VisibilityOff\n                                                                        style={{\n                                                                            color: '#393e46',\n                                                                        }}\n                                                                    />\n                                                                )}\n                                                            </IconButton>\n                                                        </InputAdornment>\n                                                    ),\n                                                }}\n                                            />\n                                        </Box>\n                                        <Typography\n                                            variant='inherit'\n                                            color='red'\n                                            sx={{\n                                                textAlign: 'left',\n                                                marginLeft: 4,\n                                                font: '12px Roboto',\n                                            }}\n                                        >\n                                            {errors.password?.message}\n                                        </Typography>\n                                    </Grid>\n                                    <Grid item xs={16}>\n                                        <Box\n                                            sx={{\n                                                display: 'flex',\n                                                alignItems: 'flex-end',\n                                            }}\n                                        >\n                                            <Lock\n                                                sx={{\n                                                    color: '#393e46',\n                                                    mr: 1,\n                                                    my: 0.5,\n                                                }}\n                                            />\n                                            <TextField\n                                                id='passwordConfirm'\n                                                label='Potvrdite novu šifru'\n                                                type={\n                                                    showPassword\n                                                        ? 'text'\n                                                        : 'password'\n                                                }\n                                                fullWidth\n                                                required\n                                                variant='standard'\n                                                {...register('passwordConfirm')}\n                                                error={\n                                                    errors.passwordConfirm\n                                                        ? true\n                                                        : false\n                                                }\n                                                InputProps={{\n                                                    endAdornment: (\n                                                        <InputAdornment position='end'>\n                                                            <IconButton\n                                                                aria-label='toggle password visibility'\n                                                                onClick={() =>\n                                                                    setShowPassword(\n                                                                        !showPassword\n                                                                    )\n                                                                }\n                                                            >\n                                                                {showPassword ? (\n                                                                    <Visibility\n                                                                        style={{\n                                                                            color: '#393e46',\n                                                                        }}\n                                                                    />\n                                                                ) : (\n                                                                    <VisibilityOff\n                                                                        style={{\n                                                                            color: '#393e46',\n                                                                        }}\n                                                                    />\n                                                                )}\n                                                            </IconButton>\n                                                        </InputAdornment>\n                                                    ),\n                                                }}\n                                            />\n                                        </Box>\n                                        <Typography\n                                            variant='inherit'\n                                            color='red'\n                                            sx={{\n                                                textAlign: 'left',\n                                                marginLeft: 4,\n                                                font: '12px Roboto',\n                                            }}\n                                        >\n                                            {errors.passwordConfirm?.message}\n                                        </Typography>\n                                    </Grid>\n                                </div>\n\n                                <Button\n                                    variant='contained'\n                                    style={{\n                                        textTransform: 'none',\n                                        fontWeight: 'bold',\n                                        // backgroundImage: `linear-gradient(to bottom right, #D0F2FF, #1890FF)`,\n                                        // backgroundColor: '#393e46',\n                                        color: '#fff',\n                                        width: '75%',\n                                        height: '10%',\n                                        marginTop: -80,\n                                    }}\n                                    onClick={handleSubmit(resetPasswordHandler)}\n                                >\n                                    Resetuj šifru\n                                </Button>\n                            </form>\n                        </div>\n                    )}\n                </Grid>\n            )}\n        </div>\n    );\n}\n\nexport default PasswordReset;\n","import React, { useEffect, useRef, useState } from 'react';\nimport { useParams } from 'react-router-dom';\nimport Service from '../../api/service';\nimport { Grid, Button, Stack, Alert, Backdrop } from '@mui/material';\nimport { HighlightOff } from '@mui/icons-material';\nimport { useNavigate } from 'react-router-dom';\nimport Loader from '../../components/Loader';\nimport './style.css';\n\nfunction ValidateProfile() {\n    const { validationToken } = useParams();\n    const [responseMessage, setResponseMessage] = useState('');\n    const [isAccessApproved, setIsAccessApproved] = useState(false);\n    const [isResendEmailButtonVisible, setIsResendEmailButtonVisible] =\n        useState(false);\n    const [isLoading, setIsLoading] = useState(false);\n    const [isAlertVisible, setIsAlertVisible] = useState(false);\n    const [alertResponseMessage, setAlertResponseMessage] = useState('');\n    const [alertType, setAlertType] = useState('success');\n\n    const navigate = useNavigate();\n    let isMounted = useRef(true);\n    useEffect(() => {\n        const validateProfileHanlder = async () => {\n            await Service.validateProfile({ validationToken })\n                .then((res) => {\n                    setIsAccessApproved(true);\n                    setResponseMessage(res.data.message);\n                })\n                .catch((err) => {\n                    if (\n                        isMounted.current &&\n                        err.response?.data.status === 403\n                    ) {\n                        navigate('/');\n                    }\n                    setIsAccessApproved(true);\n                    setResponseMessage(err.response?.data.message);\n                    setIsResendEmailButtonVisible(true);\n                });\n        };\n\n        validateProfileHanlder();\n\n        return () => {\n            isMounted.current = false;\n        };\n    }, [validationToken, navigate]);\n\n    const switchToLoginHandler = () => {\n        navigate('/login');\n    };\n\n    const resendValidationEmailHandler = async () => {\n        setIsLoading(true);\n        await Service.resendValidationEmail({ validationToken })\n            .then((res) => {\n                setIsAlertVisible(true);\n                setAlertType('success');\n                setAlertResponseMessage(res.data.message);\n            })\n            .catch((err) => {\n                setIsAlertVisible(true);\n                setAlertType('error');\n                setAlertResponseMessage(err.response?.data.message);\n            });\n        setIsLoading(false);\n    };\n\n    return (\n        <div className='validatePage'>\n            <Backdrop\n                sx={{\n                    color: '#fff',\n                    zIndex: (theme) => theme.zIndex.drawer + 1,\n                }}\n                open={isLoading}\n            >\n                <Loader />\n            </Backdrop>\n            {isAccessApproved && (\n                <Grid container justifyContent='center' alignItems='center'>\n                    <div className='validationMessage'>\n                        <h2>{responseMessage}</h2>\n                        <Stack\n                            spacing={2}\n                            direction='row'\n                            justifyContent='center'\n                            style={{ marginBottom: 20 }}\n                        >\n                            {isResendEmailButtonVisible && (\n                                <Button\n                                    variant='contained'\n                                    style={{\n                                        textTransform: 'none',\n                                        fontWeight: 'bold',\n                                        backgroundColor: '#fff',\n                                        color: '#393e46',\n                                        height: '10%',\n                                    }}\n                                    onClick={resendValidationEmailHandler}\n                                >\n                                    Zatražite novi validacioni token\n                                </Button>\n                            )}\n                            {!isResendEmailButtonVisible && (\n                                <Button\n                                    variant='contained'\n                                    style={{\n                                        textTransform: 'none',\n                                        fontWeight: 'bold',\n                                        backgroundColor: '#fff',\n                                        color: '#393e46',\n                                        height: '10%',\n                                    }}\n                                    onClick={switchToLoginHandler}\n                                >\n                                    Prijavite se\n                                </Button>\n                            )}\n                        </Stack>\n                    </div>\n                </Grid>\n            )}\n            {isAlertVisible && (\n                <div className='alertMessage'>\n                    <Alert\n                        severity={alertType}\n                        action={\n                            <HighlightOff\n                                onClick={() => setIsAlertVisible(false)}\n                                style={{ cursor: 'pointer' }}\n                            />\n                        }\n                        sx={{ font: '14px Roboto' }}\n                    >\n                        {alertResponseMessage}\n                    </Alert>\n                </div>\n            )}\n        </div>\n    );\n}\n\nexport default ValidateProfile;\n","export function capitalizeWord(docName) {\n    return docName[0].toUpperCase() + docName.slice(1);\n}\n","import React, { useEffect, useRef, useState } from 'react';\nimport { NavLink, useNavigate } from 'react-router-dom';\nimport {\n    Grid,\n    Breadcrumbs,\n    Typography,\n    Stack,\n    Tooltip,\n    Box,\n    Snackbar,\n    Alert,\n    useMediaQuery,\n} from '@mui/material';\nimport { Home, History, VisibilityOutlined } from '@mui/icons-material';\nimport Service from '../../api/service';\nimport Loader from '../../components/Loader';\nimport MaterialTable from '@material-table/core';\nimport { capitalizeWord } from '../../utilities/capitalizeWord';\nimport moment from 'moment';\nimport 'moment/locale/bs';\nimport './style.css';\n\nfunction ViewHistory() {\n    const [documents, setDocuments] = useState([]);\n    const [isLoading, setIsLoading] = useState(true);\n    const [isAlertVisible, setIsAlertVisible] = useState(false);\n    const [errorMessage, setErrorMessage] = useState('');\n\n    const navigate = useNavigate();\n    const isMobile = useMediaQuery('(max-width:540px)');\n    const isMounted = useRef(true);\n\n    useEffect(() => {\n        const fetchUserHistoryReview = async () => {\n            await Service.getUserHistoryReview()\n                .then((res) => {\n                    if (isMounted.current) {\n                        const userDocs = res.data.userDocs;\n                        let userReviewDocs = res.data.userReviewDocs;\n                        let newReviewArr = [];\n                        for (let usr of userDocs) {\n                            userReviewDocs.forEach((doc) => {\n                                if (doc._id === usr.docId) {\n                                    newReviewArr.push({\n                                        ...doc,\n                                        timeVisited: usr.time,\n                                    });\n                                }\n                            });\n                        }\n                        setDocuments(newReviewArr);\n                        setIsLoading(false);\n                    }\n                })\n                .catch((err) => {\n                    setIsAlertVisible(true);\n                    setErrorMessage(\n                        err.response\n                            ? err.response.data.message\n                            : 'Konekcija sa serverom nije uspostavljena'\n                    );\n                });\n        };\n\n        fetchUserHistoryReview();\n        return () => {\n            isMounted.current = false;\n        };\n    }, []);\n\n    const documentTypeHandler = (type) => {\n        switch (type) {\n            case 'document':\n                return 'Dokument';\n            case 'audio':\n                return 'Audio';\n            case 'video':\n                return 'Video';\n            case 'image':\n                return 'Slika';\n            default:\n                break;\n        }\n    };\n\n    const documentsTableData =\n        documents &&\n        documents.map((document) => {\n            return {\n                id: document._id,\n                documentName: capitalizeWord(document.documentName),\n                documentType: documentTypeHandler(document.fileType),\n                documentLastVisit: document.timeVisited && (\n                    <Stack direction='row' spacing={1}>\n                        <History fontSize='small' />\n                        <Typography fontSize={15}>\n                            {moment(document.timeVisited)\n                                .locale('bs')\n                                .fromNow()}\n                        </Typography>\n                    </Stack>\n                ),\n                description: document.description && (\n                    <Tooltip title={document.description} placement='top-start'>\n                        <Box>{document.description}</Box>\n                    </Tooltip>\n                ),\n                ownership: capitalizeWord(document.ownership),\n                location: capitalizeWord(document.location),\n            };\n        });\n\n    const documentsColumns = [\n        {\n            title: 'Naziv dokumenta',\n            field: 'documentName',\n            sorting: false,\n            width: '20%',\n        },\n        {\n            title: 'Tip dokumenta',\n            field: 'documentType',\n            sorting: false,\n            width: '10%',\n        },\n        {\n            title: 'Opis',\n            field: 'description',\n            sorting: false,\n            width: '35%',\n            align: 'left',\n            searchable: false,\n            cellStyle: {\n                textOverflow: 'ellipsis',\n                whiteSpace: 'nowrap',\n                overflow: 'hidden',\n                maxWidth: 200,\n            },\n        },\n        {\n            title: 'Posljednji pregled',\n            field: 'documentLastVisit',\n            sorting: false,\n        },\n\n        { title: 'Vlasništvo', field: 'ownership', sorting: false },\n        {\n            title: 'Lokacija',\n            field: 'location',\n            sorting: false,\n        },\n    ];\n\n    const tableOptions = {\n        actionsColumnIndex: -1,\n        columnsButton: true,\n        grouping: false,\n        sorting: true,\n        paging: false,\n        pageSizeOptions: [5, 10, 20],\n        pageSize: 10,\n        emptyRowsWhenPaging: false,\n        rowStyle: {\n            font: '15px Roboto',\n        },\n        headerStyle: {\n            background: '#ddd',\n            color: '#000',\n            fontWeight: 'bold',\n            paddingRight: 15,\n        },\n    };\n\n    const tableLocalization = {\n        pagination: {\n            labelDisplayedRows: '',\n            previousTooltip: 'Prethodna',\n            nextTooltip: 'Sljedeća',\n            lastTooltip: 'Posljednja',\n            firstTooltip: 'Prva',\n            labelRowsPerPage: !isMobile && 'Redova po stranici',\n            labelRowsSelect: '',\n        },\n        toolbar: {\n            nRowsSelected: '{0} row(s) selected',\n            searchPlaceholder: 'Pretraga...',\n            showColumnsTitle: 'Prikaži kolone',\n            addRemoveColumns: 'Dadaj ili ukloni kolonu',\n        },\n        header: {\n            actions: 'Opcije',\n        },\n        body: {\n            emptyDataSourceMessage:\n                'Lista posljednjih posjećenih dokumenata je prazna',\n            filterRow: {\n                filterTooltip: 'Filter',\n            },\n        },\n    };\n\n    return (\n        <div className='historyPage'>\n            {isLoading ? (\n                <Loader loaderColor={`black`} />\n            ) : (\n                <div>\n                    {isAlertVisible && (\n                        <Snackbar\n                            open={isAlertVisible}\n                            anchorOrigin={{\n                                vertical: 'top',\n                                horizontal: 'center',\n                            }}\n                            autoHideDuration={8000}\n                            onClose={() => setIsAlertVisible(false)}\n                        >\n                            <Alert\n                                onClose={() => setIsAlertVisible(false)}\n                                severity='error'\n                                sx={{ width: '100%' }}\n                            >\n                                {errorMessage}\n                            </Alert>\n                        </Snackbar>\n                    )}\n                    <Grid container justifyContent='flex-start'>\n                        <Breadcrumbs aria-label='breadcrumb'>\n                            <NavLink\n                                to='/'\n                                style={{\n                                    textDecoration: 'none',\n                                    color: 'grey',\n                                }}\n                            >\n                                <Home sx={{ mr: 0.5 }} fontSize='inherit' />\n                                Početna\n                            </NavLink>\n                            <Stack\n                                direction='row'\n                                spacing={2}\n                                style={{ color: '#393e46' }}\n                            >\n                                <History\n                                    sx={{ mr: -1.2, marginTop: 0.3 }}\n                                    fontSize='inherit'\n                                />\n                                <Typography>Historija pregleda</Typography>\n                            </Stack>\n                        </Breadcrumbs>\n                    </Grid>\n                    <MaterialTable\n                        columns={documentsColumns}\n                        data={documentsTableData}\n                        actions={[\n                            {\n                                icon: () => <VisibilityOutlined />,\n                                tooltip: 'Pogledati',\n                                onClick: (e, data) =>\n                                    navigate(`/pregled/${data.id}`),\n                            },\n                        ]}\n                        title='Lista posljednjih posjećenih dokumenata'\n                        options={tableOptions}\n                        localization={tableLocalization}\n                        style={{ marginTop: 10 }}\n                    />\n                </div>\n            )}\n        </div>\n    );\n}\n\nexport default ViewHistory;\n","import { createSlice } from '@reduxjs/toolkit';\n\nconst initialModalResponseState = {\n    isModalResAlertVisible: false,\n    modalResMessage: '',\n    modalAlertType: 'success',\n};\n\nconst modalResponseSlice = createSlice({\n    name: 'modalResponse',\n    initialState: initialModalResponseState,\n    reducers: {\n        setIsModalResAlertVisible(state) {\n            state.isModalResAlertVisible = true;\n        },\n        setModalResMessage(state, action) {\n            state.modalResMessage = action.payload;\n        },\n        setModalAlertType(state, action) {\n            state.modalAlertType = action.payload;\n        },\n        setIsModalResAlertHidden(state) {\n            state.isModalResAlertVisible = false;\n        },\n    },\n});\n\nexport const modalResponseActions = modalResponseSlice.actions;\n\nexport default modalResponseSlice.reducer;\n","import React, { useState } from 'react';\nimport {\n    Button,\n    Dialog,\n    DialogActions,\n    DialogContent,\n    DialogContentText,\n    Backdrop,\n} from '@mui/material';\nimport Service from '../../api/service';\nimport Loader from '../Loader';\nimport { modalResponseActions } from '../../store/modalResponse';\nimport { useDispatch } from 'react-redux';\n\nfunction UserDeactivateModal(props) {\n    const [isLoading, setIsLoading] = useState(false);\n    const dispatch = useDispatch();\n\n    let selectedUser = props?.selected;\n    const deactivateUserHandler = async () => {\n        setIsLoading(true);\n        const userId = selectedUser.id;\n\n        await Service.deactivateUser({ userId })\n            .then((res) => {\n                setIsLoading(false);\n                dispatch(modalResponseActions.setIsModalResAlertVisible());\n                dispatch(modalResponseActions.setModalAlertType('success'));\n                dispatch(\n                    modalResponseActions.setModalResMessage(res.data.message)\n                );\n                props.onClose(res.data.user, true);\n            })\n            .catch((err) => {\n                dispatch(modalResponseActions.setIsModalResAlertVisible());\n                dispatch(modalResponseActions.setModalAlertType('error'));\n                dispatch(\n                    modalResponseActions.setModalResMessage(\n                        err.response\n                            ? err.response.data.message\n                            : 'Konekcija sa serverom nije uspostavljena'\n                    )\n                );\n                setIsLoading(false);\n                props.onClose();\n            });\n    };\n\n    return (\n        <div>\n            <Backdrop\n                sx={{\n                    color: '#fff',\n                    zIndex: 1500,\n                }}\n                open={isLoading}\n            >\n                <Loader />\n            </Backdrop>\n            <Dialog\n                open={props.visible}\n                onClose={props.onClose}\n                aria-labelledby='alert-dialog-title'\n                aria-describedby='alert-dialog-description'\n            >\n                <DialogContent>\n                    <DialogContentText>\n                        Da li sigurno želite deaktivirati ovog korisnika?\n                    </DialogContentText>\n                </DialogContent>\n                <DialogActions>\n                    <Button\n                        onClick={props.onClose}\n                        variant='outlined'\n                        style={{ textTransform: 'none', fontWeight: 'bold' }}\n                    >\n                        Ne\n                    </Button>\n                    <Button\n                        onClick={deactivateUserHandler}\n                        variant='contained'\n                        style={{ textTransform: 'none', fontWeight: 'bold' }}\n                    >\n                        Da\n                    </Button>\n                </DialogActions>\n            </Dialog>\n        </div>\n    );\n}\n\nexport default UserDeactivateModal;\n","import React, { useState } from 'react';\nimport {\n    Button,\n    Dialog,\n    DialogActions,\n    DialogContent,\n    DialogContentText,\n    Backdrop,\n} from '@mui/material';\nimport Service from '../../api/service';\nimport Loader from '../Loader';\nimport { modalResponseActions } from '../../store/modalResponse';\nimport { useDispatch } from 'react-redux';\n\nfunction UserActivateModal(props) {\n    const [isLoading, setIsLoading] = useState(false);\n    const dispatch = useDispatch();\n\n    let selectedUser = props?.selected;\n    const activateUserHandler = async () => {\n        setIsLoading(true);\n        const userId = selectedUser.id;\n\n        await Service.activateUser({ userId })\n            .then((res) => {\n                setIsLoading(false);\n                dispatch(modalResponseActions.setIsModalResAlertVisible());\n                dispatch(modalResponseActions.setModalAlertType('success'));\n                dispatch(\n                    modalResponseActions.setModalResMessage(res.data.message)\n                );\n                props.onClose(res.data.user, true);\n            })\n            .catch((err) => {\n                dispatch(modalResponseActions.setIsModalResAlertVisible());\n                dispatch(modalResponseActions.setModalAlertType('error'));\n                dispatch(\n                    modalResponseActions.setModalResMessage(\n                        err.response\n                            ? err.response.data.message\n                            : 'Konekcija sa serverom nije uspostavljena'\n                    )\n                );\n                setIsLoading(false);\n                props.onClose();\n            });\n    };\n\n    return (\n        <div>\n            <Backdrop\n                sx={{\n                    color: '#fff',\n                    zIndex: 1500,\n                }}\n                open={isLoading}\n            >\n                <Loader />\n            </Backdrop>\n            <Dialog\n                open={props.visible}\n                onClose={props.onClose}\n                aria-labelledby='alert-dialog-title'\n                aria-describedby='alert-dialog-description'\n            >\n                <DialogContent>\n                    <DialogContentText>\n                        Da li sigurno želite aktivirati ovog korisnika?\n                    </DialogContentText>\n                </DialogContent>\n                <DialogActions>\n                    <Button\n                        onClick={props.onClose}\n                        variant='outlined'\n                        style={{ textTransform: 'none', fontWeight: 'bold' }}\n                    >\n                        Ne\n                    </Button>\n                    <Button\n                        onClick={activateUserHandler}\n                        variant='contained'\n                        style={{ textTransform: 'none', fontWeight: 'bold' }}\n                    >\n                        Da\n                    </Button>\n                </DialogActions>\n            </Dialog>\n        </div>\n    );\n}\n\nexport default UserActivateModal;\n","import React, { useState } from 'react';\nimport {\n    Button,\n    Dialog,\n    DialogActions,\n    DialogContent,\n    DialogContentText,\n    Backdrop,\n} from '@mui/material';\nimport Service from '../../api/service';\nimport Loader from '../Loader';\nimport { modalResponseActions } from '../../store/modalResponse';\nimport { useDispatch } from 'react-redux';\n\nfunction UserRemoveModal(props) {\n    const [isLoading, setIsLoading] = useState(false);\n    const dispatch = useDispatch();\n\n    let selectedUser = props?.selected;\n    const removeUserHandler = async () => {\n        setIsLoading(true);\n        const userId = selectedUser.id;\n\n        await Service.removeUser(userId)\n            .then((res) => {\n                setIsLoading(false);\n                dispatch(modalResponseActions.setIsModalResAlertVisible());\n                dispatch(modalResponseActions.setModalAlertType('success'));\n                dispatch(\n                    modalResponseActions.setModalResMessage(res.data.message)\n                );\n                props.onClose(selectedUser, true);\n            })\n            .catch((err) => {\n                dispatch(modalResponseActions.setIsModalResAlertVisible());\n                dispatch(modalResponseActions.setModalAlertType('error'));\n                dispatch(\n                    modalResponseActions.setModalResMessage(\n                        err.response\n                            ? err.response.data.message\n                            : 'Konekcija sa serverom nije uspostavljena'\n                    )\n                );\n                setIsLoading(false);\n                props.onClose();\n            });\n    };\n\n    return (\n        <div>\n            <Backdrop\n                sx={{\n                    color: '#fff',\n                    zIndex: 1500,\n                }}\n                open={isLoading}\n            >\n                <Loader />\n            </Backdrop>\n            <Dialog\n                open={props.visible}\n                onClose={props.onClose}\n                aria-labelledby='alert-dialog-title'\n                aria-describedby='alert-dialog-description'\n            >\n                <DialogContent>\n                    <DialogContentText>\n                        Da li sigurno želite izbrisati ovog korisnika?\n                    </DialogContentText>\n                </DialogContent>\n                <DialogActions>\n                    <Button\n                        onClick={props.onClose}\n                        variant='outlined'\n                        style={{ textTransform: 'none', fontWeight: 'bold' }}\n                    >\n                        Ne\n                    </Button>\n                    <Button\n                        onClick={removeUserHandler}\n                        variant='contained'\n                        style={{ textTransform: 'none', fontWeight: 'bold' }}\n                    >\n                        Da\n                    </Button>\n                </DialogActions>\n            </Dialog>\n        </div>\n    );\n}\n\nexport default UserRemoveModal;\n","import React, { useState } from 'react';\nimport {\n    Button,\n    Dialog,\n    DialogActions,\n    DialogContent,\n    DialogContentText,\n    Backdrop,\n} from '@mui/material';\nimport Service from '../../api/service';\nimport Loader from '../Loader';\nimport { modalResponseActions } from '../../store/modalResponse';\nimport { useDispatch } from 'react-redux';\n\nfunction UserAddEditorModal(props) {\n    const [isLoading, setIsLoading] = useState(false);\n\n    const dispatch = useDispatch();\n    let selectedUser = props?.selected;\n\n    const addUserAsEditorHandler = async () => {\n        setIsLoading(true);\n        const userId = selectedUser._id;\n\n        await Service.userEditorAdd({ userId })\n            .then((res) => {\n                setIsLoading(false);\n                dispatch(modalResponseActions.setIsModalResAlertVisible());\n                dispatch(modalResponseActions.setModalAlertType('success'));\n                dispatch(\n                    modalResponseActions.setModalResMessage(res.data.message)\n                );\n                props.onClose(res.data.user, true);\n            })\n            .catch((err) => {\n                dispatch(modalResponseActions.setIsModalResAlertVisible());\n                dispatch(modalResponseActions.setModalAlertType('error'));\n                dispatch(\n                    modalResponseActions.setModalResMessage(\n                        err.response\n                            ? err.response.data.message\n                            : 'Konekcija sa serverom nije uspostavljena'\n                    )\n                );\n                setIsLoading(false);\n                props.onClose();\n            });\n    };\n\n    return (\n        <div>\n            <Backdrop\n                sx={{\n                    color: '#fff',\n                    zIndex: 1500,\n                }}\n                open={isLoading}\n            >\n                <Loader />\n            </Backdrop>\n            <Dialog\n                open={props.visible}\n                onClose={props.onClose}\n                aria-labelledby='alert-dialog-title'\n                aria-describedby='alert-dialog-description'\n            >\n                <DialogContent>\n                    <DialogContentText>\n                        Da li sigurno želite dodati ovog korisnika kao urednika?\n                    </DialogContentText>\n                </DialogContent>\n                <DialogActions>\n                    <Button\n                        onClick={props.onClose}\n                        variant='outlined'\n                        style={{ textTransform: 'none', fontWeight: 'bold' }}\n                    >\n                        Ne\n                    </Button>\n                    <Button\n                        onClick={addUserAsEditorHandler}\n                        variant='contained'\n                        style={{ textTransform: 'none', fontWeight: 'bold' }}\n                    >\n                        Da\n                    </Button>\n                </DialogActions>\n            </Dialog>\n        </div>\n    );\n}\n\nexport default UserAddEditorModal;\n","import React, { useState } from 'react';\nimport {\n    Button,\n    Dialog,\n    DialogActions,\n    DialogContent,\n    DialogContentText,\n    Backdrop,\n} from '@mui/material';\nimport Service from '../../api/service';\nimport Loader from '../Loader';\nimport { modalResponseActions } from '../../store/modalResponse';\nimport { useDispatch } from 'react-redux';\n\nfunction UserRemoveEditorModal(props) {\n    const [isLoading, setIsLoading] = useState(false);\n\n    const dispatch = useDispatch();\n    let selectedUser = props?.selected;\n\n    const removeUserAsEditorHandler = async () => {\n        setIsLoading(true);\n        const userId = selectedUser._id;\n\n        await Service.userEditorRemove({ userId })\n            .then((res) => {\n                setIsLoading(false);\n                dispatch(modalResponseActions.setIsModalResAlertVisible());\n                dispatch(modalResponseActions.setModalAlertType('success'));\n                dispatch(\n                    modalResponseActions.setModalResMessage(res.data.message)\n                );\n                props.onClose(res.data.user, true);\n            })\n            .catch((err) => {\n                dispatch(modalResponseActions.setIsModalResAlertVisible());\n                dispatch(modalResponseActions.setModalAlertType('error'));\n                dispatch(\n                    modalResponseActions.setModalResMessage(\n                        err.response\n                            ? err.response.data.message\n                            : 'Konekcija sa serverom nije uspostavljena'\n                    )\n                );\n                setIsLoading(false);\n                props.onClose();\n            });\n    };\n\n    return (\n        <div>\n            <Backdrop\n                sx={{\n                    color: '#fff',\n                    zIndex: 1500,\n                }}\n                open={isLoading}\n            >\n                <Loader />\n            </Backdrop>\n            <Dialog\n                open={props.visible}\n                onClose={props.onClose}\n                aria-labelledby='alert-dialog-title'\n                aria-describedby='alert-dialog-description'\n            >\n                <DialogContent>\n                    <DialogContentText>\n                        Da li sigurno želite ukloniti ovog korisnika kao\n                        urednika?\n                    </DialogContentText>\n                </DialogContent>\n                <DialogActions>\n                    <Button\n                        onClick={props.onClose}\n                        variant='outlined'\n                        style={{ textTransform: 'none', fontWeight: 'bold' }}\n                    >\n                        Ne\n                    </Button>\n                    <Button\n                        onClick={removeUserAsEditorHandler}\n                        variant='contained'\n                        style={{ textTransform: 'none', fontWeight: 'bold' }}\n                    >\n                        Da\n                    </Button>\n                </DialogActions>\n            </Dialog>\n        </div>\n    );\n}\n\nexport default UserRemoveEditorModal;\n","import React, { useState } from 'react';\nimport {\n    Box,\n    OutlinedInput,\n    InputLabel,\n    MenuItem,\n    FormControl,\n    Select,\n    Chip,\n    Grid,\n    Button,\n} from '@mui/material';\nimport { HighlightOffOutlined } from '@mui/icons-material';\nimport { makeStyles } from '@mui/styles';\n\nconst useStyles = makeStyles((theme) => ({\n    resetBtn: {\n        textTransform: 'none',\n        fontWeight: 'bold',\n        height: 40,\n        marginTop: 20,\n        '@media (max-width: 600px)': {\n            marginLeft: 10,\n            marginTop: 0,\n            marginBottom: 10,\n        },\n    },\n    selectField: {\n        margin: 10,\n        width: 300,\n        '@media (max-width: 300px)': {\n            width: 200,\n        },\n    },\n}));\n\nfunction UserRoleFilter(props) {\n    const [roleValues, setRoleValues] = useState([]);\n    const roles = ['admin', 'editor', 'reader'];\n    const classes = useStyles();\n\n    const handleChangeRoleValues = (event) => {\n        const {\n            target: { value },\n        } = event;\n        setRoleValues(value);\n        props.onFilterUsers(value);\n    };\n\n    const getUserRole = (role) => {\n        switch (role) {\n            case 'admin':\n                return 'Admin';\n            case 'editor':\n                return 'Urednik';\n            case 'reader':\n                return 'Čitalac';\n            default:\n                break;\n        }\n    };\n\n    const handleResetFilter = () => {\n        props.onResetFilter();\n        setRoleValues([]);\n    };\n\n    return (\n        <div>\n            <Grid container spacing={2} columns={16} sx={{ padding: 1 }}>\n                <Grid item xs={16} sm={12}>\n                    <FormControl className={classes.selectField}>\n                        <InputLabel id='demo-multiple-name-label'>\n                            Filter rola korisnika\n                        </InputLabel>\n                        <Select\n                            labelId='demo-multiple-name-label'\n                            id='demo-multiple-name'\n                            multiple\n                            value={roleValues}\n                            onChange={handleChangeRoleValues}\n                            input={\n                                <OutlinedInput label='Filter rola korisnika' />\n                            }\n                            renderValue={(selected) => (\n                                <Box\n                                    sx={{\n                                        display: 'flex',\n                                        flexWrap: 'wrap',\n                                        gap: 0.5,\n                                    }}\n                                >\n                                    {selected.map((value) => (\n                                        <Chip\n                                            key={value}\n                                            label={getUserRole(value)}\n                                        />\n                                    ))}\n                                </Box>\n                            )}\n                        >\n                            {roles.map((role, index) => (\n                                <MenuItem key={index} value={role}>\n                                    {getUserRole(role)}\n                                </MenuItem>\n                            ))}\n                        </Select>\n                    </FormControl>\n                </Grid>\n                {roleValues.length > 0 && (\n                    <Grid item xs={16} sm={4}>\n                        <Button\n                            variant='contained'\n                            startIcon={<HighlightOffOutlined />}\n                            onClick={handleResetFilter}\n                            className={classes.resetBtn}\n                        >\n                            Reset\n                        </Button>\n                    </Grid>\n                )}\n            </Grid>\n        </div>\n    );\n}\n\nexport default UserRoleFilter;\n","import React, { useEffect, useRef, useState } from 'react';\nimport {\n    useMediaQuery,\n    Snackbar,\n    Alert,\n    Chip,\n    IconButton,\n    Grid,\n} from '@mui/material';\nimport MaterialTable from '@material-table/core';\nimport { formatDate } from '../../utilities/formatDate';\nimport Service from '../../api/service';\nimport {\n    DeleteOutlined,\n    CheckBox,\n    CheckBoxOutlineBlank,\n    ToggleOn,\n    ToggleOff,\n} from '@mui/icons-material';\nimport Loader from '../Loader';\nimport UserDeactivateModal from '../UserDeactivateModal';\nimport UserActivateModal from '../UserActivateModal';\nimport UserRemoveModal from '../UserRemoveModal';\nimport UserAddEditorModal from '../UserAddEditorModal';\nimport UserRemoveEditorModal from '../UserRemoveEditorModal';\nimport UserRoleFilter from '../UserRoleFilter';\nimport { capitalizeWord } from '../../utilities/capitalizeWord';\nimport { useDispatch, useSelector } from 'react-redux';\n\nimport { requestsActions } from '../../store/requests';\n\nfunction UsersTable() {\n    const [users, setUsers] = useState([]);\n    const [isLoading, setIsLoading] = useState(true);\n    const [isAlertVisible, setIsAlertVisible] = useState(false);\n    const [errorMessage, setErrorMessage] = useState('');\n    const [isUserDeactivateModalVisible, setIsUserDeactivateModalVisible] =\n        useState(false);\n    const [isUserActivateModalVisible, setIsUserActivateModalVisible] =\n        useState(false);\n    const [isUserRemoveModalVisible, setIsUserRemoveModalVisible] =\n        useState(false);\n    const [selectedRow, setSelectedRow] = useState(null);\n    const [isUserAddEditorModalVisible, setIsUserAddEditorModalVisible] =\n        useState(false);\n    const [isUserRemoveEditorModalVisible, setIsUserRemoveEditorModalVisible] =\n        useState(false);\n    const [allUsers, setAllUsers] = useState([]);\n\n    const isMobile = useMediaQuery('(max-width:540px)');\n\n    const allRequests = useSelector((state) => state.requests.allRequests);\n\n    const dispatch = useDispatch();\n    let isMounted = useRef(true);\n\n    useEffect(() => {\n        const fetchAllUsersHandler = async () => {\n            await Service.getAllUsers()\n                .then((res) => {\n                    if (isMounted.current) {\n                        setUsers(res.data.allUsers);\n                        setAllUsers(res.data.allUsers);\n                        setIsLoading(false);\n                    }\n                })\n                .catch((err) => {\n                    setIsAlertVisible(true);\n                    setErrorMessage(\n                        err.response?.status === 500\n                            ? 'Konekcija sa serverom nije uspostavljena'\n                            : err.response.data.message\n                    );\n                    setIsLoading(false);\n                });\n        };\n\n        fetchAllUsersHandler();\n\n        return () => {\n            isMounted.current = false;\n        };\n    }, []);\n\n    const userRoleHandler = (role) => {\n        switch (role) {\n            case 'admin':\n                return 'Admin';\n            case 'editor':\n                return 'Urednik';\n            case 'reader':\n                return 'Čitalac';\n            default:\n                break;\n        }\n    };\n    const handleOpenUserAddEditorModal = (data) => {\n        setIsUserAddEditorModalVisible(true);\n        setSelectedRow(data);\n    };\n    const handleCloseUserAddEditorModal = (data, isOk) => {\n        if (isOk) {\n            let tmpUsersData = [...users];\n            tmpUsersData.forEach((user) => {\n                if (user._id === data._id) {\n                    return (user.role = 'editor');\n                }\n            });\n            setUsers(tmpUsersData);\n        }\n        setIsUserAddEditorModalVisible(false);\n        setSelectedRow(null);\n    };\n\n    const handleOpenUserRemoveEditorModal = (data) => {\n        setIsUserRemoveEditorModalVisible(true);\n        setSelectedRow(data);\n    };\n\n    const handleCloseUserRemoveEditorModal = (data, isOk) => {\n        if (isOk) {\n            let tmpUsersData = [...users];\n            tmpUsersData.forEach((user) => {\n                if (user._id === data._id) {\n                    return (user.role = 'reader');\n                }\n            });\n            setUsers(tmpUsersData);\n        }\n        setIsUserRemoveEditorModalVisible(false);\n        setSelectedRow(null);\n    };\n\n    const editorColumnHandler = (user) => {\n        const isDisabled = user.removed;\n        if (user.role === 'admin') {\n            return (\n                <IconButton disabled>\n                    <CheckBox />\n                </IconButton>\n            );\n        } else if (user.role === 'editor') {\n            return (\n                <IconButton\n                    disabled={isDisabled}\n                    onClick={() => handleOpenUserRemoveEditorModal(user)}\n                >\n                    <CheckBox\n                        style={{\n                            color: !isDisabled && '#00ab55',\n                            cursor: 'pointer',\n                        }}\n                    />\n                </IconButton>\n            );\n        } else {\n            return (\n                <IconButton\n                    disabled={isDisabled}\n                    onClick={() => handleOpenUserAddEditorModal(user)}\n                >\n                    <CheckBoxOutlineBlank />\n                </IconButton>\n            );\n        }\n    };\n\n    const handleOpenUserDeactivateModal = (data) => {\n        setIsUserDeactivateModalVisible(true);\n        setSelectedRow(data);\n    };\n\n    const handleCloseUserDeactivateModal = (data, isOk) => {\n        if (isOk) {\n            let tmpUsersData = [...users];\n            tmpUsersData.forEach((user) => {\n                if (user._id === data._id) {\n                    return (user.removed = true);\n                }\n            });\n            setUsers(tmpUsersData);\n        }\n        setIsUserDeactivateModalVisible(false);\n        setSelectedRow(null);\n    };\n\n    const handleOpenUserActivateModal = (data) => {\n        setIsUserActivateModalVisible(true);\n        setSelectedRow(data);\n    };\n\n    const handleCloseUserActivateModal = (data, isOk) => {\n        if (isOk) {\n            let tmpUsersData = [...users];\n            tmpUsersData.forEach((user) => {\n                if (user._id === data._id) {\n                    return (user.removed = false);\n                }\n            });\n            setUsers(tmpUsersData);\n        }\n        setIsUserActivateModalVisible(false);\n        setSelectedRow(null);\n    };\n\n    const handleOpenUserRemoveModal = (data) => {\n        setIsUserRemoveModalVisible(true);\n        setSelectedRow(data);\n    };\n\n    const handleCloseUserRemoveModal = (data, isOk) => {\n        if (isOk) {\n            let tmpUsersData = [...users];\n            setUsers(tmpUsersData.filter((user) => user._id !== data.id));\n            let tmpRequestsData = [...allRequests];\n            dispatch(\n                requestsActions.setAllRequests(\n                    tmpRequestsData.filter((req) => req.user?._id !== data.id)\n                )\n            );\n        }\n        setIsUserRemoveModalVisible(false);\n        setSelectedRow(null);\n    };\n\n    const usersTableData =\n        users &&\n        users.map((user) => {\n            return {\n                id: user._id,\n                firstLastName:\n                    capitalizeWord(user.firstName) +\n                    ' ' +\n                    capitalizeWord(user.lastName),\n                email: user.email,\n                role: userRoleHandler(user.role),\n                phoneNumber: user.phoneNumber,\n                dob: formatDate(user.dob),\n                gender: user.gender === 'male' ? 'M' : 'Ž',\n                country: user.country,\n                organization: capitalizeWord(user.organization),\n                registrationPurpose: user.registrationPurpose,\n                editor: editorColumnHandler(user),\n                removed: user.removed,\n                status: user.removed ? (\n                    <Chip\n                        label='Neaktivan'\n                        style={{\n                            color: '#B72136',\n                            backgroundColor: '#FFE7D9',\n                            fontWeight: 'bold',\n                        }}\n                        size='small'\n                    />\n                ) : (\n                    <Chip\n                        label='Aktivan'\n                        style={{\n                            color: '#007b55',\n                            backgroundColor: '#C8FACD',\n                            fontWeight: 'bold',\n                        }}\n                        size='small'\n                    />\n                ),\n            };\n        });\n\n    const usersColumns = [\n        {\n            title: 'Ime i prezime',\n            field: 'firstLastName',\n            sorting: true,\n            width: '10%',\n        },\n        { title: 'Email', field: 'email' },\n        { title: 'Broj telefona', field: 'phoneNumber', width: '10%' },\n        {\n            title: 'Datum rođenja',\n            field: 'dob',\n            searchable: false,\n            width: '10%',\n        },\n        { title: 'Spol', field: 'gender', searchable: false, width: '3%' },\n        { title: 'Država', field: 'country' },\n        {\n            title: 'Organizacija',\n            field: 'organization',\n            sorting: false,\n        },\n        {\n            title: 'Svrha istraživanja',\n            field: 'registrationPurpose',\n            sorting: false,\n            searchable: false,\n            cellStyle: {\n                textOverflow: 'ellipsis',\n                whiteSpace: 'nowrap',\n                overflow: 'hidden',\n                maxWidth: 150,\n            },\n        },\n        { title: 'Rola', field: 'role', searchable: false, width: '3%' },\n        {\n            title: 'Status',\n            field: 'status',\n            searchable: false,\n            sorting: false,\n        },\n        {\n            title: 'Urednik',\n            field: 'editor',\n            searchable: false,\n            sorting: false,\n        },\n    ];\n\n    const tableOptions = {\n        actionsColumnIndex: -1,\n        columnsButton: true,\n        grouping: false,\n        sorting: true,\n        paging: true,\n        pageSizeOptions: [5, 10, 20, 25, 50, 100],\n        pageSize: 10,\n        emptyRowsWhenPaging: false,\n        rowStyle: (rowData) => ({\n            color: rowData.removed && 'grey',\n            font: '15px Roboto',\n        }),\n        headerStyle: {\n            background: '#ddd',\n            color: '#000',\n            fontWeight: 'bold',\n            paddingRight: 10,\n        },\n    };\n\n    const tableLocalization = {\n        pagination: {\n            labelDisplayedRows: '',\n            previousTooltip: 'Prethodna',\n            nextTooltip: 'Sljedeća',\n            lastTooltip: 'Posljednja',\n            firstTooltip: 'Prva',\n            labelRowsPerPage: !isMobile && 'Redova po stranici',\n            labelRowsSelect: '',\n        },\n        toolbar: {\n            nRowsSelected: '{0} row(s) selected',\n            searchPlaceholder: 'Pretraga...',\n            showColumnsTitle: 'Prikaži kolone',\n            addRemoveColumns: 'Dadaj ili ukloni kolonu',\n        },\n        header: {\n            actions: 'Opcije',\n        },\n        body: {\n            emptyDataSourceMessage: 'Lista korisnika je prazna',\n            filterRow: {\n                filterTooltip: 'Filter',\n            },\n        },\n    };\n\n    const handleFilterUsersByRoles = (values) => {\n        if (values.length > 0) {\n            let tmpUserArr = [];\n            for (const user of allUsers) {\n                if (values.includes(user.role)) {\n                    tmpUserArr.push(user);\n                }\n            }\n            setUsers(tmpUserArr);\n        } else {\n            setUsers(allUsers);\n        }\n    };\n\n    return (\n        <div>\n            {isLoading ? (\n                <Loader loaderColor={`black`} />\n            ) : (\n                <div>\n                    {isAlertVisible && (\n                        <Snackbar\n                            open={isAlertVisible}\n                            anchorOrigin={{\n                                vertical: 'top',\n                                horizontal: 'center',\n                            }}\n                            autoHideDuration={8000}\n                            onClose={() => setIsAlertVisible(false)}\n                        >\n                            <Alert\n                                onClose={() => setIsAlertVisible(false)}\n                                severity='error'\n                                sx={{ width: '100%' }}\n                            >\n                                {errorMessage}\n                            </Alert>\n                        </Snackbar>\n                    )}\n\n                    <Grid container justifyContent='flex-start'>\n                        <UserRoleFilter\n                            onFilterUsers={handleFilterUsersByRoles}\n                            onResetFilter={() => setUsers(allUsers)}\n                        />\n                    </Grid>\n                    <MaterialTable\n                        columns={usersColumns}\n                        data={usersTableData}\n                        actions={[\n                            (rowData) => ({\n                                icon: () =>\n                                    rowData.removed ? (\n                                        <ToggleOff\n                                            sx={{\n                                                fontSize: 30,\n                                            }}\n                                            // color='disabled'\n                                        />\n                                    ) : (\n                                        <ToggleOn\n                                            sx={{\n                                                fontSize: 30,\n                                                color:\n                                                    rowData.role !== 'Admin' &&\n                                                    'green',\n                                            }}\n                                        />\n                                    ),\n                                tooltip:\n                                    rowData.role === 'Admin' || rowData.removed\n                                        ? ''\n                                        : 'Deaktivirati',\n                                onClick: (e, data) =>\n                                    rowData.removed\n                                        ? handleOpenUserActivateModal(data)\n                                        : handleOpenUserDeactivateModal(data),\n                                disabled:\n                                    rowData.role === 'Admin' ? true : false,\n                            }),\n                            (rowData) => ({\n                                icon: () => <DeleteOutlined />,\n                                tooltip:\n                                    rowData.role === 'Admin' || rowData.removed\n                                        ? ''\n                                        : 'Izbrisati',\n                                onClick: (e, data) =>\n                                    handleOpenUserRemoveModal(data),\n                                disabled:\n                                    rowData.role === 'Admin' ? true : false,\n                            }),\n                        ]}\n                        title='Lista korisnika'\n                        options={tableOptions}\n                        localization={tableLocalization}\n                    />\n                    {isUserDeactivateModalVisible && (\n                        <UserDeactivateModal\n                            visible={isUserDeactivateModalVisible}\n                            onClose={handleCloseUserDeactivateModal}\n                            selected={selectedRow}\n                        />\n                    )}\n                    {isUserActivateModalVisible && (\n                        <UserActivateModal\n                            visible={isUserActivateModalVisible}\n                            onClose={handleCloseUserActivateModal}\n                            selected={selectedRow}\n                        />\n                    )}\n                    {isUserRemoveModalVisible && (\n                        <UserRemoveModal\n                            visible={isUserRemoveModalVisible}\n                            onClose={handleCloseUserRemoveModal}\n                            selected={selectedRow}\n                        />\n                    )}\n                    {isUserAddEditorModalVisible && (\n                        <UserAddEditorModal\n                            visible={isUserAddEditorModalVisible}\n                            onClose={handleCloseUserAddEditorModal}\n                            selected={selectedRow}\n                        />\n                    )}\n                    {isUserRemoveEditorModalVisible && (\n                        <UserRemoveEditorModal\n                            visible={isUserRemoveEditorModalVisible}\n                            onClose={handleCloseUserRemoveEditorModal}\n                            selected={selectedRow}\n                        />\n                    )}\n                </div>\n            )}\n        </div>\n    );\n}\n\nexport default UsersTable;\n","import React, { useState } from 'react';\nimport {\n    Button,\n    Dialog,\n    DialogActions,\n    DialogContent,\n    DialogContentText,\n    Backdrop,\n} from '@mui/material';\nimport Service from '../../api/service';\nimport Loader from '../Loader';\nimport { modalResponseActions } from '../../store/modalResponse';\nimport { useDispatch } from 'react-redux';\n\nfunction DocumentPublicAccessModal(props) {\n    const [isLoading, setIsLoading] = useState(false);\n\n    let selectedDoc = props?.selected;\n    const dispatch = useDispatch();\n\n    const approvePublicAccess = async () => {\n        setIsLoading(true);\n        const docId = selectedDoc._id;\n        await Service.approvePublicAccess({ docId })\n            .then((res) => {\n                setIsLoading(false);\n                dispatch(modalResponseActions.setIsModalResAlertVisible());\n                dispatch(modalResponseActions.setModalAlertType('success'));\n                dispatch(\n                    modalResponseActions.setModalResMessage(res.data.message)\n                );\n                props.onClose(res.data.document, true);\n            })\n            .catch((err) => {\n                dispatch(modalResponseActions.setIsModalResAlertVisible());\n                dispatch(modalResponseActions.setModalAlertType('error'));\n                dispatch(\n                    modalResponseActions.setModalResMessage(\n                        err.response\n                            ? err.response.data.message\n                            : 'Konekcija sa serverom nije uspostavljena'\n                    )\n                );\n                setIsLoading(false);\n                props.onClose();\n            });\n    };\n\n    return (\n        <div>\n            <Backdrop\n                sx={{\n                    color: '#fff',\n                    zIndex: 1500,\n                }}\n                open={isLoading}\n            >\n                <Loader />\n            </Backdrop>\n            <Dialog\n                open={props.visible}\n                onClose={props.onClose}\n                aria-labelledby='alert-dialog-title'\n                aria-describedby='alert-dialog-description'\n            >\n                <DialogContent>\n                    <DialogContentText>\n                        Da li sigurno želite odobriti javni pristup ovom\n                        dokumentu?\n                    </DialogContentText>\n                </DialogContent>\n                <DialogActions>\n                    <Button\n                        onClick={props.onClose}\n                        variant='outlined'\n                        style={{ textTransform: 'none', fontWeight: 'bold' }}\n                    >\n                        Ne\n                    </Button>\n                    <Button\n                        onClick={approvePublicAccess}\n                        variant='contained'\n                        style={{ textTransform: 'none', fontWeight: 'bold' }}\n                    >\n                        Da\n                    </Button>\n                </DialogActions>\n            </Dialog>\n        </div>\n    );\n}\n\nexport default DocumentPublicAccessModal;\n","import React, { useState } from 'react';\nimport {\n    Button,\n    Dialog,\n    DialogActions,\n    DialogContent,\n    DialogContentText,\n    Backdrop,\n} from '@mui/material';\nimport Service from '../../api/service';\nimport Loader from '../Loader';\nimport { modalResponseActions } from '../../store/modalResponse';\nimport { useDispatch } from 'react-redux';\n\nfunction DocumentPublicAccessForbidModal(props) {\n    const [isLoading, setIsLoading] = useState(false);\n\n    let selectedDoc = props?.selected;\n    const dispatch = useDispatch();\n\n    const forbidPublicAccess = async () => {\n        setIsLoading(true);\n        const docId = selectedDoc._id;\n        await Service.forbidPublicAccess({ docId })\n            .then((res) => {\n                setIsLoading(false);\n                dispatch(modalResponseActions.setIsModalResAlertVisible());\n                dispatch(modalResponseActions.setModalAlertType('success'));\n                dispatch(\n                    modalResponseActions.setModalResMessage(res.data.message)\n                );\n                props.onClose(res.data.document, true);\n            })\n            .catch((err) => {\n                dispatch(modalResponseActions.setIsModalResAlertVisible());\n                dispatch(modalResponseActions.setModalAlertType('error'));\n                dispatch(\n                    modalResponseActions.setModalResMessage(\n                        err.response\n                            ? err.response.data.message\n                            : 'Konekcija sa serverom nije uspostavljena'\n                    )\n                );\n                setIsLoading(false);\n                props.onClose();\n            });\n    };\n\n    return (\n        <div>\n            <Backdrop\n                sx={{\n                    color: '#fff',\n                    zIndex: 1500,\n                }}\n                open={isLoading}\n            >\n                <Loader />\n            </Backdrop>\n            <Dialog\n                open={props.visible}\n                onClose={props.onClose}\n                aria-labelledby='alert-dialog-title'\n                aria-describedby='alert-dialog-description'\n            >\n                <DialogContent>\n                    <DialogContentText>\n                        Da li sigurno želite zabraniti javni pristup ovom\n                        dokumentu?\n                    </DialogContentText>\n                </DialogContent>\n                <DialogActions>\n                    <Button\n                        onClick={props.onClose}\n                        variant='outlined'\n                        style={{ textTransform: 'none', fontWeight: 'bold' }}\n                    >\n                        Ne\n                    </Button>\n                    <Button\n                        onClick={forbidPublicAccess}\n                        variant='contained'\n                        style={{ textTransform: 'none', fontWeight: 'bold' }}\n                    >\n                        Da\n                    </Button>\n                </DialogActions>\n            </Dialog>\n        </div>\n    );\n}\n\nexport default DocumentPublicAccessForbidModal;\n","import React, { useState } from 'react';\nimport {\n    Button,\n    Dialog,\n    DialogActions,\n    DialogContent,\n    DialogContentText,\n    Backdrop,\n} from '@mui/material';\nimport Service from '../../api/service';\nimport Loader from '../Loader';\nimport { modalResponseActions } from '../../store/modalResponse';\nimport { useDispatch } from 'react-redux';\n\nfunction DocumentDeleteModal(props) {\n    const [isLoading, setIsLoading] = useState(false);\n\n    let selectedDoc = props?.selected;\n    const dispatch = useDispatch();\n\n    const deleteDocumentHandler = async () => {\n        setIsLoading(true);\n        const docId = selectedDoc.id;\n\n        await Service.deleteDocument({ docId })\n            .then((res) => {\n                setIsLoading(false);\n                dispatch(modalResponseActions.setIsModalResAlertVisible());\n                dispatch(modalResponseActions.setModalAlertType('success'));\n                dispatch(\n                    modalResponseActions.setModalResMessage(res.data.message)\n                );\n                props.onClose(res.data.document, true);\n            })\n            .catch((err) => {\n                dispatch(modalResponseActions.setIsModalResAlertVisible());\n                dispatch(modalResponseActions.setModalAlertType('error'));\n                dispatch(\n                    modalResponseActions.setModalResMessage(\n                        err.response\n                            ? err.response.data.message\n                            : 'Konekcija sa serverom nije uspostavljena'\n                    )\n                );\n                setIsLoading(false);\n                props.onClose();\n            });\n    };\n\n    return (\n        <div>\n            <Backdrop\n                sx={{\n                    color: '#fff',\n                    zIndex: 1500,\n                }}\n                open={isLoading}\n            >\n                <Loader />\n            </Backdrop>\n            <Dialog\n                open={props.visible}\n                onClose={props.onClose}\n                aria-labelledby='alert-dialog-title'\n                aria-describedby='alert-dialog-description'\n            >\n                <DialogContent>\n                    <DialogContentText>\n                        Da li želite učiniti ovaj dokument neaktivnim?\n                    </DialogContentText>\n                </DialogContent>\n                <DialogActions>\n                    <Button\n                        onClick={props.onClose}\n                        variant='outlined'\n                        style={{ textTransform: 'none', fontWeight: 'bold' }}\n                    >\n                        Ne\n                    </Button>\n                    <Button\n                        onClick={deleteDocumentHandler}\n                        variant='contained'\n                        style={{ textTransform: 'none', fontWeight: 'bold' }}\n                    >\n                        Da\n                    </Button>\n                </DialogActions>\n            </Dialog>\n        </div>\n    );\n}\n\nexport default DocumentDeleteModal;\n","import React, { useEffect, useState } from 'react';\nimport {\n    Box,\n    OutlinedInput,\n    InputLabel,\n    MenuItem,\n    FormControl,\n    Select,\n    Chip,\n    Grid,\n    Button,\n    Slider,\n    Typography,\n    TextField,\n    Stack,\n} from '@mui/material';\nimport DateRangePicker from '@mui/lab/DateRangePicker';\nimport AdapterDateFns from '@mui/lab/AdapterDateFns';\nimport LocalizationProvider from '@mui/lab/LocalizationProvider';\nimport { makeStyles } from '@mui/styles';\n\nconst useStyles = makeStyles((theme) => ({\n    filterBtns: {\n        textTransform: 'none',\n        fontWeight: 'bold',\n    },\n    filterBtnsField: {\n        '@media (max-width: 900px)': {\n            marginTop: 10,\n        },\n    },\n}));\n\nfunction DocumentsTableFilters(props) {\n    const [fileTypeValues, setFileTypeValues] = useState([]);\n    const [rangeValue, setRangeValue] = useState([]);\n    const [docValue, setDocValue] = useState('');\n    const [docLastChangeValue, setDocLastChangeValue] = useState([null, null]);\n\n    const fileTypes = ['image', 'video', 'audio', 'document'];\n    const classes = useStyles();\n    useEffect(() => {\n        setRangeValue([0, props?.biggestDoc]);\n    }, [props?.biggestDoc]);\n\n    const handleChangeFileTypeValues = (event) => {\n        const {\n            target: { value },\n        } = event;\n        setFileTypeValues(value);\n    };\n\n    const getFileType = (role) => {\n        switch (role) {\n            case 'image':\n                return 'Slika';\n            case 'video':\n                return 'Video';\n            case 'audio':\n                return 'Audio';\n            case 'document':\n                return 'Dokument';\n            default:\n                break;\n        }\n    };\n\n    const handleChangeSizeRangeFilter = (e, value) => {\n        setRangeValue(value);\n    };\n\n    const handleChangeDocValue = (e) => {\n        setDocValue(e.target.value);\n    };\n\n    const resetFiltersHandler = () => {\n        setFileTypeValues([]);\n        setDocLastChangeValue([null, null]);\n        setRangeValue([0, props?.biggestDoc]);\n        setDocValue('');\n        props.onResetFilters();\n    };\n\n    const filterDocsHandler = () => {\n        props.onApplyFilters({\n            docValue,\n            rangeValue,\n            fileTypeValues,\n            docLastChangeValue,\n        });\n    };\n\n    const isResetFilterBtnsVisible =\n        docLastChangeValue.every((val) => val !== null && val !== undefined) ||\n        fileTypeValues.length > 0 ||\n        rangeValue.some((val) => val !== 0 && val !== props?.biggestDoc) ||\n        docValue;\n\n    return (\n        <div>\n            <Grid\n                container\n                spacing={2}\n                columns={16}\n                sx={{ marginTop: 1, marginBottom: 1 }}\n            >\n                <Grid item xs={16} sm={8} md={4}>\n                    <FormControl fullWidth>\n                        <InputLabel id='demo-multiple-name-label'>\n                            Tip dokumenta\n                        </InputLabel>\n                        <Select\n                            labelId='demo-multiple-name-label'\n                            id='demo-multiple-name'\n                            multiple\n                            value={fileTypeValues}\n                            onChange={handleChangeFileTypeValues}\n                            input={<OutlinedInput label='Tip dokumenta' />}\n                            renderValue={(selected) => (\n                                <Box\n                                    sx={{\n                                        display: 'flex',\n                                        flexWrap: 'wrap',\n                                        gap: 0.5,\n                                    }}\n                                >\n                                    {selected.map((value) => (\n                                        <Chip\n                                            key={value}\n                                            label={getFileType(value)}\n                                        />\n                                    ))}\n                                </Box>\n                            )}\n                        >\n                            {fileTypes.map((role, index) => (\n                                <MenuItem key={index} value={role}>\n                                    {getFileType(role)}\n                                </MenuItem>\n                            ))}\n                        </Select>\n                    </FormControl>\n                </Grid>\n                <Grid item xs={16} sm={8} md={4}>\n                    <Box sx={{ width: '100%' }}>\n                        <Typography>Veličina dokumenta</Typography>\n                        <Slider\n                            value={rangeValue}\n                            onChange={handleChangeSizeRangeFilter}\n                            valueLabelDisplay='auto'\n                            valueLabelFormat={(val) =>\n                                `${(val / 1000000).toFixed(2)} MB`\n                            }\n                            max={props?.biggestDoc}\n                            step={1000}\n                        />\n                    </Box>\n                </Grid>\n                <Grid item xs={16} sm={8} md={4}>\n                    <FormControl fullWidth>\n                        <InputLabel id='demo-simple-select-label'>\n                            Vrsta vrijednosti\n                        </InputLabel>\n                        <Select\n                            labelId='demo-simple-select-label'\n                            id='demo-simple-select'\n                            value={docValue}\n                            onChange={handleChangeDocValue}\n                            input={<OutlinedInput label='Vrsta vrijednosti' />}\n                        >\n                            <MenuItem value='public'>Javno dostupan</MenuItem>\n                            <MenuItem value='private'>\n                                Ograničen pristup\n                            </MenuItem>\n                        </Select>\n                    </FormControl>\n                </Grid>\n                <Grid item xs={16} sm={8} md={4}>\n                    <LocalizationProvider dateAdapter={AdapterDateFns}>\n                        {/* <Typography>Zadnja izmjena </Typography> */}\n                        <DateRangePicker\n                            startText='Od'\n                            endText='Do'\n                            inputFormat='dd/MM/yyyy'\n                            value={docLastChangeValue}\n                            onChange={(newValue) => {\n                                setDocLastChangeValue(newValue);\n                            }}\n                            renderInput={(startProps, endProps) => (\n                                <React.Fragment>\n                                    <TextField {...startProps} />\n                                    <Box sx={{ mx: 2 }}> - </Box>\n                                    <TextField {...endProps} />\n                                </React.Fragment>\n                            )}\n                        />\n                    </LocalizationProvider>\n                </Grid>\n                <Grid container justifyContent='flex-end'>\n                    {isResetFilterBtnsVisible && (\n                        <Stack\n                            spacing={2}\n                            direction='row'\n                            className={classes.filterBtnsField}\n                        >\n                            <Button\n                                variant='outlined'\n                                className={classes.filterBtns}\n                                onClick={resetFiltersHandler}\n                            >\n                                Reset\n                            </Button>\n                            <Button\n                                variant='contained'\n                                className={classes.filterBtns}\n                                onClick={filterDocsHandler}\n                            >\n                                Filter\n                            </Button>\n                        </Stack>\n                    )}\n                </Grid>\n\n                {/* {fileTypeValues.length > 0 && (\n                    <Grid item xs={16} sm={4}>\n                        <Button\n                            variant='contained'\n                            startIcon={<HighlightOffOutlined />}\n                            onClick={handleResetFilter}\n                            className={classes.resetBtn}\n                        >\n                            Reset\n                        </Button>\n                    </Grid>\n                )} */}\n            </Grid>\n        </div>\n    );\n}\n\nexport default DocumentsTableFilters;\n","import React, { useEffect, useState, useRef } from 'react';\nimport { useNavigate } from 'react-router-dom';\nimport MaterialTable from '@material-table/core';\nimport {\n    Snackbar,\n    Alert,\n    useMediaQuery,\n    Tooltip,\n    Box,\n    Chip,\n    IconButton,\n    Grid,\n    Button,\n} from '@mui/material';\nimport {\n    DeleteOutlined,\n    EditOutlined,\n    VisibilityOutlined,\n    CheckBox,\n    CheckBoxOutlineBlank,\n} from '@mui/icons-material';\nimport { makeStyles } from '@mui/styles';\n\nimport Service from '../../api/service';\nimport Loader from '../Loader';\nimport DocumentPublicAccessModal from '../DocumentPublicAccessModal';\nimport DocumentPublicAccessForbidModal from '../DocumentPublicAccessForbidModal';\nimport DocumentDeleteModal from '../DocumentDeleteModal';\nimport DocumentsTableFilters from '../DocumentsTableFilters';\nimport { capitalizeWord } from '../../utilities/capitalizeWord';\n\nconst useStyles = makeStyles((theme) => ({\n    newDocBtn: {\n        textTransform: 'none',\n        fontWeight: 'bold',\n        marginBottom: 15,\n    },\n}));\nfunction DocumentsTable() {\n    const [documents, setDocuments] = useState([]);\n    const [allDocuments, setAllDocuments] = useState([]);\n    const [isLoading, setIsLoading] = useState(true);\n    const [isAlertVisible, setIsAlertVisible] = useState(false);\n    const [errorMessage, setErrorMessage] = useState('');\n    const [selectedRow, setSelectedRow] = useState(null);\n    const [\n        isVisibleDocAccessApprovedModal,\n        setIsVisibleDocAccessApprovedModal,\n    ] = useState(false);\n    const [\n        isVisibleDocAccessForbiddenModal,\n        setIsVisibleDocAccessForbiddenModal,\n    ] = useState(false);\n    const [isDeleteDocModalVisible, setIsDeleteDocModalVisible] =\n        useState(false);\n    const [biggestDoc, setBiggestDoc] = useState(0);\n\n    const isMobile = useMediaQuery('(max-width:540px)');\n    const navigate = useNavigate();\n    const classes = useStyles();\n    let isMounted = useRef(true);\n\n    useEffect(() => {\n        const fetchAllDocumentsHandler = async () => {\n            await Service.getAllDocuments()\n                .then((res) => {\n                    if (isMounted.current) {\n                        setDocuments(res.data.allDocuments);\n                        setAllDocuments(res.data.allDocuments);\n\n                        let docSizes = [];\n                        for (let doc of res.data.allDocuments) {\n                            docSizes.push(Number(doc.documentSize));\n                        }\n                        setBiggestDoc(Math.max(...docSizes));\n                        setIsLoading(false);\n                    }\n                })\n                .catch((err) => {\n                    setIsAlertVisible(true);\n                    setErrorMessage(\n                        err.response?.status === 500\n                            ? 'Konekcija sa serverom nije uspostavljena'\n                            : err.response.data.message\n                    );\n                    setIsLoading(false);\n                });\n        };\n\n        fetchAllDocumentsHandler();\n        return () => {\n            isMounted.current = false;\n        };\n    }, []);\n\n    const documentTypeHandler = (type) => {\n        switch (type) {\n            case 'document':\n                return 'Dokument';\n            case 'audio':\n                return 'Audio';\n            case 'video':\n                return 'Video';\n            case 'image':\n                return 'Slika';\n            default:\n                break;\n        }\n    };\n\n    const getFileSize = (fileSize) => {\n        if (fileSize?.length > 6) {\n            return `${Number(fileSize / 1000000).toFixed(2)} MB`;\n        }\n        if (fileSize?.length > 9) {\n            return `${Number(fileSize / 1000000000).toFixed(2)} GB`;\n        } else {\n            return `${Number(fileSize / 1000).toFixed(2)} kB`;\n        }\n    };\n\n    const handleOpenDocumentPublicAccessApproveModal = (data) => {\n        setIsVisibleDocAccessApprovedModal(true);\n        setSelectedRow(data);\n    };\n    const handleCloseDocumentAccessApproveModal = (data, isOk) => {\n        if (isOk) {\n            let tmpDocData = [...documents];\n            tmpDocData.forEach((doc) => {\n                if (doc._id === data._id) {\n                    return (doc.publicAccess = true);\n                }\n            });\n            setDocuments(tmpDocData);\n        }\n        setIsVisibleDocAccessApprovedModal(false);\n        setSelectedRow(null);\n    };\n\n    const handleOpenDocumentPublicAccessForbidModal = (data) => {\n        setIsVisibleDocAccessForbiddenModal(true);\n        setSelectedRow(data);\n    };\n\n    const handleCloseDocumentPublicAccessForbidModal = (data, isOk) => {\n        if (isOk) {\n            let tmpDocData = [...documents];\n            tmpDocData.forEach((doc) => {\n                if (doc._id === data._id) {\n                    return (doc.publicAccess = false);\n                }\n            });\n            setDocuments(tmpDocData);\n        }\n        setIsVisibleDocAccessForbiddenModal(false);\n        setSelectedRow(null);\n    };\n\n    const handleOpenDeleteDocModal = (data) => {\n        setIsDeleteDocModalVisible(true);\n        setSelectedRow(data);\n    };\n\n    const handleCloseDeleteDocModal = (data, isOk) => {\n        if (isOk) {\n            let tmpDocData = [...documents];\n            tmpDocData.forEach((doc) => {\n                if (doc._id === data._id) {\n                    return (doc.active = false);\n                }\n            });\n            setDocuments(tmpDocData);\n        }\n        setIsDeleteDocModalVisible(false);\n        setSelectedRow(null);\n    };\n\n    const documentsTableData =\n        documents &&\n        documents.map((document) => {\n            return {\n                id: document._id,\n                documentName: capitalizeWord(document.documentName),\n                documentType: documentTypeHandler(document.fileType),\n                size: getFileSize(document.documentSize),\n                initialSize: document.documentSize,\n                active: document.active ? (\n                    <Chip\n                        label='Aktivan'\n                        style={{\n                            color: '#007b55',\n                            backgroundColor: '#C8FACD',\n                            fontWeight: 'bold',\n                        }}\n                        size='small'\n                    />\n                ) : (\n                    <Chip\n                        label='Neaktivan'\n                        style={{\n                            color: '#B72136',\n                            backgroundColor: '#FFE7D9',\n                            fontWeight: 'bold',\n                        }}\n                        size='small'\n                    />\n                ),\n                removed: !document.active,\n                description: document.description && (\n                    <Tooltip title={document.description} placement='top-start'>\n                        <Box>{document.description}</Box>\n                    </Tooltip>\n                ),\n                ownership: capitalizeWord(document.ownership),\n                location: capitalizeWord(document.location),\n                publicAccess:\n                    document.publicAccess === true ? (\n                        <IconButton\n                            onClick={() =>\n                                handleOpenDocumentPublicAccessForbidModal(\n                                    document\n                                )\n                            }\n                            disabled={!document.active}\n                        >\n                            <CheckBox\n                                style={{\n                                    color: document.active && '#00ab55',\n                                    cursor: 'pointer',\n                                }}\n                            />\n                        </IconButton>\n                    ) : (\n                        <IconButton\n                            onClick={() =>\n                                handleOpenDocumentPublicAccessApproveModal(\n                                    document\n                                )\n                            }\n                            disabled={!document.active}\n                        >\n                            <CheckBoxOutlineBlank\n                                style={{ cursor: 'pointer' }}\n                            />\n                        </IconButton>\n                    ),\n            };\n        });\n\n    const documentsColumns = [\n        {\n            title: 'Naziv dokumenta',\n            field: 'documentName',\n            width: '15%',\n            // customSort: (a, b) => a.documentName - b.documentName,\n        },\n        {\n            title: 'Tip dokumenta',\n            field: 'documentType',\n            width: '10%',\n        },\n        {\n            title: 'Veličina',\n            field: 'size',\n            type: 'numeric',\n            align: 'left',\n            searchable: false,\n            customSort: (a, b) => a.initialSize - b.initialSize,\n        },\n        {\n            title: 'Status',\n            field: 'active',\n            align: 'left',\n            searchable: false,\n            sorting: false,\n        },\n        {\n            title: 'Opis',\n            field: 'description',\n            sorting: false,\n            // width: '25%',\n            align: 'left',\n            searchable: false,\n            cellStyle: {\n                textOverflow: 'ellipsis',\n                whiteSpace: 'nowrap',\n                overflow: 'hidden',\n                maxWidth: 200,\n            },\n        },\n        { title: 'Vlasništvo', field: 'ownership' },\n        {\n            title: 'Lokacija',\n            field: 'location',\n        },\n        {\n            title: 'Dozvoli javni pregled',\n            field: 'publicAccess',\n            width: '8%',\n            align: 'center',\n            sorting: false,\n        },\n    ];\n\n    const tableOptions = {\n        actionsColumnIndex: -1,\n        columnsButton: true,\n        grouping: false,\n        sorting: true,\n        paging: true,\n        pageSizeOptions: [5, 10, 20, 25, 50, 100],\n        pageSize: 10,\n        emptyRowsWhenPaging: false,\n        rowStyle: (rowData) => ({\n            backgroundColor: selectedRow?._id === rowData.id ? '#ccc' : '',\n            color: rowData.removed && 'grey',\n            font: '15px Roboto',\n        }),\n        headerStyle: {\n            background: '#ddd',\n            color: '#000',\n            fontWeight: 'bold',\n            paddingRight: 10,\n        },\n    };\n\n    const tableLocalization = {\n        pagination: {\n            labelDisplayedRows: '',\n            previousTooltip: 'Prethodna',\n            nextTooltip: 'Sljedeća',\n            lastTooltip: 'Posljednja',\n            firstTooltip: 'Prva',\n            labelRowsPerPage: !isMobile && 'Redova po stranici',\n            labelRowsSelect: '',\n        },\n        toolbar: {\n            nRowsSelected: '{0} row(s) selected',\n            searchPlaceholder: 'Pretraga...',\n            showColumnsTitle: 'Prikaži kolone',\n            addRemoveColumns: 'Dadaj ili ukloni kolonu',\n        },\n        header: {\n            actions: 'Opcije',\n        },\n        body: {\n            emptyDataSourceMessage: 'Lista dokumenata je prazna',\n            filterRow: {\n                filterTooltip: 'Filter',\n            },\n        },\n    };\n\n    const filterDocsHandler = (data) => {\n        const { docLastChangeValue, docValue, fileTypeValues, rangeValue } =\n            data;\n        let tmpDocArr = [...allDocuments];\n\n        if (fileTypeValues.length > 0) {\n            tmpDocArr = tmpDocArr.filter(\n                (doc) => fileTypeValues.includes(doc.fileType) && doc\n            );\n        }\n\n        if (rangeValue.length > 0) {\n            tmpDocArr = tmpDocArr.filter(\n                (doc) =>\n                    Number(doc.documentSize) >= rangeValue[0] &&\n                    Number(doc.documentSize) <= rangeValue[1]\n            );\n        }\n\n        if (docValue) {\n            tmpDocArr = tmpDocArr.filter((doc) =>\n                docValue === 'public' ? doc.publicAccess : !doc.publicAccess\n            );\n        }\n\n        if ((docLastChangeValue[0] && docLastChangeValue[1]) !== null) {\n            const start = new Date(docLastChangeValue[0]);\n            const end = new Date(docLastChangeValue[1]);\n            tmpDocArr = tmpDocArr.filter(\n                (doc) =>\n                    start <= new Date(doc.lastEdit).getTime() &&\n                    end >= new Date(doc.lastEdit).getTime()\n            );\n        }\n\n        setDocuments(tmpDocArr);\n    };\n\n    return (\n        <div>\n            {isLoading ? (\n                <Loader loaderColor={`black`} />\n            ) : (\n                <div>\n                    {isAlertVisible && (\n                        <Snackbar\n                            open={isAlertVisible}\n                            anchorOrigin={{\n                                vertical: 'top',\n                                horizontal: 'center',\n                            }}\n                            autoHideDuration={8000}\n                            onClose={() => setIsAlertVisible(false)}\n                        >\n                            <Alert\n                                onClose={() => setIsAlertVisible(false)}\n                                severity='error'\n                                sx={{ width: '100%' }}\n                            >\n                                {errorMessage}\n                            </Alert>\n                        </Snackbar>\n                    )}\n                    <Grid>\n                        <DocumentsTableFilters\n                            biggestDoc={biggestDoc}\n                            onApplyFilters={filterDocsHandler}\n                            onResetFilters={() => setDocuments(allDocuments)}\n                        />\n                    </Grid>\n                    <Grid container justifyContent='flex-end'>\n                        <Button\n                            variant='contained'\n                            className={classes.newDocBtn}\n                            onClick={() => navigate('/novidokument')}\n                        >\n                            Novi dokument\n                        </Button>\n                    </Grid>\n                    <MaterialTable\n                        columns={documentsColumns}\n                        data={documentsTableData}\n                        actions={[\n                            {\n                                icon: () => <VisibilityOutlined />,\n                                tooltip: 'Pogledati',\n                                onClick: (e, data) =>\n                                    navigate(`/pregled/${data.id}`),\n                            },\n                            {\n                                icon: () => <EditOutlined />,\n                                tooltip: 'Urediti',\n                                onClick: (e, data) =>\n                                    navigate(`/izmjena/${data.id}`),\n                            },\n                            (rowData) => ({\n                                icon: () => <DeleteOutlined />,\n                                tooltip: rowData.removed ? '' : 'Deaktivirati',\n                                onClick: (e, data) =>\n                                    handleOpenDeleteDocModal(data),\n                                disabled: rowData.removed,\n                            }),\n                        ]}\n                        title='Lista dokumenata'\n                        options={tableOptions}\n                        localization={tableLocalization}\n                    />\n                    {isVisibleDocAccessApprovedModal && (\n                        <DocumentPublicAccessModal\n                            visible={isVisibleDocAccessApprovedModal}\n                            onClose={handleCloseDocumentAccessApproveModal}\n                            selected={selectedRow}\n                        />\n                    )}\n                    {isVisibleDocAccessForbiddenModal && (\n                        <DocumentPublicAccessForbidModal\n                            visible={isVisibleDocAccessForbiddenModal}\n                            onClose={handleCloseDocumentPublicAccessForbidModal}\n                            selected={selectedRow}\n                        />\n                    )}\n                    {isDeleteDocModalVisible && (\n                        <DocumentDeleteModal\n                            visible={isDeleteDocModalVisible}\n                            onClose={handleCloseDeleteDocModal}\n                            selected={selectedRow}\n                        />\n                    )}\n                </div>\n            )}\n        </div>\n    );\n}\n\nexport default DocumentsTable;\n","import React, { useEffect, useState, useRef } from 'react';\nimport { useNavigate } from 'react-router-dom';\nimport { useSelector } from 'react-redux';\nimport MaterialTable from '@material-table/core';\nimport {\n    Snackbar,\n    Alert,\n    useMediaQuery,\n    Tooltip,\n    Box,\n    Chip,\n} from '@mui/material';\nimport { VisibilityOutlined } from '@mui/icons-material';\nimport { capitalizeWord } from '../../utilities/capitalizeWord';\nimport Service from '../../api/service';\nimport Loader from '../Loader';\n\nfunction UsersApprovedDocumentsTable() {\n    const [documents, setDocuments] = useState([]);\n    const [isLoading, setIsLoading] = useState(true);\n    const [isAlertVisible, setIsAlertVisible] = useState(false);\n    const [errorMessage, setErrorMessage] = useState('');\n\n    const currentUser = useSelector((state) => state.auth.currentUser);\n\n    const isMobile = useMediaQuery('(max-width:540px)');\n    const navigate = useNavigate();\n    let isMounted = useRef(true);\n\n    useEffect(() => {\n        const fetchAllApprovedDocumentsHandler = async () => {\n            await Service.getApprovedDocuments()\n                .then((res) => {\n                    if (isMounted.current) {\n                        setDocuments(res.data.userFilteredDocs);\n                        setIsLoading(false);\n                    }\n                })\n                .catch((err) => {\n                    setIsAlertVisible(true);\n                    setErrorMessage(\n                        err.response?.status === 500\n                            ? 'Konekcija sa serverom nije uspostavljena'\n                            : err.response.data.message\n                    );\n                    setIsLoading(false);\n                });\n        };\n\n        fetchAllApprovedDocumentsHandler();\n        return () => {\n            isMounted.current = false;\n        };\n    }, []);\n\n    const documentTypeHandler = (type) => {\n        switch (type) {\n            case 'document':\n                return 'Dokument';\n            case 'audio':\n                return 'Audio';\n            case 'video':\n                return 'Video';\n            case 'image':\n                return 'Slika';\n            default:\n                break;\n        }\n    };\n\n    const documentStatusShow = (docId) => {\n        if (currentUser.approvedDocuments.includes(docId)) {\n            return (\n                <Chip\n                    label='Odobren'\n                    style={{\n                        color: '#04297A',\n                        backgroundColor: '#D0F2FF',\n                        fontWeight: 'bold',\n                    }}\n                    size='small'\n                />\n            );\n        } else if (currentUser.pendingDocuments.includes(docId)) {\n            return (\n                <Chip\n                    label='Na čekanju'\n                    style={{\n                        color: '#B78103',\n                        backgroundColor: '#FFF7CD',\n                        fontWeight: 'bold',\n                    }}\n                    size='small'\n                />\n            );\n        } else {\n            return (\n                <Chip\n                    label='Javno dostupan'\n                    style={{\n                        color: '#007b55',\n                        backgroundColor: '#C8FACD',\n                        fontWeight: 'bold',\n                    }}\n                    size='small'\n                />\n            );\n        }\n    };\n\n    const documentsTableData =\n        documents &&\n        documents.map((document) => {\n            return {\n                id: document._id,\n                documentName: capitalizeWord(document.documentName),\n                documentType: documentTypeHandler(document.fileType),\n                description: document.description && (\n                    <Tooltip title={document.description} placement='top-start'>\n                        <Box>{document.description}</Box>\n                    </Tooltip>\n                ),\n                ownership: capitalizeWord(document.ownership),\n                location: capitalizeWord(document.location),\n                status: documentStatusShow(document._id),\n            };\n        });\n\n    const documentsColumns = [\n        {\n            title: 'Naziv dokumenta',\n            field: 'documentName',\n            width: '15%',\n        },\n        {\n            title: 'Tip dokumenta',\n            field: 'documentType',\n            width: '10%',\n        },\n        {\n            title: 'Opis',\n            field: 'description',\n            sorting: false,\n            width: '35%',\n            align: 'left',\n            searchable: false,\n            cellStyle: {\n                textOverflow: 'ellipsis',\n                whiteSpace: 'nowrap',\n                overflow: 'hidden',\n                maxWidth: 200,\n            },\n        },\n        { title: 'Vlasništvo', field: 'ownership' },\n        {\n            title: 'Lokacija',\n            field: 'location',\n        },\n        {\n            title: 'Status',\n            field: 'status',\n            align: 'left',\n            searchable: false,\n            sorting: false,\n        },\n    ];\n\n    const tableOptions = {\n        actionsColumnIndex: -1,\n        columnsButton: true,\n        grouping: false,\n        sorting: true,\n        paging: true,\n        pageSizeOptions: [5, 10, 20, 25, 50, 100],\n        pageSize: 10,\n        emptyRowsWhenPaging: false,\n        rowStyle: {\n            font: '15px Roboto',\n        },\n        headerStyle: {\n            background: '#ddd',\n            color: '#000',\n            fontWeight: 'bold',\n            paddingRight: 10,\n        },\n    };\n\n    const tableLocalization = {\n        pagination: {\n            labelDisplayedRows: '',\n            previousTooltip: 'Prethodna',\n            nextTooltip: 'Sljedeća',\n            lastTooltip: 'Posljednja',\n            firstTooltip: 'Prva',\n            labelRowsPerPage: !isMobile && 'Redova po stranici',\n            labelRowsSelect: '',\n        },\n        toolbar: {\n            nRowsSelected: '{0} row(s) selected',\n            searchPlaceholder: 'Pretraga...',\n            showColumnsTitle: 'Prikaži kolone',\n            addRemoveColumns: 'Dadaj ili ukloni kolonu',\n        },\n        header: {\n            actions: 'Opcije',\n        },\n        body: {\n            emptyDataSourceMessage: 'Vaša lista dokumenata je prazna',\n            filterRow: {\n                filterTooltip: 'Filter',\n            },\n        },\n    };\n\n    return (\n        <div>\n            {isLoading ? (\n                <Loader loaderColor={`black`} />\n            ) : (\n                <div>\n                    {isAlertVisible && (\n                        <Snackbar\n                            open={isAlertVisible}\n                            anchorOrigin={{\n                                vertical: 'top',\n                                horizontal: 'center',\n                            }}\n                            autoHideDuration={8000}\n                            onClose={() => setIsAlertVisible(false)}\n                        >\n                            <Alert\n                                onClose={() => setIsAlertVisible(false)}\n                                severity='error'\n                                sx={{ width: '100%' }}\n                            >\n                                {errorMessage}\n                            </Alert>\n                        </Snackbar>\n                    )}\n                    <MaterialTable\n                        columns={documentsColumns}\n                        data={documentsTableData}\n                        actions={[\n                            {\n                                icon: () => <VisibilityOutlined />,\n                                tooltip: 'Pogledati',\n                                onClick: (e, data) =>\n                                    navigate(`/pregled/${data.id}`),\n                            },\n                        ]}\n                        title='Vaša lista dokumenata'\n                        options={tableOptions}\n                        localization={tableLocalization}\n                        style={{ marginTop: 10 }}\n                    />\n                </div>\n            )}\n        </div>\n    );\n}\n\nexport default UsersApprovedDocumentsTable;\n","import React from 'react';\nimport { useSelector } from 'react-redux';\nimport { Grid, Breadcrumbs, Typography, Stack } from '@mui/material';\nimport HomeIcon from '@mui/icons-material/Home';\nimport UsersTable from '../../components/UsersTable';\nimport './style.css';\nimport DocumentsTable from '../../components/DocumentsTable';\nimport UsersApprovedDocumentsTable from '../../components/UsersApprovedDocumentsTable';\n\nfunction Home() {\n    const currentUser = useSelector((state) => state.auth.currentUser);\n\n    return (\n        <div role='presentation' className='homePage'>\n            <Grid container justifyContent='flex-start'>\n                <Breadcrumbs aria-label='breadcrumb'>\n                    <Stack\n                        direction='row'\n                        spacing={2}\n                        style={{ color: '#393e46' }}\n                    >\n                        <HomeIcon\n                            sx={{ mr: -1.5, marginTop: 0.1 }}\n                            fontSize='inherit'\n                        />\n                        <Typography>Početna</Typography>\n                    </Stack>\n                </Breadcrumbs>\n            </Grid>\n\n            {currentUser.role === 'admin' && <UsersTable />}\n            {currentUser.role === 'editor' && <DocumentsTable />}\n            {currentUser.role === 'reader' && <UsersApprovedDocumentsTable />}\n        </div>\n    );\n}\n\nexport default Home;\n","import { alpha, styled } from '@mui/material/styles';\nimport { Card, Typography } from '@mui/material';\nimport { Person } from '@mui/icons-material';\n// import { fShortenNumber } from '../../../utils/formatNumber';\nimport CountUp from 'react-countup';\n\nconst RootStyle = styled(Card)(({ theme }) => ({\n    boxShadow: 'none',\n    textAlign: 'center',\n    padding: theme.spacing(5, 0),\n    color: '#005249',\n    backgroundColor: '#C8FACD',\n    borderRadius: 20,\n}));\n\nconst IconWrapperStyle = styled('div')(({ theme }) => ({\n    margin: 'auto',\n    display: 'flex',\n    borderRadius: '50%',\n    alignItems: 'center',\n    width: theme.spacing(8),\n    height: theme.spacing(8),\n    justifyContent: 'center',\n    marginBottom: theme.spacing(3),\n    color: '#005249',\n    backgroundImage: `linear-gradient(135deg, ${alpha(\n        '#005249',\n        0\n    )} 0%, ${alpha('#005249', 0.24)} 100%)`,\n}));\n\n// ----------------------------------------------------------------------\n\nexport default function TotalUsersNumber(props) {\n    return (\n        <RootStyle>\n            <IconWrapperStyle>\n                <Person style={{ color: '#005249' }} />\n            </IconWrapperStyle>\n            <Typography variant='h3'>\n                <CountUp end={props?.totalUsers} duration={2} />\n            </Typography>\n            <Typography\n                variant='subtitle2'\n                sx={{ opacity: 0.72, fontWeight: 'bold' }}\n            >\n                Broj korisnika\n            </Typography>\n        </RootStyle>\n    );\n}\n","import { alpha, styled } from '@mui/material/styles';\nimport { Card, Typography } from '@mui/material';\nimport { Login } from '@mui/icons-material';\n// import { fShortenNumber } from '../../../utils/formatNumber';\nimport CountUp from 'react-countup';\n\nconst RootStyle = styled(Card)(({ theme }) => ({\n    boxShadow: 'none',\n    textAlign: 'center',\n    padding: theme.spacing(5, 0),\n    color: '#04297A',\n    backgroundColor: '#D0F2FF',\n    borderRadius: 20,\n}));\n\nconst IconWrapperStyle = styled('div')(({ theme }) => ({\n    margin: 'auto',\n    display: 'flex',\n    borderRadius: '50%',\n    alignItems: 'center',\n    width: theme.spacing(8),\n    height: theme.spacing(8),\n    justifyContent: 'center',\n    marginBottom: theme.spacing(3),\n    color: '#04297A',\n    backgroundImage: `linear-gradient(135deg, ${alpha(\n        '#04297A',\n        0\n    )} 0%, ${alpha('#04297A', 0.24)} 100%)`,\n}));\n\nexport default function LastDayVisitors(props) {\n    return (\n        <RootStyle>\n            <IconWrapperStyle>\n                <Login style={{ color: '#04297A' }} />\n            </IconWrapperStyle>\n            <Typography variant='h3'>\n                <CountUp end={props?.todayVisit} duration={2} />\n            </Typography>\n            <Typography\n                variant='subtitle2'\n                sx={{ opacity: 0.72, fontWeight: 'bold' }}\n            >\n                Broj posjeta u posljednja 24h\n            </Typography>\n        </RootStyle>\n    );\n}\n","import { alpha, styled } from '@mui/material/styles';\nimport { Card, Typography } from '@mui/material';\nimport { DocumentScanner } from '@mui/icons-material';\nimport CountUp from 'react-countup';\n\nconst RootStyle = styled(Card)(({ theme }) => ({\n    boxShadow: 'none',\n    textAlign: 'center',\n    padding: theme.spacing(5, 0),\n    color: '#7A4F01',\n    backgroundColor: '#FFF7CD',\n    borderRadius: 20,\n}));\n\nconst IconWrapperStyle = styled('div')(({ theme }) => ({\n    margin: 'auto',\n    display: 'flex',\n    borderRadius: '50%',\n    alignItems: 'center',\n    width: theme.spacing(8),\n    height: theme.spacing(8),\n    justifyContent: 'center',\n    marginBottom: theme.spacing(3),\n    color: '#7A4F01',\n    backgroundImage: `linear-gradient(135deg, ${alpha(\n        '#7A4F01',\n        0\n    )} 0%, ${alpha('#7A4F01', 0.24)} 100%)`,\n}));\n\nexport default function TotalDocsNumber(props) {\n    return (\n        <RootStyle>\n            <IconWrapperStyle>\n                <DocumentScanner style={{ color: '#7A4F01' }} />\n            </IconWrapperStyle>\n            <Typography variant='h3'>\n                <CountUp end={props?.totalDocs} duration={2} />\n            </Typography>\n            <Typography\n                variant='subtitle2'\n                sx={{ opacity: 0.72, fontWeight: 'bold' }}\n            >\n                Broj dokumenata\n            </Typography>\n        </RootStyle>\n    );\n}\n","import { alpha, styled } from '@mui/material/styles';\nimport { Card, Typography } from '@mui/material';\nimport { Login } from '@mui/icons-material';\nimport CountUp from 'react-countup';\n\nconst RootStyle = styled(Card)(({ theme }) => ({\n    boxShadow: 'none',\n    textAlign: 'center',\n    padding: theme.spacing(5, 0),\n    color: '#7A0C2E',\n    backgroundColor: '#FFE7D9',\n    borderRadius: 20,\n}));\n\nconst IconWrapperStyle = styled('div')(({ theme }) => ({\n    margin: 'auto',\n    display: 'flex',\n    borderRadius: '50%',\n    alignItems: 'center',\n    width: theme.spacing(8),\n    height: theme.spacing(8),\n    justifyContent: 'center',\n    marginBottom: theme.spacing(3),\n    color: '#7A0C2E',\n    backgroundImage: `linear-gradient(135deg, ${alpha(\n        '#7A0C2E',\n        0\n    )} 0%, ${alpha('#7A0C2E', 0.24)} 100%)`,\n}));\n\nexport default function LastDayVisits(props) {\n    return (\n        <RootStyle>\n            <IconWrapperStyle>\n                <Login style={{ color: '#7A0C2E' }} />\n            </IconWrapperStyle>\n            <Typography variant='h3'>\n                <CountUp end={props?.lastDaysDocVisits} duration={2} />\n            </Typography>\n            <Typography\n                variant='subtitle2'\n                sx={{ opacity: 0.72, fontWeight: 'bold' }}\n            >\n                Broj pregledanih dokumenata u posljednja 24h\n            </Typography>\n        </RootStyle>\n    );\n}\n","// material\nimport { useTheme } from '@mui/material/styles';\n// import { GlobalStyles } from '@mui/material';\n\n// ----------------------------------------------------------------------\n\n// export function ChartsOptions() {\n//     const theme = useTheme();\n\n//     const background = {\n//         backdropFilter: 'blur(6px)',\n//         WebkitBackdropFilter: 'blur(6px)', // Fix on Mobile\n//         backgroundColor: alpha(theme.palette.background.default, 0.72),\n//     };\n\n//     // return (\n//     //     <GlobalStyles\n//     //         styles={{\n//     //             '&.apexcharts-canvas': {\n//     //                 // Tooltip\n//     //                 '.apexcharts-xaxistooltip': {\n//     //                     ...background,\n//     //                     border: 0,\n//     //                     // boxShadow: theme.customShadows.z24,\n//     //                     color: theme.palette.text.primary,\n//     //                     borderRadius: theme.shape.borderRadiusSm,\n//     //                     '&:before': { borderBottomColor: 'transparent' },\n//     //                     '&:after': {\n//     //                         borderBottomColor: alpha(\n//     //                             theme.palette.background.default,\n//     //                             0.72\n//     //                         ),\n//     //                     },\n//     //                 },\n//     //                 '.apexcharts-tooltip.apexcharts-theme-light': {\n//     //                     ...background,\n//     //                     border: 0,\n//     //                     // boxShadow: theme.customShadows.z24,\n//     //                     borderRadius: theme.shape.borderRadiusSm,\n//     //                     '& .apexcharts-tooltip-title': {\n//     //                         border: 0,\n//     //                         textAlign: 'center',\n//     //                         fontWeight: theme.typography.fontWeightBold,\n//     //                         backgroundColor: theme.palette.grey[500_16],\n//     //                         color: theme.palette.text[\n//     //                             theme.palette.mode === 'light'\n//     //                                 ? 'secondary'\n//     //                                 : 'primary'\n//     //                         ],\n//     //                     },\n//     //                 },\n//     //                 // Legend\n//     //                 '.apexcharts-legend': {\n//     //                     padding: 0,\n//     //                 },\n//     //                 '.apexcharts-legend-series': {\n//     //                     display: 'flex !important',\n//     //                     alignItems: 'center',\n//     //                 },\n//     //                 '.apexcharts-legend-marker': {\n//     //                     marginRight: 8,\n//     //                 },\n//     //                 '.apexcharts-legend-text': {\n//     //                     lineHeight: '18px',\n//     //                     textTransform: 'capitalize',\n//     //                 },\n//     //             },\n//     //         }}\n//     //     />\n//     //     );\n// }\n\nexport default function OptionCharts() {\n    const theme = useTheme();\n\n    const LABEL_TOTAL = {\n        show: true,\n        label: 'Total',\n        color: theme.palette.text.secondary,\n        ...theme.typography.subtitle2,\n    };\n\n    const LABEL_VALUE = {\n        offsetY: 8,\n        color: theme.palette.text.primary,\n        ...theme.typography.h3,\n    };\n\n    return {\n        // Colors\n        // colors: [\n        //     '#1890FF',\n        //     '#00AB55',\n\n        //     // '#FFC107',\n        //     // '#FF4842',\n        //     // theme.palette.primary.main,\n        // ],\n\n        // Chart\n        chart: {\n            toolbar: { show: false },\n            zoom: { enabled: false },\n            // animations: { enabled: false },\n            foreColor: theme.palette.text.disabled,\n            fontFamily: theme.typography.fontFamily,\n        },\n\n        // States\n        states: {\n            hover: {\n                filter: {\n                    type: 'lighten',\n                    value: 0.04,\n                },\n            },\n            active: {\n                filter: {\n                    type: 'darken',\n                    value: 0.88,\n                },\n            },\n        },\n\n        // Fill\n        fill: {\n            opacity: 1,\n            gradient: {\n                type: 'vertical',\n                shadeIntensity: 0,\n                opacityFrom: 0.4,\n                opacityTo: 0,\n                stops: [0, 100],\n            },\n        },\n\n        // Datalabels\n        dataLabels: { enabled: false },\n\n        // Stroke\n        stroke: {\n            width: 3,\n            curve: 'smooth',\n            lineCap: 'round',\n        },\n\n        // Grid\n        grid: {\n            strokeDashArray: 3,\n            borderColor: theme.palette.divider,\n        },\n\n        // Xaxis\n        xaxis: {\n            axisBorder: { show: false },\n            axisTicks: { show: false },\n        },\n\n        // Markers\n        markers: {\n            size: 0,\n            strokeColors: theme.palette.background.paper,\n        },\n\n        // Tooltip\n        tooltip: {\n            x: {\n                show: false,\n            },\n        },\n\n        // Legend\n        legend: {\n            show: true,\n            fontSize: 13,\n            position: 'top',\n            horizontalAlign: 'right',\n            markers: {\n                radius: 12,\n            },\n            fontWeight: 500,\n            itemMargin: { horizontal: 12 },\n            labels: {\n                colors: theme.palette.text.primary,\n            },\n        },\n\n        // plotOptions\n        plotOptions: {\n            // Bar\n            bar: {\n                columnWidth: '28%',\n                borderRadius: 4,\n            },\n            // Pie + Donut\n            pie: {\n                donut: {\n                    labels: {\n                        show: true,\n                        value: LABEL_VALUE,\n                        total: LABEL_TOTAL,\n                    },\n                },\n            },\n            // Radialbar\n            radialBar: {\n                track: {\n                    strokeWidth: '100%',\n                    background: theme.palette.grey[500_16],\n                },\n                dataLabels: {\n                    value: LABEL_VALUE,\n                    total: LABEL_TOTAL,\n                },\n            },\n            // Radar\n            radar: {\n                polygons: {\n                    fill: { colors: ['transparent'] },\n                    strokeColors: theme.palette.divider,\n                    connectorColors: theme.palette.divider,\n                },\n            },\n            // polarArea\n            polarArea: {\n                rings: {\n                    strokeColor: theme.palette.divider,\n                },\n                spokes: {\n                    connectorColors: theme.palette.divider,\n                },\n            },\n        },\n\n        // Responsive\n        responsive: [\n            {\n                // sm\n                breakpoint: theme.breakpoints.values.sm,\n                options: {\n                    plotOptions: { bar: { columnWidth: '40%' } },\n                },\n            },\n            {\n                // md\n                breakpoint: theme.breakpoints.values.md,\n                options: {\n                    plotOptions: { bar: { columnWidth: '32%' } },\n                },\n            },\n        ],\n    };\n}\n","import React, { useState } from 'react';\nimport {\n    Button,\n    Dialog,\n    DialogActions,\n    DialogContent,\n    DialogTitle,\n    List,\n    ListItem,\n    ListItemButton,\n    ListItemIcon,\n    ListItemText,\n    Collapse,\n} from '@mui/material';\nimport { formatDate } from '../../../utilities/formatDate';\nimport moment from 'moment';\nimport { EventNote, ExpandLess, ExpandMore } from '@mui/icons-material';\n\nfunction UsersVisitModal(props) {\n    const [open, setOpen] = useState({});\n    const users = props?.users;\n\n    const handleOpenListItem = (id) => {\n        setOpen((prevState) => ({ ...prevState, [id]: !prevState[id] }));\n    };\n    return (\n        <div>\n            <Dialog\n                open={props.visible}\n                onClose={props.onClose}\n                aria-labelledby='alert-dialog-title'\n                aria-describedby='alert-dialog-description'\n            >\n                <DialogTitle>\n                    Pregled posjete korisnika u posljednjih 7 dana\n                </DialogTitle>\n                <DialogContent dividers>\n                    <List\n                        sx={{\n                            width: '100%',\n                            maxWidth: '100%',\n                        }}\n                        component='nav'\n                        aria-labelledby='nested-list-subheader'\n                    >\n                        {users?.map((user, index) => {\n                            return (\n                                <div key={index}>\n                                    <ListItemButton\n                                        onClick={() =>\n                                            handleOpenListItem(index)\n                                        }\n                                    >\n                                        <ListItemIcon>\n                                            <EventNote />\n                                        </ListItemIcon>\n                                        <ListItemText\n                                            primary={formatDate(\n                                                moment().subtract(index, 'days')\n                                            )}\n                                        />\n                                        {open[index] ? (\n                                            <ExpandLess />\n                                        ) : (\n                                            <ExpandMore />\n                                        )}\n                                    </ListItemButton>\n                                    <Collapse\n                                        in={open[index]}\n                                        timeout='auto'\n                                        unmountOnExit\n                                    >\n                                        <List disablePadding>\n                                            {user.length > 0 ? (\n                                                <div>\n                                                    <ListItem>\n                                                        <ListItemIcon />\n                                                        <ListItemText\n                                                            primary={`Ukupno ${\n                                                                user.length\n                                                            } ${\n                                                                user.length > 1\n                                                                    ? 'korisnika:'\n                                                                    : 'korisnik:'\n                                                            }`}\n                                                            sx={{\n                                                                color: '#393e46',\n                                                            }}\n                                                        />\n                                                    </ListItem>\n                                                    {user.map((usr, i) => {\n                                                        return (\n                                                            <ListItem\n                                                                key={i}\n                                                                sx={{ ml: 1 }}\n                                                            >\n                                                                <ListItemIcon />\n                                                                <ListItemText\n                                                                    secondary={`- ${usr}`}\n                                                                />\n                                                            </ListItem>\n                                                        );\n                                                    })}\n                                                </div>\n                                            ) : (\n                                                <ListItem>\n                                                    <ListItemIcon />\n                                                    <ListItemText secondary='Nema prijavljenih korisnika' />\n                                                </ListItem>\n                                            )}\n                                        </List>\n                                    </Collapse>\n                                </div>\n                            );\n                        })}\n                    </List>\n                </DialogContent>\n                <DialogActions>\n                    <Button\n                        onClick={props.onClose}\n                        variant='outlined'\n                        style={{ textTransform: 'none', fontWeight: 'bold' }}\n                    >\n                        Zatvori\n                    </Button>\n                </DialogActions>\n            </Dialog>\n        </div>\n    );\n}\n\nexport default UsersVisitModal;\n","import React, { useState } from 'react';\nimport { merge } from 'lodash';\nimport ReactApexChart from 'react-apexcharts';\nimport { Card, CardHeader, Box, IconButton, Tooltip } from '@mui/material';\nimport moment from 'moment';\nimport ChartOptions from '../../ChartsOptions';\nimport { formatDate } from '../../../utilities/formatDate';\nimport { ViewList } from '@mui/icons-material';\nimport UsersVisitModal from '../UsersVisitModal';\n\nexport default function LastSevenDayLogin(props) {\n    const [isUsersVisitModalVisible, setIsUsersVisitModalVisible] =\n        useState(false);\n\n    const lastDaysAppVisits = props?.lastDaysAppVisits;\n    const lastDaysAppVisitsUsers = props?.lastDaysAppVisitsUsers;\n\n    const CHART_DATA = [\n        {\n            name: 'Posjeta',\n            type: 'column',\n            data: lastDaysAppVisits,\n        },\n        {\n            type: 'area',\n            data: lastDaysAppVisits,\n        },\n    ];\n\n    const chartOptions = merge(ChartOptions(), {\n        stroke: { width: [0, 2, 3] },\n        plotOptions: { bar: { columnWidth: '5%', borderRadius: 4 } },\n        fill: { type: ['solid', 'gradient', 'solid'] },\n        colors: ['#1890FF', '#00AB55'],\n        labels: [\n            formatDate(moment().subtract(6, 'days')),\n            formatDate(moment().subtract(5, 'days')),\n            formatDate(moment().subtract(4, 'days')),\n            formatDate(moment().subtract(3, 'days')),\n            formatDate(moment().subtract(2, 'days')),\n            formatDate(moment().subtract(1, 'days')),\n            formatDate(moment().subtract(0, 'days')),\n        ],\n        legend: {\n            show: false,\n        },\n        // xaxis: { type: 'datetime' },\n        tooltip: {\n            shared: false,\n            intersect: false,\n            y: {\n                formatter: (y) => {\n                    if (typeof y !== 'undefined') {\n                        return `${y}`;\n                    }\n                    return y;\n                },\n            },\n        },\n    });\n\n    const handleOpenUsersVisitModal = () => {\n        setIsUsersVisitModalVisible(true);\n    };\n\n    const handleCloseUsersVisitModal = () => {\n        setIsUsersVisitModalVisible(false);\n    };\n\n    return (\n        <Card>\n            <CardHeader\n                subheader='Posjeta posljednjih 7 dana'\n                action={\n                    <Tooltip title='Pregled' placement='top'>\n                        <IconButton onClick={handleOpenUsersVisitModal}>\n                            <ViewList />\n                        </IconButton>\n                    </Tooltip>\n                }\n            />\n\n            <Box sx={{ p: 3, pb: 1 }} dir='ltr'>\n                <ReactApexChart\n                    type='line'\n                    series={CHART_DATA}\n                    options={chartOptions}\n                    height={364}\n                />\n            </Box>\n            {isUsersVisitModalVisible && (\n                <UsersVisitModal\n                    visible={isUsersVisitModalVisible}\n                    onClose={handleCloseUsersVisitModal}\n                    users={lastDaysAppVisitsUsers}\n                />\n            )}\n        </Card>\n    );\n}\n","import React from 'react';\nimport { merge } from 'lodash';\nimport ReactApexChart from 'react-apexcharts';\nimport { styled } from '@mui/material/styles';\nimport { Card, CardHeader } from '@mui/material';\nimport ChartOptions from '../../ChartsOptions';\n\nconst CHART_HEIGHT = 372;\nconst LEGEND_HEIGHT = 72;\n\nconst ChartWrapperStyle = styled('div')(({ theme }) => ({\n    height: CHART_HEIGHT,\n    marginTop: theme.spacing(5),\n    '& .apexcharts-canvas svg': { height: CHART_HEIGHT },\n    '& .apexcharts-canvas svg,.apexcharts-canvas foreignObject': {\n        overflow: 'visible',\n    },\n    '& .apexcharts-legend': {\n        height: LEGEND_HEIGHT,\n        alignContent: 'center',\n        position: 'relative !important',\n        borderTop: `solid 1px ${theme.palette.divider}`,\n        top: `calc(${CHART_HEIGHT - LEGEND_HEIGHT}px) !important`,\n    },\n}));\n\nexport default function UsersAge(props) {\n    const usersAge = props?.usersAge;\n\n    const CHART_DATA = usersAge;\n\n    const chartOptions = merge(ChartOptions(), {\n        colors: [\n            '#00AB55',\n            '#1890FF',\n            '#FFC107',\n            '#FF4842',\n            '#826AF9',\n            '#FF9933',\n        ],\n        labels: ['Ispod 20', '20-30', '30-40', '40-50', '50-60', 'Iznad 60'],\n        // stroke: { colors: [theme.palette.background.paper] },\n        legend: { floating: true, horizontalAlign: 'center' },\n        dataLabels: { enabled: true, dropShadow: { enabled: false } },\n        tooltip: {\n            fillSeriesColor: false,\n            y: {\n                // formatter: (seriesName) => fNumber(seriesName),\n                title: {\n                    formatter: (seriesName) => `${seriesName}: korisnika`,\n                },\n            },\n        },\n        plotOptions: {\n            pie: { donut: { labels: { show: false } } },\n        },\n    });\n\n    return (\n        <Card>\n            <CardHeader subheader='Pregled korisnika po godinama' />\n\n            <ChartWrapperStyle dir='ltr'>\n                <ReactApexChart\n                    type='pie'\n                    series={CHART_DATA}\n                    options={chartOptions}\n                    height={280}\n                />\n            </ChartWrapperStyle>\n        </Card>\n    );\n}\n","import React from 'react';\nimport { merge } from 'lodash';\nimport ReactApexChart from 'react-apexcharts';\nimport { Box, Card, CardHeader } from '@mui/material';\nimport ChartOptions from '../../ChartsOptions';\n\nexport default function UsersCountries(props) {\n    const countries = props?.usersCountries;\n    let sortedCountries = [];\n\n    for (let country of countries) {\n        sortedCountries.unshift(country);\n    }\n\n    const CHART_DATA = [\n        {\n            data: [sortedCountries.map((country) => country[1])][0],\n        },\n    ];\n    const chartOptions = merge(ChartOptions(), {\n        tooltip: {\n            marker: { show: false },\n            y: {\n                // formatter: (seriesName) => fNumber(seriesName),\n                title: {\n                    formatter: () => `Broj korisnika`,\n                },\n            },\n        },\n        colors: ['#00AB55'],\n        plotOptions: {\n            bar: { horizontal: true, barHeight: '7%', borderRadius: 2 },\n        },\n        xaxis: {\n            categories: [sortedCountries.map((country) => country[0])][0],\n        },\n    });\n\n    return (\n        <Card>\n            <CardHeader subheader='Pregled korisnika po državama' />\n\n            <Box sx={{ mx: 3 }} dir='ltr'>\n                <ReactApexChart\n                    type='bar'\n                    series={CHART_DATA}\n                    options={chartOptions}\n                    height={396}\n                />\n            </Box>\n        </Card>\n    );\n}\n","import React from 'react';\nimport { merge } from 'lodash';\nimport ReactApexChart from 'react-apexcharts';\nimport { styled } from '@mui/material/styles';\nimport { Card, CardHeader } from '@mui/material';\nimport ChartOptions from '../../ChartsOptions';\n\nconst CHART_HEIGHT = 372;\nconst LEGEND_HEIGHT = 72;\n\nconst ChartWrapperStyle = styled('div')(({ theme }) => ({\n    height: CHART_HEIGHT,\n    marginTop: theme.spacing(5),\n    '& .apexcharts-canvas svg': { height: CHART_HEIGHT },\n    '& .apexcharts-canvas svg,.apexcharts-canvas foreignObject': {\n        overflow: 'visible',\n    },\n    '& .apexcharts-legend': {\n        height: LEGEND_HEIGHT,\n        alignContent: 'center',\n        position: 'relative !important',\n        borderTop: `solid 1px ${theme.palette.divider}`,\n        top: `calc(${CHART_HEIGHT - LEGEND_HEIGHT}px) !important`,\n    },\n}));\n\nexport default function PublicPrivateDocs(props) {\n    const CHART_DATA = [props?.publicDocs, props?.privateDocs];\n\n    const chartOptions = merge(ChartOptions(), {\n        colors: ['#FF9933', '#826AF9'],\n        labels: ['Javni', 'Privatni'],\n        // stroke: { colors: [theme.palette.background.paper] },\n        legend: { floating: true, horizontalAlign: 'center' },\n        dataLabels: { enabled: true, dropShadow: { enabled: false } },\n        tooltip: {\n            fillSeriesColor: false,\n            y: {\n                // formatter: (seriesName) => fNumber(seriesName),\n                title: {\n                    formatter: (seriesName) => `${seriesName}`,\n                },\n            },\n        },\n        plotOptions: {\n            pie: { donut: { labels: { show: false } } },\n        },\n    });\n\n    return (\n        <Card>\n            <CardHeader subheader='Pregled dokumenata po pristupu' />\n            <ChartWrapperStyle dir='ltr'>\n                <ReactApexChart\n                    type='pie'\n                    series={CHART_DATA}\n                    options={chartOptions}\n                    height={280}\n                />\n            </ChartWrapperStyle>\n        </Card>\n    );\n}\n","import React from 'react';\nimport { merge } from 'lodash';\nimport ReactApexChart from 'react-apexcharts';\nimport { Box, Card, CardHeader } from '@mui/material';\nimport ChartOptions from '../../ChartsOptions';\n\nexport default function MostAccessedDocs(props) {\n    const docs = props?.mostAccessedDocs;\n\n    const CHART_DATA = [\n        {\n            data: docs.map((doc) => doc.visits),\n        },\n    ];\n    const chartOptions = merge(ChartOptions(), {\n        tooltip: {\n            marker: { show: false },\n            y: {\n                title: {\n                    formatter: () => `Broj posjeta`,\n                },\n            },\n        },\n        colors: ['#1890FF'],\n        plotOptions: { bar: { columnWidth: '12%', borderRadius: 4 } },\n        labels: docs.map((doc) => doc.documentName),\n    });\n\n    return (\n        <Card>\n            <CardHeader subheader='Najposjećeniji dokumenti' />\n            <Box sx={{ mx: 3 }} dir='ltr'>\n                <ReactApexChart\n                    type='bar'\n                    series={CHART_DATA}\n                    options={chartOptions}\n                    height={396}\n                />\n            </Box>\n        </Card>\n    );\n}\n","import React from 'react';\nimport { merge } from 'lodash';\nimport ReactApexChart from 'react-apexcharts';\nimport { Box, Card, CardHeader } from '@mui/material';\nimport ChartOptions from '../../ChartsOptions';\n\nexport default function MostSearchedDocs(props) {\n    const docs = props?.mostSearchedDocs;\n\n    const CHART_DATA = [\n        {\n            data: docs.map((doc) => doc.searchNumber),\n        },\n    ];\n    const chartOptions = merge(ChartOptions(), {\n        tooltip: {\n            marker: { show: false },\n            y: {\n                title: {\n                    formatter: () => `Broj traženja`,\n                },\n            },\n        },\n        colors: ['#00AB55'],\n        plotOptions: { bar: { columnWidth: '12%', borderRadius: 4 } },\n        labels: docs.map((doc) => doc.documentName),\n    });\n\n    return (\n        <Card>\n            <CardHeader subheader='Najtraženiji dokumenti po ključnim riječima' />\n            <Box sx={{ mx: 3 }} dir='ltr'>\n                <ReactApexChart\n                    type='bar'\n                    series={CHART_DATA}\n                    options={chartOptions}\n                    height={396}\n                />\n            </Box>\n        </Card>\n    );\n}\n","import React from 'react';\nimport { merge } from 'lodash';\nimport ReactApexChart from 'react-apexcharts';\nimport { Box, Card, CardHeader } from '@mui/material';\nimport ChartOptions from '../../ChartsOptions';\n\nexport default function MostDownloadedDocs(props) {\n    const docs = props?.mostDownloadedDocs;\n\n    const CHART_DATA = [\n        {\n            data: docs.map((doc) => doc.downloadNumber),\n        },\n    ];\n    const chartOptions = merge(ChartOptions(), {\n        tooltip: {\n            marker: { show: false },\n            y: {\n                title: {\n                    formatter: () => `Broj preuzimanja`,\n                },\n            },\n        },\n        colors: ['#FFC107'],\n        plotOptions: { bar: { columnWidth: '8%', borderRadius: 4 } },\n        labels: docs.map((doc) => doc.documentName),\n    });\n\n    return (\n        <Card>\n            <CardHeader subheader='Dokumenti sa najviše preuzimanja' />\n            <Box sx={{ mx: 3 }} dir='ltr'>\n                <ReactApexChart\n                    type='bar'\n                    series={CHART_DATA}\n                    options={chartOptions}\n                    height={396}\n                />\n            </Box>\n        </Card>\n    );\n}\n","import React, { useEffect, useState, useRef } from 'react';\nimport { NavLink } from 'react-router-dom';\nimport {\n    Grid,\n    Breadcrumbs,\n    Typography,\n    Stack,\n    Snackbar,\n    Alert,\n} from '@mui/material';\nimport { Home, Timeline } from '@mui/icons-material';\nimport UsersTotal from '../../components/UsersStatistics/UsersTotal';\nimport LastDayVisitors from '../../components/UsersStatistics/LastDayVisitors';\nimport DocumentsTotal from '../../components/DocumentsStatistics/DocumentsTotal';\nimport LastDayDocVisits from '../../components/DocumentsStatistics/LastDayDocVisits';\nimport LastSevenDayVisits from '../../components/UsersStatistics/LastSevenDayVisits';\nimport UsersAge from '../../components/UsersStatistics/UsersAge';\nimport UsersCountries from '../../components/UsersStatistics/UsersCountries';\nimport PublicPrivateDocs from '../../components/DocumentsStatistics/PublicPrivateDocs';\nimport './style.css';\nimport MostAccessedDocs from '../../components/DocumentsStatistics/MostAccessedDocs';\nimport Service from '../../api/service';\nimport Loader from '../../components/Loader';\nimport MostSearchedDocs from '../../components/DocumentsStatistics/MostSearchedDocs';\nimport MostDownloadedDocs from '../../components/DocumentsStatistics/MostDownloadedDocs';\n\nfunction Statistics() {\n    const [publicDocs, setPublicDocs] = useState(0);\n    const [privateDocs, setPrivateDocs] = useState(0);\n    const [mostAccessedDocs, setMostAccessedDocs] = useState([]);\n    const [mostSearchedDocs, setMostSearchedDocs] = useState([]);\n    const [mostDownloadedDocs, setMostDownloadedDocs] = useState([]);\n    const [lastDaysDocVisits, setLastDaysDocVisits] = useState(0);\n    const [totalDocs, setTotalDocs] = useState(0);\n\n    const [lastDaysAppVisits, setLastDaysAppVisits] = useState([]);\n    const [lastDaysAppVisitsUsers, setLastDaysAppVisitsUsers] = useState([]);\n    const [usersAge, setUsersAge] = useState([]);\n    const [usersCountries, setUsersCountries] = useState([]);\n    const [totalUsers, setTotalUsers] = useState(0);\n    const [todayVisit, setTodayVisit] = useState(0);\n\n    const [isLoading, setIsLoading] = useState(true);\n    const [isAlertVisible, setIsAlertVisible] = useState(false);\n    const [errorMessage, setErrorMessage] = useState('');\n\n    const isMounted = useRef(true);\n\n    useEffect(() => {\n        const fetchDocsStats = async () => {\n            await Service.getDocsStats()\n                .then((res) => {\n                    if (isMounted.current) {\n                        setPublicDocs(res.data.publicDocs);\n                        setPrivateDocs(res.data.privateDocs);\n                        setMostAccessedDocs(res.data.sortedDocs);\n                        setMostSearchedDocs(res.data.mostSearchedDocs);\n                        setMostDownloadedDocs(res.data.mostDownloadedDocs);\n                        setTotalDocs(res.data.totalDocs);\n                        setLastDaysDocVisits(res.data.lastDayDocsVisits);\n                    }\n                })\n                .catch((err) => {\n                    setIsAlertVisible(true);\n                    setErrorMessage(\n                        err.response\n                            ? err.response.data.message\n                            : 'Konekcija sa serverom nije uspostavljena'\n                    );\n                });\n        };\n\n        const fetchUsersStats = async () => {\n            await Service.getUsersStats()\n                .then((res) => {\n                    if (isMounted.current) {\n                        setLastDaysAppVisits(res.data.lastDaysAppVisits);\n                        setLastDaysAppVisitsUsers(\n                            res.data.lastDaysAppVisitsUsers\n                        );\n                        setTodayVisit(res.data.todayVisit);\n                        setUsersAge(res.data.usersAge);\n                        setUsersCountries(res.data.sortedCountries);\n                        setTotalUsers(res.data.totalUsers);\n                        setIsLoading(false);\n                    }\n                })\n                .catch((err) => {\n                    setIsAlertVisible(true);\n                    setErrorMessage(\n                        err.response\n                            ? err.response.data.message\n                            : 'Konekcija sa serverom nije uspostavljena'\n                    );\n                    setIsLoading(false);\n                });\n        };\n\n        fetchDocsStats();\n        fetchUsersStats();\n\n        return () => {\n            isMounted.current = false;\n        };\n    }, []);\n\n    return (\n        <div className='statisticsPage'>\n            {isLoading ? (\n                <Loader loaderColor={`black`} />\n            ) : (\n                <div>\n                    {isAlertVisible && (\n                        <Snackbar\n                            open={isAlertVisible}\n                            anchorOrigin={{\n                                vertical: 'top',\n                                horizontal: 'center',\n                            }}\n                            autoHideDuration={8000}\n                            onClose={() => setIsAlertVisible(false)}\n                        >\n                            <Alert\n                                onClose={() => setIsAlertVisible(false)}\n                                severity='error'\n                                sx={{ width: '100%' }}\n                            >\n                                {errorMessage}\n                            </Alert>\n                        </Snackbar>\n                    )}\n                    <Grid container justifyContent='flex-start'>\n                        <Breadcrumbs aria-label='breadcrumb'>\n                            <NavLink\n                                to='/'\n                                style={{\n                                    textDecoration: 'none',\n                                    color: 'grey',\n                                }}\n                            >\n                                <Home sx={{ mr: 0.5 }} fontSize='inherit' />\n                                Početna\n                            </NavLink>\n                            <Stack\n                                direction='row'\n                                spacing={2}\n                                style={{ color: '#393e46' }}\n                            >\n                                <Timeline\n                                    sx={{ mr: -1.2, marginTop: 0.3 }}\n                                    fontSize='inherit'\n                                />\n                                <Typography>Statistika</Typography>\n                            </Stack>\n                        </Breadcrumbs>\n                    </Grid>\n                    <div className='statNumbers'>\n                        <Grid container spacing={3}>\n                            <Grid item xs={12} sm={6} md={3}>\n                                <UsersTotal totalUsers={totalUsers} />\n                            </Grid>\n                            <Grid item xs={12} sm={6} md={3}>\n                                <LastDayVisitors todayVisit={todayVisit} />\n                            </Grid>\n                            <Grid item xs={12} sm={6} md={3}>\n                                <DocumentsTotal totalDocs={totalDocs} />\n                            </Grid>\n\n                            <Grid item xs={12} sm={6} md={3}>\n                                <LastDayDocVisits\n                                    lastDaysDocVisits={lastDaysDocVisits}\n                                />\n                            </Grid>\n\n                            <Grid item xs={12} md={6} lg={8}>\n                                <LastSevenDayVisits\n                                    lastDaysAppVisits={lastDaysAppVisits}\n                                    lastDaysAppVisitsUsers={\n                                        lastDaysAppVisitsUsers\n                                    }\n                                />\n                            </Grid>\n                            <Grid item xs={12} md={6} lg={4}>\n                                <UsersAge usersAge={usersAge} />\n                            </Grid>\n                            <Grid item xs={12} md={6} lg={8}>\n                                <UsersCountries\n                                    usersCountries={usersCountries}\n                                />\n                            </Grid>\n                            <Grid item xs={12} md={6} lg={4}>\n                                <PublicPrivateDocs\n                                    publicDocs={publicDocs}\n                                    privateDocs={privateDocs}\n                                />\n                            </Grid>\n                            <Grid item xs={12} md={6} lg={6}>\n                                <MostAccessedDocs\n                                    mostAccessedDocs={mostAccessedDocs}\n                                />\n                            </Grid>\n                            <Grid item xs={12} md={6} lg={6}>\n                                <MostSearchedDocs\n                                    mostSearchedDocs={mostSearchedDocs}\n                                />\n                            </Grid>\n                            <Grid item xs={12} md={6} lg={12}>\n                                <MostDownloadedDocs\n                                    mostDownloadedDocs={mostDownloadedDocs}\n                                />\n                            </Grid>\n                        </Grid>\n                    </div>\n                </div>\n            )}\n        </div>\n    );\n}\n\nexport default Statistics;\n","import React, { useState } from 'react';\nimport {\n    Grid,\n    TextField,\n    Button,\n    InputAdornment,\n    IconButton,\n    Typography,\n    Backdrop,\n    Alert,\n    Accordion,\n    AccordionSummary,\n    AccordionDetails,\n    Snackbar,\n    AlertTitle,\n} from '@mui/material';\nimport {\n    Lock,\n    Visibility,\n    VisibilityOff,\n    ExpandMore,\n    HighlightOff,\n} from '@mui/icons-material';\nimport { useSelector } from 'react-redux';\nimport { useForm } from 'react-hook-form';\nimport { yupResolver } from '@hookform/resolvers/yup';\nimport * as Yup from 'yup';\nimport Loader from '../../components/Loader';\nimport './style.css';\nimport Service from '../../api/service';\n\nfunction PasswordChangeAccordion() {\n    const [showCurrentPassword, setShowCurrentPassword] = useState(false);\n    const [showPassword, setShowPassword] = useState(false);\n    const [isLoading, setIsLoading] = useState(false);\n    const [isSuccessAlertVisible, setIsSuccessAlertVisible] = useState(false);\n    const [isErrorAlertVisible, setIsErrorAlertVisible] = useState(false);\n    const [alertType, setAlertType] = useState('success');\n    const [alertMessage, setAlertMessage] = useState('');\n    const [isExpandedAccordion, setIsExpandedAccordion] = useState(false);\n\n    const currentUser = useSelector((state) => state.auth.currentUser);\n\n    const validationSchema = Yup.object().shape({\n        currentPassword: Yup.string().required('Morate unijeti staru šifru'),\n        password: Yup.string()\n            .required('Šifra je obavezna')\n            .max(24, 'Šifra može da sadrži maximalno 24 karaktera')\n            .matches(\n                /^.*(?=.{8,})((?=.*[!@#$%^&*()\\-_=+{};:,<.>]){1})(?=.*\\d)((?=.*[a-z]){1})((?=.*[A-Z]){1}).*$/,\n                'Šifra mora da sadrži minimalno 8 karaktera, jedno veliko, jedno malo slovo, jedan broj i jedan simbol'\n            ),\n        passwordConfirm: Yup.string()\n            .required('Morate potvrditi novu šifru')\n            .oneOf([Yup.ref('password'), null], 'Šifre moraju biti iste'),\n    });\n\n    const {\n        register,\n        handleSubmit,\n        reset,\n        formState: { errors },\n    } = useForm({\n        resolver: yupResolver(validationSchema),\n        defaultValues: {\n            currentPassword: '',\n            password: '',\n            passwordConfirm: '',\n        },\n    });\n\n    const handleUpdatePassword = async (passwordValues) => {\n        setIsLoading(true);\n        await Service.updateUserPassword({\n            currentPassword: passwordValues.currentPassword,\n            newPassword: passwordValues.password,\n            id: currentUser?._id,\n        })\n            .then((res) => {\n                setIsSuccessAlertVisible(true);\n                setAlertMessage(res.data.message);\n                setAlertType(res.data.status);\n                reset();\n                setIsErrorAlertVisible(false);\n                setIsExpandedAccordion(false);\n                window.scrollTo({\n                    top: 0,\n                    behavior: 'smooth',\n                });\n            })\n            .catch((err) => {\n                setAlertMessage(\n                    err.response\n                        ? err.response.data.message\n                        : 'Konekcija sa serverom nije uspostavljena, pokušajte da osjvežite aplikaciju ili nas kontaktirajte putem info maila.'\n                );\n                setIsErrorAlertVisible(true);\n                setAlertType(err.response ? err.response.data.status : 'error');\n            });\n        setIsLoading(false);\n    };\n\n    const handleChangeAccordion = (panel) => (event, isExpanded) => {\n        setIsExpandedAccordion(isExpanded ? panel : false);\n    };\n\n    return (\n        <div>\n            <Backdrop\n                sx={{\n                    color: '#fff',\n                    zIndex: (theme) => theme.zIndex.drawer + 1,\n                }}\n                open={isLoading}\n            >\n                <Loader />\n            </Backdrop>\n            {isSuccessAlertVisible && (\n                <Snackbar\n                    open={isSuccessAlertVisible}\n                    anchorOrigin={{\n                        vertical: 'top',\n                        horizontal: 'center',\n                    }}\n                    autoHideDuration={6000}\n                    onClose={() => setIsSuccessAlertVisible(false)}\n                >\n                    <Alert\n                        onClose={() => setIsSuccessAlertVisible(false)}\n                        severity={alertType}\n                        sx={{ width: '100%', font: '14px Roboto' }}\n                    >\n                        {alertMessage}\n                    </Alert>\n                </Snackbar>\n            )}\n            <Accordion\n                expanded={isExpandedAccordion === 'panel1'}\n                onChange={handleChangeAccordion('panel1')}\n                sx={{ m: 1, borderRadius: 1 }}\n            >\n                <AccordionSummary expandIcon={<ExpandMore />}>\n                    <Typography>Promjena šifre</Typography>\n                </AccordionSummary>\n                <AccordionDetails sx={{ padding: 0 }}>\n                    <div className='accordionOptions'>\n                        <Grid\n                            container\n                            justifyContent='center'\n                            spacing={2}\n                            columns={12}\n                            sx={{ mb: 2, padding: 1 }}\n                        >\n                            <Grid item xs={12} sm={10} md={8}>\n                                {isErrorAlertVisible && (\n                                    <Alert\n                                        severity={alertType}\n                                        action={\n                                            <HighlightOff\n                                                onClick={() =>\n                                                    setIsErrorAlertVisible(\n                                                        false\n                                                    )\n                                                }\n                                                style={{ cursor: 'pointer' }}\n                                            />\n                                        }\n                                        style={{\n                                            marginBottom: 15,\n                                        }}\n                                    >\n                                        <AlertTitle>Greška</AlertTitle>\n                                        {alertMessage}\n                                        <strong> Pokušajte ponovo !</strong>\n                                    </Alert>\n                                )}\n                            </Grid>\n                            <Grid item xs={12} sm={10} md={8}>\n                                <TextField\n                                    id='currentPassword'\n                                    label='Trenutna šifra'\n                                    type={\n                                        showCurrentPassword\n                                            ? 'text'\n                                            : 'password'\n                                    }\n                                    fullWidth\n                                    required\n                                    {...register('currentPassword')}\n                                    error={errors.password ? true : false}\n                                    InputProps={{\n                                        endAdornment: (\n                                            <InputAdornment position='end'>\n                                                <IconButton\n                                                    aria-label='toggle password visibility'\n                                                    onClick={() =>\n                                                        setShowCurrentPassword(\n                                                            !showCurrentPassword\n                                                        )\n                                                    }\n                                                >\n                                                    {showCurrentPassword ? (\n                                                        <Visibility\n                                                            style={{\n                                                                color: '#393e46',\n                                                            }}\n                                                        />\n                                                    ) : (\n                                                        <VisibilityOff\n                                                            style={{\n                                                                color: '#393e46',\n                                                            }}\n                                                        />\n                                                    )}\n                                                </IconButton>\n                                            </InputAdornment>\n                                        ),\n                                    }}\n                                />\n                                <Typography\n                                    variant='inherit'\n                                    color='red'\n                                    sx={{\n                                        textAlign: 'left',\n                                        font: '12px Roboto',\n                                    }}\n                                >\n                                    {errors.currentPassword?.message}\n                                </Typography>\n                            </Grid>\n                            <Grid item xs={12} sm={10} md={8}>\n                                <TextField\n                                    id='password'\n                                    label='Nova šifra'\n                                    type={showPassword ? 'text' : 'password'}\n                                    fullWidth\n                                    required\n                                    {...register('password')}\n                                    error={errors.password ? true : false}\n                                    InputProps={{\n                                        endAdornment: (\n                                            <InputAdornment position='end'>\n                                                <IconButton\n                                                    aria-label='toggle password visibility'\n                                                    onClick={() =>\n                                                        setShowPassword(\n                                                            !showPassword\n                                                        )\n                                                    }\n                                                >\n                                                    {showPassword ? (\n                                                        <Visibility\n                                                            style={{\n                                                                color: '#393e46',\n                                                            }}\n                                                        />\n                                                    ) : (\n                                                        <VisibilityOff\n                                                            style={{\n                                                                color: '#393e46',\n                                                            }}\n                                                        />\n                                                    )}\n                                                </IconButton>\n                                            </InputAdornment>\n                                        ),\n                                    }}\n                                />\n                                <Typography\n                                    variant='inherit'\n                                    color='red'\n                                    sx={{\n                                        textAlign: 'left',\n                                        font: '12px Roboto',\n                                    }}\n                                >\n                                    {errors.password?.message}\n                                </Typography>\n                            </Grid>\n                            <Grid item xs={12} sm={10} md={8}>\n                                <TextField\n                                    id='passwordConfirm'\n                                    label='Potvrdite novu šifru'\n                                    type={showPassword ? 'text' : 'password'}\n                                    fullWidth\n                                    required\n                                    {...register('passwordConfirm')}\n                                    error={\n                                        errors.passwordConfirm ? true : false\n                                    }\n                                    InputProps={{\n                                        endAdornment: (\n                                            <InputAdornment position='end'>\n                                                <IconButton\n                                                    aria-label='toggle password visibility'\n                                                    onClick={() =>\n                                                        setShowPassword(\n                                                            !showPassword\n                                                        )\n                                                    }\n                                                >\n                                                    {showPassword ? (\n                                                        <Visibility\n                                                            style={{\n                                                                color: '#393e46',\n                                                            }}\n                                                        />\n                                                    ) : (\n                                                        <VisibilityOff\n                                                            style={{\n                                                                color: '#393e46',\n                                                            }}\n                                                        />\n                                                    )}\n                                                </IconButton>\n                                            </InputAdornment>\n                                        ),\n                                    }}\n                                />\n                                <Typography\n                                    variant='inherit'\n                                    color='red'\n                                    sx={{\n                                        textAlign: 'left',\n                                        font: '12px Roboto',\n                                    }}\n                                >\n                                    {errors.passwordConfirm?.message}\n                                </Typography>\n                            </Grid>\n                        </Grid>\n                        <Grid container justifyContent='center' columns={12}>\n                            <Grid item xs={8} sm={6} md={4}>\n                                <Button\n                                    variant='contained'\n                                    startIcon={<Lock />}\n                                    sx={{\n                                        m: 1,\n                                        mt: -1,\n                                        mb: 2,\n                                        textTransform: 'none',\n                                        fontWeight: 'bold',\n                                        width: '100%',\n                                    }}\n                                    onClick={handleSubmit(handleUpdatePassword)}\n                                    // disabled={!switchChecked}\n                                >\n                                    Izmjeni\n                                </Button>\n                            </Grid>\n                        </Grid>\n                    </div>\n                </AccordionDetails>\n            </Accordion>\n        </div>\n    );\n}\n\nexport default PasswordChangeAccordion;\n","import React, { useState } from 'react';\nimport { NavLink } from 'react-router-dom';\nimport { useSelector, useDispatch } from 'react-redux';\nimport {\n    Grid,\n    Breadcrumbs,\n    Typography,\n    Stack,\n    Card,\n    Divider,\n    OutlinedInput,\n    InputLabel,\n    Switch,\n    FormGroup,\n    FormControlLabel,\n    Button,\n    TextField,\n    Autocomplete,\n    Box,\n    Alert,\n    Snackbar,\n    Backdrop,\n} from '@mui/material';\nimport { Home, Person, LocationOn, SaveOutlined } from '@mui/icons-material';\nimport { DatePicker, LocalizationProvider } from '@mui/lab';\nimport AdapterDateFns from '@mui/lab/AdapterDateFns';\nimport MuiPhoneNumber from 'material-ui-phone-number';\nimport countries from '../../utilities/countries';\nimport femaleLogo from '../../assets/femaleLogo.png';\nimport maleLogo from '../../assets/maleLogo.png';\nimport Service from '../../api/service';\nimport Loader from '../../components/Loader';\nimport { authActions } from '../../store/auth';\nimport { Controller, useForm } from 'react-hook-form';\nimport { yupResolver } from '@hookform/resolvers/yup';\nimport * as Yup from 'yup';\nimport PasswordChangeAccordion from '../../components/PasswordChangeAccordion';\nimport './style.css';\n\nfunction Profile() {\n    const currentUser = useSelector((state) => state.auth.currentUser);\n\n    const [isLoading, setIsLoading] = useState(false);\n    const [alertMessage, setAlertMessage] = useState('');\n    const [isAlertVisible, setIsAlertVisible] = useState(false);\n    const [alertType, setAlertType] = useState('success');\n    const [switchChecked, setSwitchChecked] = useState(false);\n\n    const dispatch = useDispatch();\n\n    const validationSchema = Yup.object().shape({\n        firstName: Yup.string().required('Ime je obavezno'),\n        lastName: Yup.string().required('Prezime je obavezno'),\n        phoneNumber: Yup.string()\n            .required('Broj telefona je obavezan')\n            .min(10, 'Nedovoljan broj karaktera'),\n        dob: Yup.date().required('Datum rođenja je obavezan'),\n        country: Yup.string().required('Država je obavezna'),\n        organization: Yup.string(),\n        address: Yup.string(),\n        city: Yup.string(),\n        about: Yup.string(),\n    });\n\n    const {\n        register,\n        control,\n        handleSubmit,\n        formState: { errors },\n    } = useForm({\n        resolver: yupResolver(validationSchema),\n        defaultValues: {\n            firstName: currentUser?.firstName,\n            lastName: currentUser?.lastName,\n            dob: currentUser?.dob,\n            address: currentUser?.address,\n            country: currentUser?.country,\n            city: currentUser?.city,\n            phoneNumber: currentUser?.phoneNumber,\n            organization: currentUser?.organization,\n            about: currentUser?.about,\n        },\n    });\n\n    const handleSwitchChange = (event) => {\n        setSwitchChecked(event.target.checked);\n    };\n\n    const handleUpdateProfile = async (values) => {\n        setIsLoading(true);\n        await Service.updateUserProfile({\n            values,\n            id: currentUser._id,\n        })\n            .then((res) => {\n                dispatch(authActions.setCurrentUser(res.data.user));\n                setIsLoading(false);\n                setAlertType('success');\n                setIsAlertVisible(true);\n                setAlertMessage(res.data.message);\n                setSwitchChecked(false);\n            })\n            .catch((err) => {\n                setAlertMessage(\n                    err.response\n                        ? err.response.data.message\n                        : 'Konekcija sa serverom nije uspostavljena.'\n                );\n                setAlertType('error');\n                setIsAlertVisible(true);\n                setIsLoading(false);\n            });\n    };\n\n    return (\n        <div className='profilePage'>\n            <Backdrop\n                sx={{\n                    color: '#fff',\n                    zIndex: (theme) => theme.zIndex.drawer + 1,\n                }}\n                open={isLoading}\n            >\n                <Loader />\n            </Backdrop>\n            {isAlertVisible && (\n                <Snackbar\n                    open={isAlertVisible}\n                    anchorOrigin={{\n                        vertical: 'top',\n                        horizontal: 'center',\n                    }}\n                    autoHideDuration={6000}\n                    onClose={() => setIsAlertVisible(false)}\n                >\n                    <Alert\n                        onClose={() => setIsAlertVisible(false)}\n                        severity={alertType}\n                        sx={{ width: '100%', font: '14px Roboto' }}\n                    >\n                        {alertMessage}\n                    </Alert>\n                </Snackbar>\n            )}\n            <Grid container justifyContent='flex-start'>\n                <Breadcrumbs aria-label='breadcrumb'>\n                    <NavLink\n                        to='/'\n                        style={{ textDecoration: 'none', color: 'grey' }}\n                    >\n                        <Home sx={{ mr: 0.5 }} fontSize='inherit' />\n                        Početna\n                    </NavLink>\n                    <Stack\n                        direction='row'\n                        spacing={2}\n                        style={{ color: '#393e46' }}\n                    >\n                        <Person\n                            sx={{ mr: -1.2, marginTop: 0.3 }}\n                            fontSize='inherit'\n                        />\n                        <Typography>Profil</Typography>\n                    </Stack>\n                </Breadcrumbs>\n            </Grid>\n            <div className='userCard'>\n                <Card sx={{ borderRadius: 3, backgroundColor: '#f4f6f8' }}>\n                    <div className='userNameAvatarDiv'>\n                        <Grid container justifyContent='flex-end'>\n                            <FormGroup sx={{ mr: 1 }}>\n                                <FormControlLabel\n                                    control={\n                                        <Switch\n                                            onChange={handleSwitchChange}\n                                            checked={switchChecked}\n                                        />\n                                    }\n                                    label='Urediti profil'\n                                    labelPlacement='start'\n                                />\n                            </FormGroup>\n                        </Grid>\n                        <img\n                            src={\n                                currentUser?.gender === 'female'\n                                    ? femaleLogo\n                                    : maleLogo\n                            }\n                            alt='user avatar'\n                            className='userAvatarProfilePage'\n                        />\n                        <Typography\n                            variant='h5'\n                            align='center'\n                            sx={{ margin: 1.5 }}\n                        >\n                            {`${currentUser?.firstName} ${currentUser?.lastName}`}\n                        </Typography>\n                        <Typography align='center' sx={{ color: '#637381' }}>\n                            {currentUser?.email}\n                        </Typography>\n                        <Stack\n                            direction='row'\n                            spacing={2}\n                            justifyContent='center'\n                            sx={{ margin: 1.5 }}\n                        >\n                            <LocationOn style={{ color: '#637381' }} />\n                            <Typography\n                                align='center'\n                                sx={{ color: '#637381' }}\n                            >\n                                {currentUser?.country}\n                            </Typography>\n                        </Stack>\n                    </div>\n                    <Divider\n                        variant='middle'\n                        sx={{ mb: 1.5, color: '#637381' }}\n                    />\n\n                    <div className='userMainInfo'>\n                        <Typography\n                            variant='subtitle1'\n                            sx={{\n                                fontWeight: 'bold',\n                                color: '#637381',\n                            }}\n                        >\n                            INFO\n                        </Typography>\n                        <Grid\n                            container\n                            spacing={2}\n                            columns={12}\n                            sx={{ padding: 1 }}\n                        >\n                            <Grid item xs={12} sm={6}>\n                                <InputLabel>Ime</InputLabel>\n                                <OutlinedInput\n                                    id='firstName'\n                                    fullWidth\n                                    sx={{ backgroundColor: '#fff' }}\n                                    disabled={!switchChecked}\n                                    {...register('firstName')}\n                                    error={errors.firstName ? true : false}\n                                />\n                                <Typography\n                                    variant='inherit'\n                                    color='red'\n                                    sx={{\n                                        font: '12px Roboto',\n                                    }}\n                                >\n                                    {errors.firstName?.message}\n                                </Typography>\n                            </Grid>\n                            <Grid item xs={12} sm={6}>\n                                <InputLabel>Prezime</InputLabel>\n                                <OutlinedInput\n                                    fullWidth\n                                    id='lastName'\n                                    sx={{ backgroundColor: '#fff' }}\n                                    disabled={!switchChecked}\n                                    {...register('lastName')}\n                                    error={errors.lastName ? true : false}\n                                />\n                                <Typography\n                                    variant='inherit'\n                                    color='red'\n                                    sx={{\n                                        font: '12px Roboto',\n                                    }}\n                                >\n                                    {errors.lastName?.message}\n                                </Typography>\n                            </Grid>\n                            <Grid item xs={12} sm={6}>\n                                <InputLabel>Email</InputLabel>\n                                <TextField\n                                    fullWidth\n                                    id='email'\n                                    defaultValue={currentUser?.email}\n                                    sx={{ backgroundColor: '#fff' }}\n                                    InputProps={{\n                                        readOnly: true,\n                                    }}\n                                    disabled={!switchChecked}\n                                />\n                            </Grid>\n                            <Grid item xs={12} sm={6}>\n                                <InputLabel>Datum rođenja</InputLabel>\n                                <LocalizationProvider\n                                    dateAdapter={AdapterDateFns}\n                                >\n                                    <Controller\n                                        control={control}\n                                        name='dob'\n                                        defaultValue={currentUser?.dob}\n                                        render={({ field }) => (\n                                            <DatePicker\n                                                {...field}\n                                                inputFormat='dd/MM/yyyy'\n                                                disableFuture\n                                                onChange={(e) => {\n                                                    field.onChange(\n                                                        e && e.toJSON()\n                                                    );\n                                                }}\n                                                clearable\n                                                disabled={!switchChecked}\n                                                renderInput={(params) => (\n                                                    <TextField\n                                                        {...params}\n                                                        required\n                                                        fullWidth\n                                                        sx={{\n                                                            backgroundColor:\n                                                                '#fff',\n                                                        }}\n                                                        error={\n                                                            errors.dob\n                                                                ? true\n                                                                : false\n                                                        }\n                                                    />\n                                                )}\n                                            />\n                                        )}\n                                        rules={{ required: true }}\n                                    />\n                                    <Typography\n                                        variant='inherit'\n                                        color='red'\n                                        sx={{\n                                            font: '12px Roboto',\n                                        }}\n                                    >\n                                        {errors.dob &&\n                                            'Datum rođenja je obavezan'}\n                                    </Typography>\n                                </LocalizationProvider>\n                            </Grid>\n                        </Grid>\n                    </div>\n                    <Divider\n                        variant='middle'\n                        sx={{\n                            mt: 2,\n                            mb: 1.5,\n                            color: '#637381',\n                        }}\n                    />\n                    <div className='userContactInfo'>\n                        <Typography\n                            variant='subtitle1'\n                            sx={{ fontWeight: 'bold', color: '#637381', mr: 2 }}\n                        >\n                            KONTAKT INFO\n                        </Typography>\n                        <Grid\n                            container\n                            spacing={2}\n                            columns={12}\n                            sx={{ padding: 1 }}\n                        >\n                            <Grid item xs={12}>\n                                <InputLabel>Adresa</InputLabel>\n                                <OutlinedInput\n                                    fullWidth\n                                    id='address'\n                                    sx={{ backgroundColor: '#fff' }}\n                                    disabled={!switchChecked}\n                                    {...register('address')}\n                                />\n                            </Grid>\n                            <Grid item xs={12} sm={4}>\n                                <InputLabel>Država</InputLabel>\n\n                                <Controller\n                                    name='country'\n                                    control={control}\n                                    render={({ field }) => (\n                                        <Autocomplete\n                                            id='country'\n                                            options={countries}\n                                            defaultValue={currentUser?.country}\n                                            isOptionEqualToValue={(\n                                                option,\n                                                value\n                                            ) =>\n                                                option.label === value.label ||\n                                                option.label === value\n                                            }\n                                            disabled={!switchChecked}\n                                            renderOption={(props, option) => (\n                                                <Box\n                                                    component='li'\n                                                    sx={{\n                                                        '& > img': {\n                                                            mr: 2,\n                                                            flexShrink: 0,\n                                                        },\n                                                    }}\n                                                    {...props}\n                                                >\n                                                    <img\n                                                        loading='lazy'\n                                                        width='20'\n                                                        src={`https://flagcdn.com/w20/${option.code.toLowerCase()}.png`}\n                                                        srcSet={`https://flagcdn.com/w40/${option.code.toLowerCase()}.png 2x`}\n                                                        alt=''\n                                                    />\n                                                    {option.label} (\n                                                    {option.code})\n                                                </Box>\n                                            )}\n                                            required\n                                            fullWidth\n                                            renderInput={(params) => (\n                                                <TextField\n                                                    {...params}\n                                                    required\n                                                    sx={{\n                                                        backgroundColor: '#fff',\n                                                    }}\n                                                    error={\n                                                        errors.country\n                                                            ? true\n                                                            : false\n                                                    }\n                                                />\n                                            )}\n                                            onChange={(e, value) =>\n                                                field.onChange(\n                                                    value && value.label\n                                                )\n                                            }\n                                        />\n                                    )}\n                                    rules={{ required: true }}\n                                />\n                                <Typography\n                                    variant='inherit'\n                                    color='red'\n                                    sx={{\n                                        font: '12px Roboto',\n                                    }}\n                                >\n                                    {errors.country && 'Država je obavezna'}\n                                </Typography>\n                            </Grid>\n                            <Grid item xs={12} sm={4}>\n                                <InputLabel>Grad</InputLabel>\n                                <OutlinedInput\n                                    fullWidth\n                                    id='city'\n                                    sx={{ backgroundColor: '#fff' }}\n                                    disabled={!switchChecked}\n                                    {...register('city')}\n                                />\n                            </Grid>\n\n                            <Grid item xs={12} sm={4}>\n                                <InputLabel>Broj telefona</InputLabel>\n                                <Controller\n                                    control={control}\n                                    name='phoneNumber'\n                                    // defaultValue=''\n                                    render={({ field }) => (\n                                        <MuiPhoneNumber\n                                            id='phoneNumber'\n                                            required\n                                            fullWidth\n                                            // defaultValue=''\n                                            value={currentUser?.phoneNumber}\n                                            onChange={(value) =>\n                                                field.onChange(value && value)\n                                            }\n                                            variant='outlined'\n                                            disableAreaCodes={true}\n                                            sx={{ backgroundColor: '#fff' }}\n                                            disabled={!switchChecked}\n                                            error={\n                                                errors.phoneNumber\n                                                    ? true\n                                                    : false\n                                            }\n                                        />\n                                    )}\n                                />\n                                <Typography\n                                    variant='inherit'\n                                    color='red'\n                                    sx={{\n                                        marginLeft: 4,\n                                        font: '12px Roboto',\n                                    }}\n                                >\n                                    {errors.phoneNumber &&\n                                        'Broj telefona je obavezan'}\n                                </Typography>\n                            </Grid>\n                        </Grid>\n                    </div>\n                    <Divider\n                        variant='middle'\n                        sx={{\n                            mt: 2,\n                            mb: 1.5,\n                            color: '#637381',\n                        }}\n                    />\n\n                    <div className='additionalInfo'>\n                        <Typography\n                            variant='subtitle1'\n                            sx={{ fontWeight: 'bold', color: '#637381', mr: 2 }}\n                        >\n                            DODATNI INFO\n                        </Typography>\n                        <Grid\n                            container\n                            spacing={2}\n                            columns={12}\n                            sx={{ padding: 1 }}\n                        >\n                            <Grid item xs={12} sm={6}>\n                                <InputLabel>Organizacija</InputLabel>\n                                <OutlinedInput\n                                    fullWidth\n                                    id='organization'\n                                    sx={{ backgroundColor: '#fff' }}\n                                    disabled={!switchChecked}\n                                    {...register('organization')}\n                                />\n                            </Grid>\n                            <Grid item xs={12}>\n                                <InputLabel>O meni</InputLabel>\n                                <OutlinedInput\n                                    fullWidth\n                                    id='about'\n                                    multiline\n                                    rows={2}\n                                    sx={{ backgroundColor: '#fff' }}\n                                    disabled={!switchChecked}\n                                    {...register('about')}\n                                />\n                            </Grid>\n                        </Grid>\n                        <Grid container justifyContent='center' columns={12}>\n                            <Grid item xs={8} sm={6} md={4}>\n                                <Button\n                                    variant='contained'\n                                    startIcon={<SaveOutlined />}\n                                    sx={{\n                                        m: 1,\n                                        textTransform: 'none',\n                                        fontWeight: 'bold',\n                                        width: '100%',\n                                    }}\n                                    onClick={handleSubmit(handleUpdateProfile)}\n                                    disabled={!switchChecked}\n                                >\n                                    Spasi\n                                </Button>\n                            </Grid>\n                        </Grid>\n                        <PasswordChangeAccordion />\n                    </div>\n                </Card>\n            </div>\n        </div>\n    );\n}\n\nexport default Profile;\n","import React, { useState } from 'react';\nimport { NavLink } from 'react-router-dom';\nimport { useSelector } from 'react-redux';\nimport { useDropzone } from 'react-dropzone';\nimport {\n    Grid,\n    Breadcrumbs,\n    Typography,\n    Stack,\n    Select,\n    InputLabel,\n    MenuItem,\n    FormControl,\n    Alert,\n    AlertTitle,\n    TextField,\n    List,\n    ListItem,\n    ListItemText,\n    Button,\n    IconButton,\n    Snackbar,\n    Backdrop,\n    Checkbox,\n    FormControlLabel,\n} from '@mui/material';\nimport {\n    Home,\n    DocumentScanner,\n    HighlightOff,\n    AddCircleOutlineOutlined,\n    DeleteOutline,\n    CloudUploadOutlined,\n} from '@mui/icons-material';\nimport { Controller, useForm } from 'react-hook-form';\nimport { yupResolver } from '@hookform/resolvers/yup';\nimport * as Yup from 'yup';\nimport Service from '../../api/service';\nimport Loader from '../../components/Loader';\nimport './style.css';\n\nfunction NewDocument() {\n    const [fileType, setFileType] = useState('');\n    const [selectedFileType, setSelectedFileType] = useState('');\n    const [files, setFiles] = useState([]);\n    const [isFileAlertVisible, setIsFileAlertVisible] = useState(false);\n    const [isUploadAlertVisible, setIsUploadAlertVisible] = useState(false);\n    const [uploadMessage, setUploadMessage] = useState('');\n    const [uploadAlertType, setUploadAlertType] = useState('success');\n    const [isLoading, setIsLoading] = useState(false);\n\n    const currentUser = useSelector((state) => state.auth.currentUser);\n    const maxDocFileSize = 25000000;\n    const maxOtherFilesSize = 1000000000;\n\n    const validationSchema = Yup.object().shape({\n        documentName: Yup.string().required('Ime dokumenta je obavezno'),\n        description: Yup.string().required('Opis dokumenta je obavezan'),\n        ownership: Yup.string().required('Vlasništvo dokumenta je obavezno'),\n        publicAccess: Yup.bool(),\n        location: Yup.string().required('Lokacija je obavezna'),\n        active: Yup.bool(),\n        keyWords: Yup.string().required('Ključne riječi su obavezne'),\n    });\n\n    const {\n        register,\n        handleSubmit,\n        reset,\n        control,\n        formState: { errors },\n    } = useForm({\n        defaultValues: {\n            documentName: '',\n            description: '',\n            ownership: '',\n            publicAccess: false,\n            location: '',\n            active: false,\n            keyWords: '',\n        },\n        resolver: yupResolver(validationSchema),\n    });\n\n    const changeFileTypeHandler = (e) => {\n        setFileType(e.target.value);\n        switch (e.target.value) {\n            case 'image':\n                setSelectedFileType('.jpeg, .png, .jpg, .gif');\n                break;\n            case 'video':\n                setSelectedFileType('.mp4, .MPEG-4, .mkv, .avi, .flv, .mov');\n                break;\n            case 'audio':\n                setSelectedFileType('.mp3, .aac, .wav, .wma');\n                break;\n            case 'document':\n                setSelectedFileType('.pdf, .doc, .docx, .txt');\n                break;\n            default:\n                break;\n        }\n        setFiles([]);\n    };\n\n    const { getRootProps, getInputProps } = useDropzone({\n        accept: selectedFileType,\n        onDrop: (acceptedFiles) => {\n            acceptedFiles.map((file, i) =>\n                Object.assign(file, {\n                    preview: URL.createObjectURL(file),\n                    fileId: i,\n                })\n            );\n            setFiles(acceptedFiles);\n        },\n        maxFiles: fileType === 'image' ? 5 : 1,\n        maxSize: fileType === 'document' ? maxDocFileSize : maxOtherFilesSize,\n        disabled: !selectedFileType ? true : false,\n    });\n\n    const removeImageFromFiles = (fileId) => {\n        const tmpFiles = [...files.filter((file) => file.fileId !== fileId)];\n        setFiles(tmpFiles);\n    };\n\n    const handleSaveDocument = async (docValues) => {\n        setIsLoading(true);\n        if (files.length > 0) {\n            let formData = new FormData();\n            let fileSize = 0;\n\n            for (let file of files) {\n                formData.append('files', file);\n                fileSize = fileSize + file.size;\n            }\n            Object.keys(docValues).forEach((key) =>\n                formData.append(key, docValues[key])\n            );\n\n            formData.append('fileType', fileType);\n            formData.append('fileSize', fileSize);\n            formData.append('userId', currentUser._id);\n            formData.append(\n                'uploadedBy',\n                `${currentUser.firstName} ${currentUser.lastName}`\n            );\n\n            await Service.createDocument(formData)\n                .then((res) => {\n                    setIsUploadAlertVisible(true);\n                    setUploadMessage(res.data.message);\n                    setUploadAlertType('success');\n                })\n                .catch((err) => {\n                    setIsUploadAlertVisible(true);\n                    setUploadMessage(\n                        err.response\n                            ? err.response.data.message\n                            : 'Konekcija sa serverom nije uspostavljena'\n                    );\n                    setUploadAlertType('error');\n                });\n            reset();\n            setFiles([]);\n            setFileType('');\n            setSelectedFileType('');\n        } else {\n            setIsFileAlertVisible(true);\n        }\n        setIsLoading(false);\n    };\n\n    return (\n        <div className='newDocumentPage'>\n            {isUploadAlertVisible && (\n                <Snackbar\n                    open={isUploadAlertVisible}\n                    anchorOrigin={{ vertical: 'top', horizontal: 'center' }}\n                    autoHideDuration={6000}\n                    onClose={() => setIsUploadAlertVisible(false)}\n                >\n                    <Alert\n                        onClose={() => setIsUploadAlertVisible(false)}\n                        severity={uploadAlertType}\n                        sx={{ width: '100%' }}\n                    >\n                        {uploadMessage}\n                    </Alert>\n                </Snackbar>\n            )}\n            <Backdrop\n                sx={{\n                    color: '#fff',\n                    zIndex: (theme) => theme.zIndex.drawer + 1,\n                }}\n                open={isLoading}\n            >\n                <Loader />\n            </Backdrop>\n            <Grid container justifyContent='flex-start'>\n                <Breadcrumbs aria-label='breadcrumb'>\n                    <NavLink\n                        to='/'\n                        style={{ textDecoration: 'none', color: 'grey' }}\n                    >\n                        <Home sx={{ mr: 0.5 }} fontSize='inherit' />\n                        Početna\n                    </NavLink>\n                    <Stack\n                        direction='row'\n                        spacing={2}\n                        style={{ color: '#393e46' }}\n                    >\n                        <DocumentScanner\n                            sx={{ mr: -1.2, marginTop: 0.3 }}\n                            fontSize='inherit'\n                        />\n                        <Typography>Novi dokument</Typography>\n                    </Stack>\n                </Breadcrumbs>\n            </Grid>\n            <Grid container justifyContent='center'>\n                <FormControl\n                    variant='outlined'\n                    sx={{ m: 1, maxWidth: 400, width: '100%' }}\n                >\n                    <InputLabel id='demo-simple-select-filled-label'>\n                        Novi dokument\n                    </InputLabel>\n                    <Select\n                        labelId='demo-simple-select-filled-label'\n                        id='demo-simple-select-filled'\n                        label='Novi dokument'\n                        value={fileType}\n                        onChange={changeFileTypeHandler}\n                    >\n                        <MenuItem value='document'>Dokument</MenuItem>\n                        <MenuItem value='video'>Video</MenuItem>\n                        <MenuItem value='image'>Slika</MenuItem>\n                        <MenuItem value='audio'>Audio</MenuItem>\n                    </Select>\n                </FormControl>\n            </Grid>\n            <Grid container justifyContent='center'>\n                <div className='uploadBox'>\n                    <div\n                        className={\n                            !selectedFileType ? 'dragArea disabled' : 'dragArea'\n                        }\n                        {...getRootProps()}\n                    >\n                        <AddCircleOutlineOutlined className='icon' />\n                        <h3>Dodaj dokument</h3>\n                        <p>Povuci/izbaci</p>\n                        <p>Podržani fajlovi {selectedFileType}</p>\n                        <p>\n                            maksimalno {fileType === 'image' ? 5 : 1}{' '}\n                            fajl/fajlova po uploadu\n                        </p>\n                        {fileType === 'document' && (\n                            <p>Maksimalna veličina fajla 25MB</p>\n                        )}\n                        <input\n                            type='file'\n                            hidden\n                            {...getInputProps()}\n                            // onChange={(e) =>\n                            // \tsetFiles(e.target.files)\n                            // }\n                        />\n                    </div>\n                    <div>\n                        {files.map((file, index) => {\n                            return (\n                                <List key={index}>\n                                    <ListItem\n                                        secondaryAction={\n                                            <IconButton\n                                                edge='end'\n                                                aria-label='delete'\n                                                onClick={() =>\n                                                    removeImageFromFiles(\n                                                        file.fileId\n                                                    )\n                                                }\n                                            >\n                                                <DeleteOutline />\n                                            </IconButton>\n                                        }\n                                    >\n                                        <ListItemText primary={file.path} />\n                                    </ListItem>\n                                </List>\n                            );\n                        })}\n                    </div>\n                </div>\n            </Grid>\n            {isFileAlertVisible && (\n                <Grid container justifyContent='center' sx={{ marginTop: 2 }}>\n                    <Alert\n                        severity='error'\n                        action={\n                            <HighlightOff\n                                onClick={() => setIsFileAlertVisible(false)}\n                                style={{ cursor: 'pointer' }}\n                            />\n                        }\n                        style={{ marginBottom: 15 }}\n                    >\n                        <AlertTitle>\n                            Fajl prilog je obavezan, molimo uploadujte fajl\n                        </AlertTitle>\n                    </Alert>\n                </Grid>\n            )}\n            <Grid container justifyContent='center'>\n                <div className='uploadDocumentInfo'>\n                    <Grid\n                        container\n                        spacing={2}\n                        columns={16}\n                        sx={{ padding: 1 }}\n                    >\n                        <Grid item xs={16}>\n                            <TextField\n                                id='documentName'\n                                label='Naziv dokumenta'\n                                type='text'\n                                fullWidth\n                                required\n                                disabled={fileType ? false : true}\n                                variant='outlined'\n                                {...register('documentName', {\n                                    required: true,\n                                })}\n                                error={errors.documentName ? true : false}\n                            />\n                            <Typography\n                                variant='inherit'\n                                color='red'\n                                sx={{\n                                    font: '12px Roboto',\n                                }}\n                            >\n                                {errors.documentName?.message}\n                            </Typography>\n                        </Grid>\n                        <Grid item xs={16} sm={8}>\n                            <TextField\n                                id='description'\n                                label='Opis'\n                                type='text'\n                                fullWidth\n                                required\n                                disabled={fileType ? false : true}\n                                variant='outlined'\n                                multiline\n                                rows={4}\n                                {...register('description', { required: true })}\n                                error={errors.description ? true : false}\n                            />\n                            <Typography\n                                variant='inherit'\n                                color='red'\n                                sx={{\n                                    font: '12px Roboto',\n                                }}\n                            >\n                                {errors.description?.message}\n                            </Typography>\n                        </Grid>\n                        <Grid item xs={16} sm={8}>\n                            <TextField\n                                id='ownership'\n                                label='Vlasništvo'\n                                type='text'\n                                fullWidth\n                                required\n                                disabled={fileType ? false : true}\n                                variant='outlined'\n                                {...register('ownership', { required: true })}\n                                error={errors.ownership ? true : false}\n                            />\n                            <Typography\n                                variant='inherit'\n                                color='red'\n                                sx={{\n                                    font: '12px Roboto',\n                                }}\n                            >\n                                {errors.ownership?.message}\n                            </Typography>\n                            <FormControlLabel\n                                label='Javno dostupan'\n                                disabled={fileType ? false : true}\n                                control={\n                                    <Controller\n                                        name='publicAccess'\n                                        control={control}\n                                        defaultValue={false}\n                                        render={({\n                                            field: { value, ...field },\n                                        }) => (\n                                            <Checkbox\n                                                {...field}\n                                                disabled={\n                                                    fileType ? false : true\n                                                }\n                                                checked={!!value}\n                                                sx={{\n                                                    '& .MuiSvgIcon-root': {\n                                                        fontSize: 28,\n                                                    },\n                                                }}\n                                                onChange={(e, value) =>\n                                                    field.onChange(value)\n                                                }\n                                            />\n                                        )}\n                                    />\n                                }\n                                labelPlacement='start'\n                                sx={{ marginTop: 1.5, marginLeft: 0 }}\n                            />\n                        </Grid>\n                        <Grid item xs={16} sm={8}>\n                            <TextField\n                                id='location'\n                                label='Lokacija'\n                                type='text'\n                                fullWidth\n                                required\n                                disabled={fileType ? false : true}\n                                variant='outlined'\n                                {...register('location', { required: true })}\n                                error={errors.location ? true : false}\n                            />\n                            <Typography\n                                variant='inherit'\n                                color='red'\n                                sx={{\n                                    font: '12px Roboto',\n                                }}\n                            >\n                                {errors.location?.message}\n                            </Typography>\n                        </Grid>\n                        <Grid item xs={16} sm={8}>\n                            <FormControlLabel\n                                id='active'\n                                disabled={fileType ? false : true}\n                                label='Status'\n                                control={\n                                    <Controller\n                                        name='active'\n                                        control={control}\n                                        defaultValue={false}\n                                        render={({\n                                            field: { value, ...field },\n                                        }) => (\n                                            <Checkbox\n                                                {...field}\n                                                disabled={\n                                                    fileType ? false : true\n                                                }\n                                                checked={!!value}\n                                                sx={{\n                                                    '& .MuiSvgIcon-root': {\n                                                        fontSize: 28,\n                                                    },\n                                                }}\n                                                onChange={(e, value) =>\n                                                    field.onChange(value)\n                                                }\n                                            />\n                                        )}\n                                    />\n                                }\n                                labelPlacement='start'\n                                sx={{ marginTop: 0.8, marginLeft: 0 }}\n                            />\n                        </Grid>\n                        <Grid item xs={16} sm={8}>\n                            <TextField\n                                id='keyWords'\n                                label='Ključne riječi'\n                                type='text'\n                                fullWidth\n                                required\n                                disabled={fileType ? false : true}\n                                variant='outlined'\n                                {...register('keyWords', { required: true })}\n                                error={errors.keyWords ? true : false}\n                            />\n                            <Typography\n                                variant='inherit'\n                                color='red'\n                                sx={{\n                                    font: '12px Roboto',\n                                }}\n                            >\n                                {errors.keyWords?.message}\n                            </Typography>\n                        </Grid>\n                    </Grid>\n                    <Grid container justifyContent='center' columns={12}>\n                        <Grid item xs={8} sm={6} md={4}>\n                            <Button\n                                variant='contained'\n                                startIcon={<CloudUploadOutlined />}\n                                style={{\n                                    textTransform: 'none',\n                                    fontWeight: 'bold',\n                                    marginTop: 15,\n                                    width: '100%',\n                                }}\n                                disabled={fileType ? false : true}\n                                onClick={handleSubmit(handleSaveDocument)}\n                            >\n                                Spasi\n                            </Button>\n                        </Grid>\n                    </Grid>\n                </div>\n            </Grid>\n        </div>\n    );\n}\n\nexport default NewDocument;\n","export default __webpack_public_path__ + \"static/media/privateDoc.5627b096.png\";","import React, { useState } from 'react';\nimport {\n    Button,\n    TextField,\n    Dialog,\n    DialogActions,\n    DialogContent,\n    DialogContentText,\n    DialogTitle,\n    Typography,\n    Backdrop,\n    Alert,\n    AlertTitle,\n} from '@mui/material';\nimport { useSelector, useDispatch } from 'react-redux';\nimport { HighlightOff } from '@mui/icons-material';\nimport { useForm } from 'react-hook-form';\nimport { yupResolver } from '@hookform/resolvers/yup';\nimport { authActions } from '../../store/auth';\nimport * as Yup from 'yup';\nimport Service from '../../api/service';\nimport Loader from '../Loader';\n\nfunction DocumentDonwloadRequestModal(props) {\n    const [isLoading, setIsLoading] = useState(false);\n    const [errorMessage, setErrorMessage] = useState('');\n    const [isAlertVisible, setIsAlertVisible] = useState(false);\n\n    const currentUser = useSelector((state) => state.auth.currentUser);\n    const dispatch = useDispatch();\n\n    const validationSchema = Yup.object().shape({\n        reason: Yup.string().required('Razlog je obavezan'),\n    });\n    const {\n        register,\n        handleSubmit,\n        reset,\n        formState: { errors },\n    } = useForm({\n        defaultValues: {\n            reason: '',\n        },\n        resolver: yupResolver(validationSchema),\n    });\n\n    const handleSendDownloadRequest = async (value) => {\n        setIsLoading(true);\n        const values = {\n            reason: value.reason,\n            user: currentUser._id,\n            document: props?.document._id,\n            type: 'download',\n        };\n\n        await Service.createRequest(values)\n            .then((res) => {\n                setIsLoading(false);\n                props.onClose(true, res.data.message);\n                reset();\n                dispatch(authActions.setCurrentUser(res.data.currentUser));\n\n                // props.onOpenAlert(res.data.status, res.data.message);\n            })\n            .catch((err) => {\n                // console.error(err);\n                setIsAlertVisible(true);\n                setErrorMessage(\n                    err.response\n                        ? err.response.data.message\n                        : 'Konekcija sa serverom nije uspostavljena'\n                );\n                setIsLoading(false);\n            });\n    };\n    return (\n        <div>\n            <Backdrop\n                sx={{\n                    color: '#fff',\n                    zIndex: 1500,\n                }}\n                open={isLoading}\n            >\n                <Loader />\n            </Backdrop>\n            <Dialog\n                open={props.visible}\n                onClose={() => {\n                    props.onClose();\n                    reset();\n                }}\n            >\n                <DialogTitle>Zatražite preuzimanje dokumenta</DialogTitle>\n                <DialogContent>\n                    <DialogContentText>\n                        Molimo vas da unese razlog zbog kojeg želite preuzeti\n                        ovaj dokument.\n                    </DialogContentText>\n                    {isAlertVisible && (\n                        <Alert\n                            severity='error'\n                            action={\n                                <HighlightOff\n                                    onClick={() => setIsAlertVisible(false)}\n                                    style={{ cursor: 'pointer' }}\n                                />\n                            }\n                            style={{ marginBottom: 15 }}\n                        >\n                            <AlertTitle>Greška</AlertTitle>\n                            {errorMessage}\n                        </Alert>\n                    )}\n                    <TextField\n                        autoFocus\n                        margin='dense'\n                        id='reason'\n                        label='Razlog'\n                        type='text'\n                        fullWidth\n                        required\n                        multiline\n                        rows={2}\n                        variant='standard'\n                        {...register('reason')}\n                        error={errors.reason ? true : false}\n                    />\n\n                    <Typography\n                        variant='inherit'\n                        color='red'\n                        sx={{\n                            textAlign: 'left',\n                            font: '12px Roboto',\n                        }}\n                    >\n                        {errors.reason?.message}\n                    </Typography>\n                </DialogContent>\n                <DialogActions>\n                    <Button\n                        variant='outlined'\n                        color='primary'\n                        onClick={() => {\n                            props.onClose();\n                            reset();\n                        }}\n                        sx={{\n                            textTransform: 'none',\n                            fontFamily: 'Roboto',\n                            fontWeight: 'bold',\n                        }}\n                    >\n                        Poništi\n                    </Button>\n\n                    <Button\n                        variant='contained'\n                        sx={{\n                            textTransform: 'none',\n                            fontFamily: 'Roboto',\n                            color: '#fff',\n                            fontWeight: 'bold',\n                        }}\n                        onClick={handleSubmit(handleSendDownloadRequest)}\n                    >\n                        Pošalji\n                    </Button>\n                </DialogActions>\n            </Dialog>\n        </div>\n    );\n}\n\nexport default DocumentDonwloadRequestModal;\n","import React, { useState } from 'react';\nimport {\n    Button,\n    Grid,\n    Select,\n    Stack,\n    Typography,\n    MenuItem,\n    FormControl,\n    InputLabel,\n    Snackbar,\n    Alert,\n    Backdrop,\n    // useMediaQuery,\n} from '@mui/material';\nimport { makeStyles } from '@mui/styles';\nimport { formatDateTime } from '../../utilities/formatDate';\nimport { useSelector } from 'react-redux';\nimport Service from '../../api/service';\nimport Loader from '../Loader';\nimport DocumentDonwloadRequestModal from '../DocumentDownloadRequestModal';\n\nconst useStyles = makeStyles(() => ({\n    documentInfo: {\n        maxWidth: 800,\n        width: '100%',\n        display: 'block',\n        margin: 'auto',\n    },\n    docMoreInfo: {\n        maxWidth: 600,\n        width: '100%',\n    },\n    docLabel: {\n        color: '#393E46',\n        fontWeight: 'bold',\n    },\n    documentInfoGrid: {\n        padding: 1,\n        marginLeft: 20,\n        '@media (max-width: 768px)': {\n            marginLeft: 0,\n        },\n    },\n    reqAccessBtn: {\n        marginTop: 50,\n    },\n}));\n\nexport default function ViewDocumentDetails(props) {\n    const [downloadImageIndex, setDownloadImageIndex] = useState(-1);\n    const [isLoading, setIsLoading] = useState(false);\n    const [isAlertVisible, setIsAlertVisible] = useState(false);\n    const [alertMessage, setAlertMessage] = useState('');\n    const [alertType, setAlertType] = useState('success');\n    const [isDownlaodRequestModalVisible, setIsDownloadRequestModalVisible] =\n        useState(false);\n\n    const documentProp = props?.document;\n    const isDownloadAvailable = props?.isDownloadAvailable;\n    const isDownloadRequestSent = props?.isDownloadRequestSent;\n    const isDocPrivate = props?.isDocPrivate;\n\n    const currentUser = useSelector((state) => state.auth.currentUser);\n    const classes = useStyles();\n\n    // const isLaptop = useMediaQuery('(min-width:1281px)');\n\n    const getFileType = (fileType) => {\n        switch (fileType) {\n            case 'image':\n                return 'Slika';\n            case 'video':\n                return 'Video';\n            case 'document':\n                return 'Dokument';\n            case 'audio':\n                return 'Audio';\n            default:\n                break;\n        }\n    };\n\n    const getFileSize = (fileSize) => {\n        if (fileSize?.length > 6) {\n            return `${Number(fileSize / 1000000).toFixed(2)} MB`;\n        }\n        if (fileSize?.length > 9) {\n            return `${Number(fileSize / 1000000000).toFixed(2)} GB`;\n        } else {\n            return `${Number(fileSize / 1000).toFixed(2)} kB`;\n        }\n    };\n\n    const handleDownloadChange = (event) => {\n        setDownloadImageIndex(event.target.value);\n    };\n\n    const downloadFilesHandler = async () => {\n        setIsLoading(true);\n        await Service.downloadDocument(\n            { docId: documentProp?._id },\n            {\n                responseType: 'blob',\n            }\n        )\n            .then((res) => {\n                const downloadDoc = res.data.document;\n                setIsAlertVisible(true);\n                setAlertType(res.data.status);\n                setAlertMessage(res.data.message);\n                const link = document.createElement('a');\n                if (downloadDoc?.files.length > 1) {\n                    link.href = downloadDoc?.files[downloadImageIndex];\n                } else {\n                    link.href = downloadDoc?.files[0];\n                }\n                document.body.appendChild(link);\n                link.click();\n                document.body.removeChild(link);\n                // if (downloadDoc?.files.length > 1) {\n                //     // window.open(downloadDoc?.files[downloadImageIndex]);\n                // } else {\n                //     const link = document.createElement('a');\n                //     link.href = downloadDoc?.files[0];\n                //     document.body.appendChild(link);\n                //     link.click();\n                //     document.body.removeChild(link);\n\n                //     // window.open(downloadDoc?.files[0]);\n                // }\n            })\n            .catch((err) => {\n                setAlertMessage(\n                    err.response\n                        ? err.response.data.message\n                        : 'Konekcija sa serverom nije uspostavljena'\n                );\n                setIsAlertVisible(true);\n                setAlertType(err.response ? err.response.data.status : 'error');\n            });\n        // console.clear();\n        setIsLoading(false);\n    };\n\n    const handleOpenDownloadRequestModal = () => {\n        setIsDownloadRequestModalVisible(true);\n    };\n\n    const handleCloseDownloadRequestModal = (isRequestSent, data) => {\n        if (isRequestSent) {\n            props.onChangeDownloadStatus(isRequestSent, data);\n            setAlertMessage('Zahtjev za preuzimanje dokumenta je poslan');\n            setIsAlertVisible(true);\n            setAlertType('success');\n        }\n        setIsDownloadRequestModalVisible(false);\n    };\n\n    return (\n        <div className={classes.documentInfo}>\n            {isLoading && (\n                <Backdrop\n                    sx={{\n                        color: '#fff',\n                        zIndex: (theme) => theme.zIndex.drawer + 1,\n                        backgroundColor: '#fff',\n                    }}\n                    open={isLoading}\n                >\n                    <Loader />\n                </Backdrop>\n            )}\n            {isAlertVisible && (\n                <Snackbar\n                    open={isAlertVisible}\n                    anchorOrigin={{\n                        vertical: 'top',\n                        horizontal: 'center',\n                    }}\n                    autoHideDuration={6000}\n                    onClose={() => setIsAlertVisible(false)}\n                >\n                    <Alert\n                        onClose={() => setIsAlertVisible(false)}\n                        severity={alertType}\n                        sx={{ width: '100%', font: '14px Roboto' }}\n                    >\n                        {alertMessage}\n                    </Alert>\n                </Snackbar>\n            )}\n            <Grid container justifyContent='center'>\n                <Grid\n                    container\n                    spacing={2}\n                    columns={16}\n                    className={classes.documentInfoGrid}\n                >\n                    {isDownloadAvailable && !isDocPrivate && (\n                        <div>\n                            <Grid item xs={16}>\n                                {documentProp?.files.length > 1 ? (\n                                    <Stack direction='row' spacing={2}>\n                                        <FormControl\n                                            size='small'\n                                            sx={{ minWidth: 130 }}\n                                        >\n                                            <InputLabel>\n                                                Izaberi sliku\n                                            </InputLabel>\n                                            <Select\n                                                label='Izaberi sliku'\n                                                onChange={handleDownloadChange}\n                                                defaultValue=''\n                                            >\n                                                {documentProp?.files.map(\n                                                    (item, index) => {\n                                                        return (\n                                                            <MenuItem\n                                                                name={item}\n                                                                value={index}\n                                                                key={index}\n                                                            >\n                                                                Slika {++index}\n                                                            </MenuItem>\n                                                        );\n                                                    }\n                                                )}\n                                            </Select>\n                                        </FormControl>\n                                        <Button\n                                            variant='contained'\n                                            style={{\n                                                textTransform: 'none',\n                                                fontWeight: 'bold',\n                                                height: 40,\n                                            }}\n                                            onClick={downloadFilesHandler}\n                                            disabled={downloadImageIndex === -1}\n                                        >\n                                            Preuzmi\n                                        </Button>\n                                    </Stack>\n                                ) : (\n                                    <Button\n                                        variant='contained'\n                                        style={{\n                                            textTransform: 'none',\n                                            fontWeight: 'bold',\n                                        }}\n                                        onClick={downloadFilesHandler}\n                                    >\n                                        Preuzmi\n                                    </Button>\n                                )}\n                            </Grid>\n                        </div>\n                    )}\n\n                    {!isDownloadAvailable && !isDocPrivate && (\n                        <Grid container justifyContent='center'>\n                            {isDownloadRequestSent ? (\n                                <Button\n                                    variant='contained'\n                                    style={{\n                                        textTransform: 'none',\n                                        fontWeight: 'bold',\n                                    }}\n                                    disabled\n                                >\n                                    Zahtjev za preuzimanje dokumenta je poslan\n                                </Button>\n                            ) : (\n                                <Button\n                                    variant='contained'\n                                    style={{\n                                        textTransform: 'none',\n                                        fontWeight: 'bold',\n                                    }}\n                                    onClick={handleOpenDownloadRequestModal}\n                                >\n                                    Zatražite preuzimanje dokumenta\n                                </Button>\n                            )}\n                        </Grid>\n                    )}\n\n                    <Grid item xs={16}>\n                        <Stack direction='row' spacing={2}>\n                            <Typography\n                                variant='subtitle1'\n                                className={classes.docLabel}\n                            >\n                                Opis dokumenta:{' '}\n                            </Typography>\n                            <Typography\n                                variant='subtitle1'\n                                sx={{ maxHeight: 200, overflow: 'auto' }}\n                            >\n                                {documentProp?.description}\n                            </Typography>\n                        </Stack>\n                    </Grid>\n                    <Grid item xs={16} sm={8}>\n                        <Stack direction='row' spacing={2}>\n                            <Typography\n                                variant='subtitle1'\n                                className={classes.docLabel}\n                            >\n                                Tip dokumenta:{' '}\n                            </Typography>\n                            <Typography variant='subtitle1'>\n                                {getFileType(documentProp?.fileType)}\n                            </Typography>\n                        </Stack>\n                    </Grid>\n                    <Grid item xs={16} sm={8}>\n                        <Stack direction='row' spacing={2}>\n                            <Typography\n                                variant='subtitle1'\n                                className={classes.docLabel}\n                            >\n                                Veličina:{' '}\n                            </Typography>\n\n                            <Typography variant='subtitle1'>\n                                {getFileSize(documentProp?.documentSize)}\n                            </Typography>\n                        </Stack>\n                    </Grid>\n                    <Grid item xs={16} sm={8}>\n                        <Stack direction='row' spacing={2}>\n                            <Typography\n                                variant='subtitle1'\n                                className={classes.docLabel}\n                            >\n                                Lokacija:{' '}\n                            </Typography>\n                            <Typography variant='subtitle1'>\n                                {documentProp?.location}\n                            </Typography>\n                        </Stack>\n                    </Grid>\n                    <Grid item xs={16} sm={8}>\n                        <Stack direction='row' spacing={2}>\n                            <Typography\n                                variant='subtitle1'\n                                className={classes.docLabel}\n                            >\n                                Vrsta vrijednosti:{' '}\n                            </Typography>\n                            <Typography variant='subtitle1'>\n                                {documentProp?.publicAccess\n                                    ? 'Javno dostupan'\n                                    : 'Nije javno dostupan'}\n                            </Typography>\n                        </Stack>\n                    </Grid>\n                    <Grid item xs={16} sm={8}>\n                        <Stack direction='row' spacing={2}>\n                            <Typography\n                                variant='subtitle1'\n                                className={classes.docLabel}\n                            >\n                                Ključne riječi:{' '}\n                            </Typography>\n                            <Typography variant='subtitle1'>\n                                {documentProp?.keyWords}\n                            </Typography>\n                        </Stack>\n                    </Grid>\n                    <Grid item xs={16} sm={8}>\n                        <Stack direction='row' spacing={2}>\n                            <Typography\n                                variant='subtitle1'\n                                className={classes.docLabel}\n                            >\n                                Vlasništvo:{' '}\n                            </Typography>\n                            <Typography variant='subtitle1'>\n                                {documentProp?.ownership}\n                            </Typography>\n                        </Stack>\n                    </Grid>\n                    <Grid item xs={16} sm={8}>\n                        <Stack direction='row' spacing={2}>\n                            <Typography\n                                variant='subtitle1'\n                                className={classes.docLabel}\n                            >\n                                Zadnja izmjena:{' '}\n                            </Typography>\n                            <Typography variant='subtitle1'>\n                                {formatDateTime(documentProp?.lastEdit)}\n                            </Typography>\n                        </Stack>\n                    </Grid>\n                    <Grid item xs={16} sm={8}>\n                        <Stack direction='row' spacing={2}>\n                            <Typography\n                                variant='subtitle1'\n                                className={classes.docLabel}\n                            >\n                                Status:{' '}\n                            </Typography>\n                            <Typography variant='subtitle1'>\n                                {documentProp?.active === true\n                                    ? 'Aktivan'\n                                    : 'Neaktivan'}\n                            </Typography>\n                        </Stack>\n                    </Grid>\n                    {(currentUser.role === 'admin' ||\n                        currentUser.role === 'editor') && (\n                        <Grid item xs={16} sm={8}>\n                            <Stack direction='row' spacing={2}>\n                                <Typography\n                                    variant='subtitle1'\n                                    className={classes.docLabel}\n                                >\n                                    Uploadovao/la:{' '}\n                                </Typography>\n                                <Typography variant='subtitle1'>\n                                    {documentProp?.uploadedBy}\n                                </Typography>\n                            </Stack>\n                        </Grid>\n                    )}\n                    {(currentUser.role === 'admin' ||\n                        currentUser.role === 'editor') &&\n                        documentProp?.editedBy && (\n                            <Grid item xs={16} sm={8}>\n                                <Stack direction='row' spacing={2}>\n                                    <Typography\n                                        variant='subtitle1'\n                                        className={classes.docLabel}\n                                    >\n                                        Izmjenio/la:{' '}\n                                    </Typography>\n                                    <Typography variant='subtitle1'>\n                                        {documentProp?.editedBy}\n                                    </Typography>\n                                </Stack>\n                            </Grid>\n                        )}\n                </Grid>\n            </Grid>\n\n            {isDownlaodRequestModalVisible && (\n                <DocumentDonwloadRequestModal\n                    document={documentProp}\n                    visible={isDownlaodRequestModalVisible}\n                    onClose={handleCloseDownloadRequestModal}\n                />\n            )}\n        </div>\n    );\n}\n","import React, { useState } from 'react';\nimport {\n    Button,\n    TextField,\n    Dialog,\n    DialogActions,\n    DialogContent,\n    DialogContentText,\n    DialogTitle,\n    Typography,\n    Backdrop,\n    Alert,\n    AlertTitle,\n} from '@mui/material';\nimport { useSelector, useDispatch } from 'react-redux';\nimport { HighlightOff } from '@mui/icons-material';\nimport { useForm } from 'react-hook-form';\nimport { yupResolver } from '@hookform/resolvers/yup';\nimport { authActions } from '../../store/auth';\nimport * as Yup from 'yup';\nimport Service from '../../api/service';\nimport Loader from '../Loader';\n\nfunction DocumentAccessRequestModal(props) {\n    const [isLoading, setIsLoading] = useState(false);\n    const [errorMessage, setErrorMessage] = useState('');\n    const [isAlertVisible, setIsAlertVisible] = useState(false);\n\n    const currentUser = useSelector((state) => state.auth.currentUser);\n    const dispatch = useDispatch();\n\n    const validationSchema = Yup.object().shape({\n        reason: Yup.string().required('Razlog je obavezan'),\n    });\n    const {\n        register,\n        handleSubmit,\n        reset,\n        formState: { errors },\n    } = useForm({\n        defaultValues: {\n            reason: '',\n        },\n        resolver: yupResolver(validationSchema),\n    });\n\n    const handleRequestAccess = async (value) => {\n        setIsLoading(true);\n        const values = {\n            reason: value.reason,\n            user: currentUser._id,\n            document: props?.document._id,\n            type: 'access',\n        };\n\n        await Service.createRequest(values)\n            .then((res) => {\n                setIsLoading(false);\n                props.onClose(true, res.data.message);\n                reset();\n                dispatch(authActions.setCurrentUser(res.data.currentUser));\n\n                // props.onOpenAlert(res.data.status, res.data.message);\n            })\n            .catch((err) => {\n                // console.error(err);\n                setIsAlertVisible(true);\n                setErrorMessage(\n                    err.response\n                        ? err.response.data.message\n                        : 'Konekcija sa serverom nije uspostavljena'\n                );\n                setIsLoading(false);\n            });\n    };\n    return (\n        <div>\n            <Backdrop\n                sx={{\n                    color: '#fff',\n                    zIndex: 1500,\n                }}\n                open={isLoading}\n            >\n                <Loader />\n            </Backdrop>\n            <Dialog\n                open={props.visible}\n                onClose={() => {\n                    props.onClose();\n                    reset();\n                }}\n            >\n                <DialogTitle>Zatražite pregled dokumenta</DialogTitle>\n                <DialogContent>\n                    <DialogContentText>\n                        Molimo vas da unese razlog zbog kojeg želite imati\n                        pristup ovom dokumentu.\n                    </DialogContentText>\n                    {isAlertVisible && (\n                        <Alert\n                            severity='error'\n                            action={\n                                <HighlightOff\n                                    onClick={() => setIsAlertVisible(false)}\n                                    style={{ cursor: 'pointer' }}\n                                />\n                            }\n                            style={{ marginBottom: 15 }}\n                        >\n                            <AlertTitle>Greška</AlertTitle>\n                            {errorMessage}\n                        </Alert>\n                    )}\n                    <TextField\n                        autoFocus\n                        margin='dense'\n                        id='reason'\n                        label='Razlog'\n                        type='text'\n                        fullWidth\n                        required\n                        multiline\n                        rows={2}\n                        variant='standard'\n                        {...register('reason')}\n                        error={errors.reason ? true : false}\n                    />\n\n                    <Typography\n                        variant='inherit'\n                        color='red'\n                        sx={{\n                            textAlign: 'left',\n                            font: '12px Roboto',\n                        }}\n                    >\n                        {errors.reason?.message}\n                    </Typography>\n                </DialogContent>\n                <DialogActions>\n                    <Button\n                        variant='outlined'\n                        color='primary'\n                        onClick={() => {\n                            props.onClose();\n                            reset();\n                        }}\n                        sx={{\n                            textTransform: 'none',\n                            fontFamily: 'Roboto',\n                            fontWeight: 'bold',\n                        }}\n                    >\n                        Poništi\n                    </Button>\n\n                    <Button\n                        variant='contained'\n                        sx={{\n                            textTransform: 'none',\n                            fontFamily: 'Roboto',\n                            color: '#fff',\n                            fontWeight: 'bold',\n                        }}\n                        onClick={handleSubmit(handleRequestAccess)}\n                    >\n                        Pošalji\n                    </Button>\n                </DialogActions>\n            </Dialog>\n        </div>\n    );\n}\n\nexport default DocumentAccessRequestModal;\n","import React, { useEffect, useState } from 'react';\nimport { Swiper, SwiperSlide } from 'swiper/react';\nimport SwiperCore, { Zoom, Navigation, Pagination } from 'swiper';\nimport ImgsViewer from 'react-images-viewer';\nimport AudioPlayer from 'react-h5-audio-player';\nimport './style.css';\nimport 'swiper/swiper-bundle.min.css';\nimport 'swiper/swiper.min.css';\nimport 'react-h5-audio-player/lib/styles.css';\nSwiperCore.use([Zoom, Navigation, Pagination]);\n\nfunction ShowDocumentFile(props) {\n    const [isImageViewerOpen, setIsImageViewerOpen] = useState(false);\n    const [currentImage, setCurrentImage] = useState(0);\n    const [imageFiles, setImageFiles] = useState([]);\n\n    const document = props?.document;\n    useEffect(() => {\n        if (document?.fileType === 'image') {\n            let tmpImageFiles = [];\n\n            for (let file of document?.files) {\n                tmpImageFiles.push({\n                    src: file,\n                    width: 200,\n                    height: 200,\n                });\n            }\n            setImageFiles(tmpImageFiles);\n        }\n    }, [document]);\n\n    const clickNextViewerImage = () => {\n        let tmpImg = currentImage;\n        tmpImg++;\n        setCurrentImage(tmpImg);\n    };\n\n    const clickPreviousViewerImage = () => {\n        let tmpImg = currentImage;\n        tmpImg--;\n        setCurrentImage(tmpImg);\n    };\n\n    const getFilesData = (fileType) => {\n        switch (fileType) {\n            case 'image':\n                return (\n                    <div\n                        className='imageFile'\n                        onContextMenu={(e) => e.preventDefault()}\n                    >\n                        {document?.files.length > 1 ? (\n                            <div>\n                                <Swiper\n                                    className='swiper'\n                                    style={{\n                                        '--swiper-navigation-color': '#000',\n                                        '--swiper-pagination-color': '#000',\n                                    }}\n                                    // zoom={true}\n                                    navigation={true}\n                                    pagination={{\n                                        clickable: true,\n                                    }}\n                                >\n                                    {document?.files.map((file, index) => (\n                                        <SwiperSlide\n                                            className='swiperSlide'\n                                            key={index}\n                                            onClick={() => {\n                                                setIsImageViewerOpen(true);\n                                                setCurrentImage(index);\n                                            }}\n                                        >\n                                            <div className='swiper-zoom-container'>\n                                                <img\n                                                    // key={index}\n                                                    src={file}\n                                                    alt='Dokument slika'\n                                                />\n                                            </div>\n                                        </SwiperSlide>\n                                    ))}\n                                </Swiper>\n                                <ImgsViewer\n                                    imgs={imageFiles}\n                                    isOpen={isImageViewerOpen}\n                                    onClose={() => setIsImageViewerOpen(false)}\n                                    width={1500}\n                                    currImg={currentImage}\n                                    onClickPrev={clickPreviousViewerImage}\n                                    onClickNext={clickNextViewerImage}\n                                    spinnerDisabled\n                                    backdropCloseable\n                                />\n                            </div>\n                        ) : (\n                            <div className='imageFile'>\n                                <img\n                                    src={document?.files[0]}\n                                    // src={`data:image/jpeg;base64, ${document?.files[0]}`}\n                                    alt='Dokument slika'\n                                    onClick={() => setIsImageViewerOpen(true)}\n                                    // onContextMenu={return false}\n                                    // style={{\n                                    //     filter: isDocPrivate && 'blur(1.5rem)',\n                                    //     // visibility: 'hidden',\n                                    // }}\n                                />\n                                <ImgsViewer\n                                    imgs={[{ src: document?.files[0] }]}\n                                    isOpen={isImageViewerOpen}\n                                    onClose={() => setIsImageViewerOpen(false)}\n                                    width={1500}\n                                    spinnerDisabled\n                                    backdropCloseable\n                                    onClickImg={(e) => e.preventDefault()}\n                                />\n                            </div>\n                        )}\n                    </div>\n                );\n            case 'video':\n                return (\n                    <div className='videoFile'>\n                        <video\n                            src={document?.files[0]}\n                            // src={`data:video/mp4;base64, ${document?.files[0]}`}\n                            controls\n                            controlsList='nodownload'\n                        />\n                    </div>\n                );\n            case 'audio':\n                return (\n                    <AudioPlayer\n                        src={document?.files[0]}\n                        customAdditionalControls={[]}\n                        className='audioFile'\n                        // controls\n                        // controlsList='nodownload'\n                    />\n                );\n            case 'document':\n                return (\n                    <iframe\n                        sandbox='allow-scripts allow-same-origin'\n                        title={document?.documentName}\n                        src={`https://docs.google.com/gview?url=${encodeURIComponent(\n                            document?.files[0]\n                        )}&embedded=true`}\n                        frameBorder='0'\n                        width='100%'\n                        className='docFile'\n                        allowFullScreen\n                        onContextMenu={(e) => e.preventDefault()}\n                    />\n                );\n            default:\n                break;\n        }\n    };\n    return (\n        <div className='documentFile'>{getFilesData(document?.fileType)}</div>\n    );\n}\n\nexport default ShowDocumentFile;\n","import React, { useState } from 'react';\nimport MaterialTable from '@material-table/core';\nimport {\n    Typography,\n    Accordion,\n    AccordionSummary,\n    AccordionDetails,\n    useMediaQuery,\n} from '@mui/material';\nimport { ExpandMore } from '@mui/icons-material';\nimport { formatDateTime } from '../../utilities/formatDate';\nimport './style.css';\n\nexport default function DownloadUsersTable({ users }) {\n    const [isExpandedAccordion, setIsExpandedAccordion] = useState(false);\n\n    const isMobile = useMediaQuery('(max-width:540px)');\n\n    const usersTableData =\n        users &&\n        users.map((user) => {\n            return {\n                id: user._id,\n                username: user.user,\n                time: formatDateTime(user.time),\n            };\n        });\n\n    const usersColumns = [\n        {\n            title: 'Ime i prezime',\n            field: 'username',\n            sorting: true,\n        },\n        { title: 'Vrijeme preuzimanja', field: 'time' },\n    ];\n\n    const tableOptions = {\n        actionsColumnIndex: -1,\n        columnsButton: true,\n        grouping: false,\n        sorting: true,\n        paging: true,\n        pageSizeOptions: [5, 10, 20, 25, 50, 100],\n        pageSize: 10,\n        emptyRowsWhenPaging: false,\n        rowStyle: (rowData) => ({\n            color: rowData.removed && 'grey',\n            font: '15px Roboto',\n        }),\n        headerStyle: {\n            background: '#ddd',\n            color: '#000',\n            fontWeight: 'bold',\n            paddingRight: 10,\n        },\n    };\n\n    const tableLocalization = {\n        pagination: {\n            labelDisplayedRows: '',\n            previousTooltip: 'Prethodna',\n            nextTooltip: 'Sljedeća',\n            lastTooltip: 'Posljednja',\n            firstTooltip: 'Prva',\n            labelRowsPerPage: !isMobile && 'Redova po stranici',\n            labelRowsSelect: '',\n        },\n        toolbar: {\n            nRowsSelected: '{0} row(s) selected',\n            searchPlaceholder: 'Pretraga...',\n            showColumnsTitle: 'Prikaži kolone',\n            addRemoveColumns: 'Dadaj ili ukloni kolonu',\n        },\n        header: {\n            actions: 'Opcije',\n        },\n        body: {\n            emptyDataSourceMessage:\n                'Lista korisnika koji su preuzeli dokument je prazna',\n            filterRow: {\n                filterTooltip: 'Filter',\n            },\n        },\n    };\n\n    const handleChangeAccordion = (panel) => (event, isExpanded) => {\n        setIsExpandedAccordion(isExpanded ? panel : false);\n    };\n\n    return (\n        <div className='downloadedBy'>\n            <Accordion\n                expanded={isExpandedAccordion === 'panel1'}\n                onChange={handleChangeAccordion('panel1')}\n                sx={{ m: 1, borderRadius: 1 }}\n            >\n                <AccordionSummary expandIcon={<ExpandMore />}>\n                    <Typography>\n                        Lista korisnika koji su preuzeli dokument\n                    </Typography>\n                </AccordionSummary>\n                <AccordionDetails sx={{ padding: 1 }}>\n                    <MaterialTable\n                        columns={usersColumns}\n                        data={usersTableData}\n                        title=''\n                        options={tableOptions}\n                        localization={tableLocalization}\n                    />\n                </AccordionDetails>\n            </Accordion>\n        </div>\n    );\n}\n","import React, { useEffect, useState } from 'react';\nimport { useParams, NavLink, useNavigate } from 'react-router-dom';\nimport { useSelector } from 'react-redux';\nimport {\n    Grid,\n    Breadcrumbs,\n    Stack,\n    Typography,\n    Paper,\n    Snackbar,\n    Alert,\n    Button,\n} from '@mui/material';\nimport { Home, DocumentScanner } from '@mui/icons-material';\nimport Loader from '../../components/Loader';\nimport Service from '../../api/service';\nimport { makeStyles } from '@mui/styles';\nimport privateDocImage from '../../assets/privateDoc.png';\nimport './style.css';\nimport ViewDocumentDetails from '../../components/ViewDocumentDetails';\nimport DocumentAccessRequestModal from '../../components/DocumentAccessRequestModal';\nimport ShowDocumentFile from '../../components/ShowDocumentFile';\nimport DownloadUsersTable from '../../components/DownloadUsersTable/DownloadUsersTable';\n\nconst useStyles = makeStyles(() => ({\n    reqAccessBtn: {\n        marginTop: 30,\n        marginBottom: 30,\n    },\n}));\n\nfunction ViewDocumentPage() {\n    const { id } = useParams();\n    const [isLoading, setIsLoading] = useState(true);\n    const [document, setDocument] = useState(null);\n    const [isAlertVisible, setIsAlertVisible] = useState(false);\n    const [alertMessage, setAlertMessage] = useState('');\n    const [alertType, setAlertType] = useState('error');\n    const [isDocPrivate, setIsDocPrivate] = useState(true);\n    const [isDocAccessRequestModalVisible, setIsDocAccessRequestModalVisible] =\n        useState(false);\n    const [isRequestSent, setIsRequestSent] = useState(false);\n    const [isDownloadAvailable, setIsDownloadAvailable] = useState(false);\n    const [isDownloadRequestSent, setIsDownloadRequestSent] = useState(false);\n    const currentUser = useSelector((state) => state.auth.currentUser);\n\n    const classes = useStyles();\n    const navigate = useNavigate();\n\n    useEffect(() => {\n        const fetchSelectedDocument = async () => {\n            await Service.getDocument({ id })\n                .then((res) => {\n                    setDocument(res.data.document);\n                    if (\n                        currentUser.role === 'reader' &&\n                        !res.data.document.active\n                    ) {\n                        navigate('/');\n                    }\n\n                    if (res.data.document.publicAccess === true) {\n                        setIsDocPrivate(false);\n                    }\n                    if (\n                        currentUser.role === 'editor' ||\n                        currentUser.role === 'admin' ||\n                        currentUser.approvedDocuments.includes(id)\n                    ) {\n                        setIsDocPrivate(false);\n                    }\n\n                    if (currentUser.pendingDocuments.includes(id)) {\n                        setIsRequestSent(true);\n                    }\n\n                    if (\n                        currentUser.role === 'editor' ||\n                        currentUser.role === 'admin' ||\n                        currentUser.approvedDownload.includes(id)\n                    ) {\n                        setIsDownloadAvailable(true);\n                    }\n\n                    if (currentUser.pendingDownload.includes(id)) {\n                        setIsDownloadRequestSent(true);\n                    }\n\n                    setIsLoading(false);\n                })\n                .catch((err) => {\n                    setAlertMessage(\n                        err.response\n                            ? err.response.data.message\n                            : 'Konekcija sa serverom nije uspostavljena'\n                    );\n                    setIsAlertVisible(true);\n                    setAlertType('error');\n                    navigate('/dokumenti');\n                    setIsLoading(false);\n                });\n        };\n        fetchSelectedDocument();\n    }, [id, navigate, currentUser]);\n\n    const handleOpenDocAccessRequestModal = () => {\n        setIsDocAccessRequestModalVisible(true);\n    };\n\n    const handleCloseDocAccessRequestModal = (isRequestSent, sentMessage) => {\n        if (isRequestSent === true) {\n            setIsRequestSent(true);\n            setAlertMessage(sentMessage);\n            setIsAlertVisible(true);\n            setAlertType('success');\n        }\n        setIsDocAccessRequestModalVisible(false);\n    };\n\n    const handleChangeDownloadRequestStatus = () => {\n        setIsDownloadRequestSent(true);\n    };\n\n    return (\n        <div>\n            {isLoading ? (\n                <Loader loaderColor={`black`} />\n            ) : (\n                <div\n                    className='viewDocumentPage'\n                    onContextMenu={(e) => e.preventDefault()}\n                >\n                    {isAlertVisible && (\n                        <Snackbar\n                            open={isAlertVisible}\n                            anchorOrigin={{\n                                vertical: 'top',\n                                horizontal: 'center',\n                            }}\n                            autoHideDuration={6000}\n                            onClose={() => setIsAlertVisible(false)}\n                        >\n                            <Alert\n                                onClose={() => setIsAlertVisible(false)}\n                                severity={alertType}\n                                sx={{ width: '100%', font: '14px Roboto' }}\n                            >\n                                {alertMessage}\n                            </Alert>\n                        </Snackbar>\n                    )}\n                    <Grid container justifyContent='flex-start'>\n                        <Breadcrumbs aria-label='breadcrumb'>\n                            <NavLink\n                                to='/'\n                                style={{\n                                    textDecoration: 'none',\n                                    color: 'grey',\n                                }}\n                            >\n                                <Home sx={{ mr: 0.5 }} fontSize='inherit' />\n                                Početna\n                            </NavLink>\n                            <Stack\n                                direction='row'\n                                spacing={2}\n                                style={{ color: '#393e46' }}\n                            >\n                                <DocumentScanner\n                                    sx={{ mr: -1.2, marginTop: 0.3 }}\n                                    fontSize='inherit'\n                                />\n                                <Typography>Pregled</Typography>\n                            </Stack>\n                        </Breadcrumbs>\n                    </Grid>\n                    <Grid container justifyContent='center'>\n                        <Paper\n                            style={{\n                                padding: 10,\n                                marginTop: 20,\n                                backgroundColor: isDocPrivate\n                                    ? '#393e46'\n                                    : '#fff',\n                            }}\n                        >\n                            <Stack direction='row' spacing={2}>\n                                <Typography\n                                    variant='h6'\n                                    style={{\n                                        color: isDocPrivate\n                                            ? '#fff'\n                                            : '#393e46',\n                                    }}\n                                >\n                                    Naziv dokumenta:{' '}\n                                </Typography>\n                                <Typography\n                                    variant='h6'\n                                    style={{\n                                        color: isDocPrivate\n                                            ? '#fff'\n                                            : '#393e46',\n                                    }}\n                                >\n                                    {document?.documentName}\n                                </Typography>\n                            </Stack>\n                        </Paper>\n                    </Grid>\n                    <Grid container justifyContent='center'>\n                        {isDocPrivate ? (\n                            <div className='documentFile'>\n                                <img\n                                    src={privateDocImage}\n                                    className='privateDocImage'\n                                    alt='locked Document'\n                                />\n                            </div>\n                        ) : (\n                            <ShowDocumentFile document={document} />\n                        )}\n                    </Grid>\n                    {isDocPrivate && (\n                        <Grid\n                            container\n                            justifyContent='center'\n                            className={classes.reqAccessBtn}\n                        >\n                            {isRequestSent ? (\n                                <Button\n                                    variant='contained'\n                                    style={{\n                                        textTransform: 'none',\n                                        fontWeight: 'bold',\n                                    }}\n                                    disabled\n                                >\n                                    Zahtjev za pregled dokumenta je poslan\n                                </Button>\n                            ) : (\n                                <Button\n                                    variant='contained'\n                                    style={{\n                                        textTransform: 'none',\n                                        fontWeight: 'bold',\n                                    }}\n                                    onClick={handleOpenDocAccessRequestModal}\n                                >\n                                    Zatražite pregled dokumenta\n                                </Button>\n                            )}\n                        </Grid>\n                    )}\n\n                    <ViewDocumentDetails\n                        document={document}\n                        isDownloadAvailable={isDownloadAvailable}\n                        isDownloadRequestSent={isDownloadRequestSent}\n                        isDocPrivate={isDocPrivate}\n                        onChangeDownloadStatus={\n                            handleChangeDownloadRequestStatus\n                        }\n                    />\n                    {(currentUser?.role === 'editor' ||\n                        currentUser?.role === 'admin') && (\n                        <DownloadUsersTable users={document.downloadedBy} />\n                    )}\n\n                    {isDocAccessRequestModalVisible && (\n                        <DocumentAccessRequestModal\n                            document={document}\n                            visible={isDocAccessRequestModalVisible}\n                            onClose={handleCloseDocAccessRequestModal}\n                        />\n                    )}\n                </div>\n            )}\n        </div>\n    );\n}\n\nexport default ViewDocumentPage;\n","import React from 'react';\nimport { NavLink } from 'react-router-dom';\nimport { useSelector } from 'react-redux';\nimport { Grid, Breadcrumbs, Typography, Stack } from '@mui/material';\nimport { Home, DocumentScanner } from '@mui/icons-material';\nimport DocumentsTable from '../../components/DocumentsTable';\nimport './style.css';\n\nfunction DocumentsPage() {\n    const currentUser = useSelector((state) => state.auth.currentUser);\n    return (\n        <div className='documentsPage'>\n            <Grid container justifyContent='flex-start'>\n                <Breadcrumbs aria-label='breadcrumb'>\n                    <NavLink\n                        to='/'\n                        style={{\n                            textDecoration: 'none',\n                            color: 'grey',\n                        }}\n                    >\n                        <Home sx={{ mr: 0.5 }} fontSize='inherit' />\n                        Početna\n                    </NavLink>\n                    <Stack\n                        direction='row'\n                        spacing={2}\n                        style={{ color: '#393e46' }}\n                    >\n                        <DocumentScanner\n                            sx={{ mr: -1.2, marginTop: 0.3 }}\n                            fontSize='inherit'\n                        />\n                        <Typography>Dokumenti</Typography>\n                    </Stack>\n                </Breadcrumbs>\n            </Grid>\n            {currentUser.role === 'admin' && (\n                <DocumentsTable style={{ marginTop: 50 }} />\n            )}\n        </div>\n    );\n}\n\nexport default DocumentsPage;\n","import React, { useState, useEffect } from 'react';\nimport { useNavigate, NavLink } from 'react-router-dom';\nimport MaterialTable from '@material-table/core';\nimport {\n    Snackbar,\n    Alert,\n    useMediaQuery,\n    Tooltip,\n    Box,\n    Grid,\n    Breadcrumbs,\n    Stack,\n    Typography,\n} from '@mui/material';\nimport { Search, VisibilityOutlined, Home } from '@mui/icons-material';\nimport Loader from '../../components/Loader';\nimport './style.css';\nimport { useSelector } from 'react-redux';\nimport Service from '../../api/service';\nimport { capitalizeWord } from '../../utilities/capitalizeWord';\n\nfunction SearchPage() {\n    const [documents, setDocuments] = useState([]);\n    const [isLoading, setIsLoading] = useState(true);\n    const [isAlertVisible, setIsAlertVisible] = useState(false);\n    const [errorMessage, setErrorMessage] = useState('');\n\n    const isMobile = useMediaQuery('(max-width:540px)');\n    const navigate = useNavigate();\n\n    const searchQuery = useSelector((state) => state.docs.searchQuery);\n\n    useEffect(() => {\n        setIsLoading(true);\n        const fetchSearchedDocs = async () => {\n            await Service.searchDocument({ query: searchQuery })\n                .then((res) => {\n                    setDocuments(res.data.documents);\n                    setIsLoading(false);\n                })\n                .catch((err) => {\n                    setIsAlertVisible(true);\n                    setErrorMessage(\n                        err.response\n                            ? err.response.data.message\n                            : 'Konekcija sa serverom nije uspostavljena'\n                    );\n                });\n        };\n\n        fetchSearchedDocs();\n    }, [searchQuery]);\n\n    const documentTypeHandler = (type) => {\n        switch (type) {\n            case 'document':\n                return 'Dokument';\n            case 'audio':\n                return 'Audio';\n            case 'video':\n                return 'Video';\n            case 'image':\n                return 'Slika';\n            default:\n                break;\n        }\n    };\n\n    const documentsTableData =\n        documents &&\n        documents.map((document) => {\n            return {\n                id: document._id,\n                documentName: capitalizeWord(document.documentName),\n                documentType: documentTypeHandler(document.fileType),\n                description: document.description && (\n                    <Tooltip title={document.description} placement='top-start'>\n                        <Box>{document.description}</Box>\n                    </Tooltip>\n                ),\n                ownership: capitalizeWord(document.ownership),\n                location: capitalizeWord(document.location),\n            };\n        });\n\n    const documentsColumns = [\n        {\n            title: 'Naziv dokumenta',\n            field: 'documentName',\n            sorting: false,\n            width: '20%',\n        },\n        {\n            title: 'Tip dokumenta',\n            field: 'documentType',\n            sorting: false,\n            width: '10%',\n        },\n        {\n            title: 'Opis',\n            field: 'description',\n            sorting: false,\n            width: '35%',\n            align: 'left',\n            searchable: false,\n            cellStyle: {\n                textOverflow: 'ellipsis',\n                whiteSpace: 'nowrap',\n                overflow: 'hidden',\n                maxWidth: 200,\n            },\n        },\n        { title: 'Vlasništvo', field: 'ownership', sorting: false },\n        {\n            title: 'Lokacija',\n            field: 'location',\n            sorting: false,\n        },\n    ];\n\n    const tableOptions = {\n        actionsColumnIndex: -1,\n        columnsButton: true,\n        grouping: false,\n        sorting: true,\n        paging: true,\n        pageSizeOptions: [5, 10, 20],\n        pageSize: 10,\n        emptyRowsWhenPaging: false,\n        rowStyle: {\n            font: '15px Roboto',\n        },\n        headerStyle: {\n            background: '#ddd',\n            color: '#000',\n            fontWeight: 'bold',\n            paddingRight: 15,\n        },\n    };\n\n    const tableLocalization = {\n        pagination: {\n            labelDisplayedRows: '',\n            previousTooltip: 'Prethodna',\n            nextTooltip: 'Sljedeća',\n            lastTooltip: 'Posljednja',\n            firstTooltip: 'Prva',\n            labelRowsPerPage: !isMobile && 'Redova po stranici',\n            labelRowsSelect: '',\n        },\n        toolbar: {\n            nRowsSelected: '{0} row(s) selected',\n            searchPlaceholder: 'Pretraga...',\n            showColumnsTitle: 'Prikaži kolone',\n            addRemoveColumns: 'Dadaj ili ukloni kolonu',\n        },\n        header: {\n            actions: 'Opcije',\n        },\n        body: {\n            emptyDataSourceMessage: 'Lista pretraživanja je prazna',\n            filterRow: {\n                filterTooltip: 'Filter',\n            },\n        },\n    };\n\n    return (\n        <div className='searchPage'>\n            {isLoading ? (\n                <Loader loaderColor={`black`} />\n            ) : (\n                <div>\n                    {isAlertVisible && (\n                        <Snackbar\n                            open={isAlertVisible}\n                            anchorOrigin={{\n                                vertical: 'top',\n                                horizontal: 'center',\n                            }}\n                            autoHideDuration={8000}\n                            onClose={() => setIsAlertVisible(false)}\n                        >\n                            <Alert\n                                onClose={() => setIsAlertVisible(false)}\n                                severity='error'\n                                sx={{ width: '100%' }}\n                            >\n                                {errorMessage}\n                            </Alert>\n                        </Snackbar>\n                    )}\n                    <Grid container justifyContent='flex-start'>\n                        <Breadcrumbs aria-label='breadcrumb'>\n                            <NavLink\n                                to='/'\n                                style={{\n                                    textDecoration: 'none',\n                                    color: 'grey',\n                                }}\n                            >\n                                <Home sx={{ mr: 0.5 }} fontSize='inherit' />\n                                Početna\n                            </NavLink>\n                            <Stack\n                                direction='row'\n                                spacing={2}\n                                style={{ color: '#393e46' }}\n                            >\n                                <Search\n                                    sx={{ mr: -1.2, marginTop: 0.3 }}\n                                    fontSize='inherit'\n                                />\n                                <Typography>Pretraga</Typography>\n                            </Stack>\n                        </Breadcrumbs>\n                    </Grid>\n                    <MaterialTable\n                        columns={documentsColumns}\n                        data={documentsTableData}\n                        actions={[\n                            {\n                                icon: () => <VisibilityOutlined />,\n                                tooltip: 'Pogledati',\n                                onClick: (e, data) =>\n                                    navigate(`/pregled/${data.id}`),\n                            },\n                        ]}\n                        title='Lista dokumenata'\n                        options={tableOptions}\n                        localization={tableLocalization}\n                        style={{ marginTop: 10 }}\n                    />\n                </div>\n            )}\n        </div>\n    );\n}\n\nexport default SearchPage;\n","import React from 'react';\nimport { NavLink } from 'react-router-dom';\nimport { useDispatch, useSelector } from 'react-redux';\nimport {\n    Grid,\n    Breadcrumbs,\n    Typography,\n    Stack,\n    Chip,\n    Tooltip,\n    useMediaQuery,\n    Box,\n} from '@mui/material';\nimport MaterialTable from '@material-table/core';\nimport { DoneAll, Home, Notifications } from '@mui/icons-material';\nimport { requestsActions } from '../../store/requests';\nimport './style.css';\nimport { formatDateTime } from '../../utilities/formatDate';\nimport { capitalizeWord } from '../../utilities/capitalizeWord';\n\nfunction RequestsPage() {\n    const allRequests = useSelector((state) => state.requests.allRequests);\n    const isMobile = useMediaQuery('(max-width:540px)');\n    const dispatch = useDispatch();\n\n    const documentTypeHandler = (type) => {\n        switch (type) {\n            case 'document':\n                return 'Dokument';\n            case 'audio':\n                return 'Audio';\n            case 'video':\n                return 'Video';\n            case 'image':\n                return 'Slika';\n            default:\n                break;\n        }\n    };\n\n    const requestsTableData =\n        allRequests &&\n        allRequests.map((request) => {\n            return {\n                id: request._id,\n                userId: request.user?._id,\n                docId: request.document?._id,\n                documentName: capitalizeWord(request.document?.documentName),\n                documentType: documentTypeHandler(request.document?.fileType),\n                reason: request.reason && (\n                    <Tooltip title={request.reason} placement='top-start'>\n                        <Box>{request.reason}</Box>\n                    </Tooltip>\n                ),\n                description: request.reason,\n                requestedBy: capitalizeWord(\n                    `${request.user?.firstName} ${request.user?.lastName}`\n                ),\n                type: request.type,\n                typeTable:\n                    request.type === 'access' ? (\n                        <Chip\n                            label='Pregled dokumenta'\n                            style={{\n                                color: '#7A0C2E',\n                                backgroundColor: '#FFE7D9',\n                                fontWeight: 'bold',\n                            }}\n                            size='small'\n                        />\n                    ) : (\n                        <Chip\n                            label='Preuzimanje dokumenta'\n                            style={{\n                                color: '#04297A',\n                                backgroundColor: '#D0F2FF',\n                                fontWeight: 'bold',\n                            }}\n                            size='small'\n                        />\n                    ),\n                isApproved: !request.isApproved && (\n                    <Chip\n                        label='Na čekanju'\n                        style={{\n                            color: '#B78103',\n                            backgroundColor: '#FFF7CD',\n                            fontWeight: 'bold',\n                        }}\n                        size='small'\n                    />\n                ),\n                createdAt: request.createdAt,\n                createdAtTable: formatDateTime(request.createdAt),\n            };\n        });\n\n    const requestsColumns = [\n        {\n            title: 'Naziv dokumenta',\n            field: 'documentName',\n            sorting: false,\n            width: '20%',\n        },\n        {\n            title: 'Tip dokumenta',\n            field: 'documentType',\n            sorting: false,\n            width: '10%',\n        },\n\n        {\n            title: 'Korisnik',\n            field: 'requestedBy',\n            sorting: false,\n            width: '10%',\n        },\n        {\n            title: 'Datum',\n            field: 'createdAtTable',\n            sorting: false,\n            width: '15%',\n        },\n        {\n            title: 'Opis',\n            field: 'reason',\n            sorting: false,\n            width: '35%',\n            align: 'left',\n            searchable: false,\n            cellStyle: {\n                textOverflow: 'ellipsis',\n                whiteSpace: 'nowrap',\n                overflow: 'hidden',\n                maxWidth: 200,\n            },\n        },\n        {\n            title: 'Tip zahtjeva',\n            field: 'typeTable',\n            sorting: false,\n            width: '5%',\n            align: 'left',\n            searchable: false,\n        },\n        {\n            title: 'Odobren',\n            field: 'isApproved',\n            sorting: false,\n        },\n    ];\n\n    const tableOptions = {\n        actionsColumnIndex: -1,\n        columnsButton: true,\n        grouping: false,\n        sorting: true,\n        paging: true,\n        pageSizeOptions: [5, 10, 20, 25, 50, 100],\n        pageSize: 10,\n        emptyRowsWhenPaging: false,\n        rowStyle: {\n            font: '15px Roboto',\n        },\n        headerStyle: {\n            background: '#ddd',\n            color: '#000',\n            fontWeight: 'bold',\n            paddingRight: 10,\n        },\n    };\n\n    const tableLocalization = {\n        pagination: {\n            labelDisplayedRows: '',\n            previousTooltip: 'Prethodna',\n            nextTooltip: 'Sljedeća',\n            lastTooltip: 'Posljednja',\n            firstTooltip: 'Prva',\n            labelRowsPerPage: !isMobile && 'Redova po stranici',\n            labelRowsSelect: '',\n        },\n        toolbar: {\n            nRowsSelected: '{0} row(s) selected',\n            searchPlaceholder: 'Pretraga...',\n            showColumnsTitle: 'Prikaži kolone',\n            addRemoveColumns: 'Dadaj ili ukloni kolonu',\n        },\n        header: {\n            actions: 'Opcije',\n        },\n        body: {\n            emptyDataSourceMessage: 'Lista zahtjeva je prazna',\n            filterRow: {\n                filterTooltip: 'Filter',\n            },\n        },\n    };\n\n    const handleOpenApproveRequestModal = (data) => {\n        dispatch(requestsActions.setRequestModalVisible());\n        dispatch(requestsActions.setSelectedRequest(data));\n    };\n\n    return (\n        <div className='requestsPage'>\n            <Grid container justifyContent='flex-start' sx={{ mb: 1 }}>\n                <Breadcrumbs aria-label='breadcrumb'>\n                    <NavLink\n                        to='/'\n                        style={{ textDecoration: 'none', color: 'grey' }}\n                    >\n                        <Home sx={{ mr: 0.5 }} fontSize='inherit' />\n                        Početna\n                    </NavLink>\n                    <Stack\n                        direction='row'\n                        spacing={2}\n                        style={{ color: '#393e46' }}\n                    >\n                        <Notifications\n                            sx={{ mr: -1.2, marginTop: 0.3 }}\n                            fontSize='inherit'\n                        />\n                        <Typography>Zahtjevi</Typography>\n                    </Stack>\n                </Breadcrumbs>\n            </Grid>\n            <MaterialTable\n                columns={requestsColumns}\n                data={requestsTableData}\n                actions={[\n                    {\n                        icon: () => <DoneAll color='success' />,\n                        tooltip: 'Pogledati',\n                        onClick: (e, data) =>\n                            handleOpenApproveRequestModal(data),\n                    },\n                ]}\n                title='Lista zahjeva'\n                options={tableOptions}\n                localization={tableLocalization}\n            />\n        </div>\n    );\n}\n\nexport default RequestsPage;\n","import React, { useState } from 'react';\nimport {\n    Button,\n    Dialog,\n    DialogActions,\n    DialogContent,\n    DialogContentText,\n    Backdrop,\n    Typography,\n} from '@mui/material';\nimport { useDispatch, useSelector } from 'react-redux';\nimport Service from '../../api/service';\nimport Loader from '../Loader';\nimport { AccessTime } from '@mui/icons-material';\nimport { requestsActions } from '../../store/requests';\nimport { formatDateTime } from '../../utilities/formatDate';\nimport { modalResponseActions } from '../../store/modalResponse';\n\nfunction ApproveRequestModal(props) {\n    const [isLoading, setIsLoading] = useState(false);\n\n    const allRequests = useSelector((state) => state.requests.allRequests);\n    const selectedRequest = props?.selected;\n    const dispatch = useDispatch();\n\n    const successResponse = (res) => {\n        props.onClose(selectedRequest.id, true);\n        dispatch(modalResponseActions.setIsModalResAlertVisible());\n        dispatch(modalResponseActions.setModalAlertType('success'));\n        dispatch(modalResponseActions.setModalResMessage(res.data.message));\n        setIsLoading(false);\n        const filteredRequests = allRequests.filter(\n            (request) => request._id !== selectedRequest.id\n        );\n        dispatch(requestsActions.setAllRequests(filteredRequests));\n    };\n\n    const errResponse = (err) => {\n        dispatch(modalResponseActions.setIsModalResAlertVisible());\n        dispatch(modalResponseActions.setModalAlertType('error'));\n        dispatch(\n            modalResponseActions.setModalResMessage(\n                err.response\n                    ? err.response.data.message\n                    : 'Konekcija sa serverom nije uspostavljena'\n            )\n        );\n        setIsLoading(false);\n        props.onClose();\n    };\n\n    const approveRequestHandler = async () => {\n        setIsLoading(true);\n\n        await Service.approveRequest({\n            id: selectedRequest.id,\n            userId: selectedRequest.userId,\n            docId: selectedRequest.docId,\n            type: selectedRequest.type,\n        })\n            .then((res) => {\n                successResponse(res);\n            })\n            .catch((err) => {\n                errResponse(err);\n            });\n    };\n\n    const declineRequestHandler = async () => {\n        setIsLoading(true);\n\n        await Service.declineRequest({\n            id: selectedRequest.id,\n            userId: selectedRequest.userId,\n            docId: selectedRequest.docId,\n            type: selectedRequest.type,\n        })\n            .then((res) => {\n                successResponse(res);\n            })\n            .catch((err) => {\n                errResponse(err);\n            });\n    };\n\n    return (\n        <div>\n            <Backdrop\n                sx={{\n                    color: '#fff',\n                    zIndex: 1500,\n                }}\n                open={isLoading}\n            >\n                <Loader />\n            </Backdrop>\n            <Dialog\n                open={props.visible}\n                onClose={props.onClose}\n                aria-labelledby='alert-dialog-title'\n                aria-describedby='alert-dialog-description'\n            >\n                <DialogContent>\n                    <DialogContentText>\n                        Da li sigurno želite dozvoliti{' '}\n                        {`${\n                            selectedRequest?.type === 'access'\n                                ? 'pristup dokumentu'\n                                : 'preuzimanje dokumenta'\n                        }`}\n                        : {selectedRequest?.documentName}, korisniku:{' '}\n                        {selectedRequest?.requestedBy}?\n                    </DialogContentText>\n                    <DialogContentText component='span'>\n                        Razlog: {selectedRequest?.description}\n                    </DialogContentText>\n                    <Typography\n                        variant='caption'\n                        component='span'\n                        sx={{\n                            ml: -0.5,\n                            mt: 2,\n                            display: 'flex',\n                            alignItems: 'center',\n                            color: 'text.disabled',\n                        }}\n                    >\n                        <AccessTime />\n                        {formatDateTime(selectedRequest?.createdAt)}\n                    </Typography>\n                </DialogContent>\n                <DialogActions>\n                    <Button\n                        onClick={props.onClose}\n                        variant='outlined'\n                        style={{ textTransform: 'none', fontWeight: 'bold' }}\n                    >\n                        Zatvori\n                    </Button>\n                    <Button\n                        onClick={declineRequestHandler}\n                        variant='outlined'\n                        style={{ textTransform: 'none', fontWeight: 'bold' }}\n                    >\n                        Odbaci\n                    </Button>\n                    <Button\n                        onClick={approveRequestHandler}\n                        variant='contained'\n                        style={{ textTransform: 'none', fontWeight: 'bold' }}\n                    >\n                        Prihvati\n                    </Button>\n                </DialogActions>\n            </Dialog>\n        </div>\n    );\n}\n\nexport default ApproveRequestModal;\n","import React, { useRef, useState } from 'react';\nimport { useDropzone } from 'react-dropzone';\nimport { List, ListItem, ListItemText, IconButton } from '@mui/material';\nimport {\n    AddCircleOutlineOutlined,\n    DeleteOutline,\n    Cancel,\n    Add,\n} from '@mui/icons-material';\nimport './style.css';\n\nfunction UploadBox(props) {\n    const [files, setFiles] = useState(props?.document.files);\n\n    const document = props?.document;\n    const maxDocFileSize = 25000000;\n    const maxOtherFilesSize = 1000000000;\n    const addImageBox = useRef(null);\n\n    const isEditEnabled = props?.isEditEnabled;\n\n    const changeFileTypeHandler = () => {\n        switch (document?.fileType) {\n            case 'image':\n                return '.jpeg, .png, .jpg, .gif';\n            case 'video':\n                return '.mp4, .MPEG-4, .mkv, .avi, .flv, .mov';\n            case 'audio':\n                return '.mp3, .aac, .wav, .wma';\n            case 'document':\n                return '.pdf, .doc, .docx, .txt';\n            default:\n                break;\n        }\n    };\n\n    const { getRootProps, getInputProps } = useDropzone({\n        accept: changeFileTypeHandler(),\n        onDrop: (acceptedFiles) => {\n            acceptedFiles.map((file) =>\n                Object.assign(file, {\n                    preview: URL.createObjectURL(file),\n                })\n            );\n            setFiles(acceptedFiles);\n            handleEditFiles(acceptedFiles);\n        },\n        maxFiles: document?.fileType === 'image' ? 5 : 1,\n        maxSize:\n            document?.fileType === 'document'\n                ? maxDocFileSize\n                : maxOtherFilesSize,\n        disabled: isEditEnabled ? false : true,\n    });\n\n    const removeImageFromFiles = (index) => {\n        const tmpFiles = [...files.filter((_, id) => id !== index)];\n        setFiles(tmpFiles);\n        handleEditFiles(tmpFiles);\n    };\n\n    const addMoreImages = () => {\n        if (isEditEnabled) {\n            addImageBox.current.click();\n        }\n    };\n\n    const addMoreFilesChangeHadler = (e) => {\n        if (e.target.files.length > 0) {\n            let editedImagesArr = [...files];\n            const newImage = e.target.files[0];\n            editedImagesArr.push(\n                Object.assign(newImage, {\n                    preview: URL.createObjectURL(newImage),\n                })\n            );\n            setFiles(editedImagesArr);\n            handleEditFiles(editedImagesArr);\n        }\n    };\n\n    const images = files.map((file, index) => (\n        <div className='imageOuter' key={index}>\n            {isEditEnabled && (\n                <Cancel\n                    style={{\n                        cursor: 'pointer',\n                        position: 'absolute',\n                        marginLeft: 80,\n                        marginTop: -20,\n                    }}\n                    onClick={() => removeImageFromFiles(index)}\n                />\n            )}\n\n            <div className='imageInner'>\n                <img\n                    src={file.preview ? file.preview : file}\n                    className='img'\n                    alt='post'\n                />\n            </div>\n        </div>\n    ));\n\n    const handleEditFiles = (editedFiles) => {\n        props.onEdit(editedFiles);\n    };\n\n    return (\n        <div className='uploadBox'>\n            <div\n                className={isEditEnabled ? 'dragArea' : 'dragArea disabled'}\n                {...getRootProps()}\n            >\n                <AddCircleOutlineOutlined className='icon' />\n                <h3>Dodaj dokument</h3>\n                <p>Povuci/izbaci</p>\n                <p>Podržani fajlovi {changeFileTypeHandler()}</p>\n                <p>\n                    maksimalno {document?.fileType === 'image' ? 5 : 1}{' '}\n                    fajl/fajlova po uploadu\n                </p>\n                {document?.fileType === 'document' && (\n                    <p>Maksimalna veličina fajla 25MB</p>\n                )}\n                <input type='file' hidden {...getInputProps()} />\n            </div>\n            {document?.fileType === 'image' ? (\n                <div className='imageContainer'>\n                    {images}\n                    {files.length > 0 && files.length < 5 && (\n                        <div\n                            className='imageOuter'\n                            style={{\n                                cursor: isEditEnabled\n                                    ? 'pointer'\n                                    : 'not-allowed',\n                            }}\n                            onClick={addMoreImages}\n                        >\n                            <input\n                                type='file'\n                                hidden\n                                accept='image/png, image/gif, image/jpeg, image/jpg'\n                                ref={addImageBox}\n                                onChange={addMoreFilesChangeHadler}\n                            />\n                            <Add\n                                style={{\n                                    position: 'absolute',\n                                    marginLeft: 32,\n                                    marginTop: 32,\n                                }}\n                            />\n                        </div>\n                    )}\n                </div>\n            ) : (\n                <div>\n                    {files.map((file, index) => {\n                        return (\n                            <List key={index}>\n                                <ListItem\n                                    secondaryAction={\n                                        <IconButton\n                                            edge='end'\n                                            aria-label='delete'\n                                            onClick={() =>\n                                                removeImageFromFiles(index)\n                                            }\n                                            disabled={\n                                                !isEditEnabled ? true : false\n                                            }\n                                        >\n                                            <DeleteOutline />\n                                        </IconButton>\n                                    }\n                                >\n                                    <ListItemText\n                                        primary={\n                                            file.path\n                                                ? file.path\n                                                : document.documentName\n                                        }\n                                    />\n                                </ListItem>\n                            </List>\n                        );\n                    })}\n                </div>\n            )}\n        </div>\n    );\n}\n\nexport default UploadBox;\n","import React, { useState } from 'react';\nimport {\n    Button,\n    Dialog,\n    DialogActions,\n    DialogContent,\n    DialogContentText,\n    Backdrop,\n    Stack,\n    Typography,\n} from '@mui/material';\nimport Service from '../../api/service';\nimport Loader from '../Loader';\nimport { WarningAmber } from '@mui/icons-material';\n\nfunction DocumentRemoveModal(props) {\n    const [isLoading, setIsLoading] = useState(false);\n\n    let docId = props?.selected;\n\n    const deleteDocumentHandler = async () => {\n        setIsLoading(true);\n\n        await Service.removeDocument(docId)\n            .then((res) => {\n                setIsLoading(false);\n                props.onClose(res.data, true);\n            })\n            .catch((err) => {\n                setIsLoading(false);\n                props.onClose(\n                    err.response\n                        ? err.response.data.message\n                        : 'Konekcija sa serverom nije uspostavljena',\n                    true\n                );\n            });\n    };\n\n    return (\n        <div>\n            <Backdrop\n                sx={{\n                    color: '#fff',\n                    zIndex: 1500,\n                }}\n                open={isLoading}\n            >\n                <Loader />\n            </Backdrop>\n            <Dialog\n                open={props.visible}\n                onClose={props.onClose}\n                aria-labelledby='alert-dialog-title'\n                aria-describedby='alert-dialog-description'\n            >\n                <DialogContent>\n                    <Stack direction='row' spacing={1} sx={{ mb: 2 }}>\n                        <WarningAmber color='warning' />\n                        <Typography color='#e65100'>Upozorenje!</Typography>\n                    </Stack>\n                    <DialogContentText>\n                        Da li sigurno želite izbrisati ovaj dokument i sve\n                        njegove fajlove?\n                    </DialogContentText>\n                </DialogContent>\n                <DialogActions>\n                    <Button\n                        onClick={props.onClose}\n                        variant='outlined'\n                        style={{ textTransform: 'none', fontWeight: 'bold' }}\n                    >\n                        Ne\n                    </Button>\n                    <Button\n                        onClick={deleteDocumentHandler}\n                        variant='contained'\n                        style={{ textTransform: 'none', fontWeight: 'bold' }}\n                    >\n                        Izbrisati\n                    </Button>\n                </DialogActions>\n            </Dialog>\n        </div>\n    );\n}\n\nexport default DocumentRemoveModal;\n","import React, { useState } from 'react';\nimport { useNavigate, useParams } from 'react-router-dom';\nimport {\n    Grid,\n    InputLabel,\n    OutlinedInput,\n    Typography,\n    FormControlLabel,\n    Checkbox,\n    Button,\n    Alert,\n    AlertTitle,\n    Snackbar,\n    Backdrop,\n} from '@mui/material';\nimport Service from '../../api/service';\nimport { useForm, Controller } from 'react-hook-form';\nimport { yupResolver } from '@hookform/resolvers/yup';\nimport * as Yup from 'yup';\nimport { Delete, Edit, HighlightOff } from '@mui/icons-material';\nimport Loader from '../Loader';\nimport './style.css';\nimport DocumentRemoveModal from '../DocumentRemoveModal';\n\nfunction DocumentInfoEdit(props) {\n    const { id } = useParams();\n    const [isFileAlertVisible, setIsFileAlertVisible] = useState(false);\n    const [isEditAlertVisible, setIsEditAlertVisible] = useState(false);\n    const [editMessage, setEditMessage] = useState('');\n    const [editAlertType, setEditAlertType] = useState('success');\n    const [isLoading, setIsLoading] = useState(false);\n    const [isRemoveDocModalVisible, setIsRemoveDocModalVisible] =\n        useState(false);\n\n    const document = props?.document;\n    const isEditEnabled = props?.isEditEnabled;\n    const files = props?.files;\n    const navigate = useNavigate();\n\n    const validationSchema = Yup.object().shape({\n        documentName: Yup.string().required('Naziv dokumenta je obavezan'),\n        description: Yup.string().required('Opis dokumenta je obavezan'),\n        ownership: Yup.string().required('Vlasništvo dokumenta je obavezno'),\n        publicAccess: Yup.bool(),\n        location: Yup.string().required('Lokacija je obavezna'),\n        active: Yup.bool(),\n        keyWords: Yup.string().required('Ključne riječi su obavezne'),\n    });\n\n    const {\n        register,\n        control,\n        handleSubmit,\n        formState: { errors },\n    } = useForm({\n        defaultValues: {\n            documentName: document?.documentName,\n            description: document?.description,\n            ownership: document?.ownership,\n            publicAccess: document?.publicAccess,\n            location: document?.location,\n            active: document?.active,\n            keyWords: document?.keyWords,\n        },\n        resolver: yupResolver(validationSchema),\n    });\n\n    const handleEditDocument = async (values) => {\n        setIsLoading(true);\n        if (files.length > 0) {\n            setIsFileAlertVisible(false);\n            let formData = new FormData();\n\n            for (let file of files) {\n                formData.append('files', file);\n            }\n\n            Object.keys(values).forEach((key) =>\n                formData.append(key, values[key])\n            );\n\n            formData.append('docId', id);\n\n            await Service.editDocument(formData)\n                .then((res) => {\n                    setIsEditAlertVisible(true);\n                    setEditMessage(res.data.message);\n                    setEditAlertType('success');\n                    props.onShowPreview();\n                    props.onSwitchDisable();\n                    window.scrollTo({\n                        top: 0,\n                        behavior: 'smooth',\n                    });\n                })\n                .catch((err) => {\n                    setIsEditAlertVisible(true);\n                    setEditMessage(\n                        err.response\n                            ? err.response.data.message\n                            : 'Konekcija sa serverom nije uspostavljena'\n                    );\n                    setEditAlertType('error');\n                });\n        } else {\n            setIsFileAlertVisible(true);\n        }\n        setIsLoading(false);\n    };\n\n    const handleOpenRemoveDocModal = () => {\n        setIsRemoveDocModalVisible(true);\n    };\n\n    const handleCloseRemoveDocModal = (data, isOk) => {\n        if (isOk) {\n            setIsEditAlertVisible(true);\n            setEditAlertType(data.status ? data.status : 'error');\n            setEditMessage(data.message ? data.message : data);\n            setTimeout(() => {\n                navigate('/dokumenti');\n            }, 1000);\n        }\n        setIsRemoveDocModalVisible(false);\n    };\n\n    return (\n        <div className='editDocumentInfo'>\n            {isEditAlertVisible && (\n                <Snackbar\n                    open={isEditAlertVisible}\n                    anchorOrigin={{ vertical: 'top', horizontal: 'center' }}\n                    autoHideDuration={6000}\n                    onClose={() => setIsEditAlertVisible(false)}\n                >\n                    <Alert\n                        onClose={() => setIsEditAlertVisible(false)}\n                        severity={editAlertType}\n                        sx={{ width: '100%' }}\n                    >\n                        {editMessage}\n                    </Alert>\n                </Snackbar>\n            )}\n            <Backdrop\n                sx={{\n                    color: '#fff',\n                    zIndex: (theme) => theme.zIndex.drawer + 1,\n                }}\n                open={isLoading}\n            >\n                <Loader />\n            </Backdrop>\n            {isFileAlertVisible && (\n                <Grid container justifyContent='center'>\n                    <Alert\n                        severity='error'\n                        action={\n                            <HighlightOff\n                                onClick={() => setIsFileAlertVisible(false)}\n                                style={{ cursor: 'pointer' }}\n                            />\n                        }\n                        style={{ marginBottom: 15 }}\n                    >\n                        <AlertTitle>\n                            Fajl prilog je obavezan, molimo uploadujte fajl\n                        </AlertTitle>\n                    </Alert>\n                </Grid>\n            )}\n            <Grid container spacing={2} columns={16} sx={{ padding: 1 }}>\n                <Grid item xs={16}>\n                    <InputLabel>Naziv dokumenta</InputLabel>\n                    <OutlinedInput\n                        id='documentName'\n                        fullWidth\n                        disabled={isEditEnabled ? false : true}\n                        {...register('documentName')}\n                        error={errors.documentName ? true : false}\n                    />\n                    <Typography\n                        variant='inherit'\n                        color='red'\n                        sx={{\n                            font: '12px Roboto',\n                        }}\n                    >\n                        {errors.documentName?.message}\n                    </Typography>\n                </Grid>\n                <Grid item xs={16} sm={8}>\n                    <InputLabel>Opis</InputLabel>\n                    <OutlinedInput\n                        id='description'\n                        type='text'\n                        fullWidth\n                        required\n                        disabled={isEditEnabled ? false : true}\n                        variant='outlined'\n                        multiline\n                        rows={4}\n                        {...register('description', { required: true })}\n                        error={errors.description ? true : false}\n                    />\n                    <Typography\n                        variant='inherit'\n                        color='red'\n                        sx={{\n                            font: '12px Roboto',\n                        }}\n                    >\n                        {errors.description?.message}\n                    </Typography>\n                </Grid>\n                <Grid item xs={16} sm={8}>\n                    <InputLabel>Vlasništvo</InputLabel>\n                    <OutlinedInput\n                        id='ownership'\n                        type='text'\n                        fullWidth\n                        required\n                        disabled={isEditEnabled ? false : true}\n                        variant='outlined'\n                        {...register('ownership', { required: true })}\n                        error={errors.ownership ? true : false}\n                    />\n                    <Typography\n                        variant='inherit'\n                        color='red'\n                        sx={{\n                            font: '12px Roboto',\n                        }}\n                    >\n                        {errors.ownership?.message}\n                    </Typography>\n                    <FormControlLabel\n                        label='Javno dostupan'\n                        disabled={isEditEnabled ? false : true}\n                        control={\n                            <Controller\n                                name='publicAccess'\n                                control={control}\n                                defaultValue={false}\n                                render={({ field: { value, ...field } }) => (\n                                    <Checkbox\n                                        {...field}\n                                        disabled={isEditEnabled ? false : true}\n                                        checked={!!value}\n                                        sx={{\n                                            '& .MuiSvgIcon-root': {\n                                                fontSize: 28,\n                                            },\n                                        }}\n                                        onChange={(e, value) =>\n                                            field.onChange(value)\n                                        }\n                                    />\n                                )}\n                            />\n                        }\n                        labelPlacement='start'\n                        sx={{ marginTop: 1.5, marginLeft: 0 }}\n                    />\n                </Grid>\n                <Grid item xs={16} sm={8}>\n                    <InputLabel>Lokacija</InputLabel>\n                    <OutlinedInput\n                        id='location'\n                        type='text'\n                        fullWidth\n                        required\n                        disabled={isEditEnabled ? false : true}\n                        variant='outlined'\n                        {...register('location', { required: true })}\n                        error={errors.location ? true : false}\n                    />\n                    <Typography\n                        variant='inherit'\n                        color='red'\n                        sx={{\n                            font: '12px Roboto',\n                        }}\n                    >\n                        {errors.location?.message}\n                    </Typography>\n                </Grid>\n                <Grid item xs={16} sm={8}>\n                    <FormControlLabel\n                        id='active'\n                        disabled={isEditEnabled ? false : true}\n                        label='Status'\n                        control={\n                            <Controller\n                                name='active'\n                                control={control}\n                                defaultValue={false}\n                                render={({ field: { value, ...field } }) => (\n                                    <Checkbox\n                                        {...field}\n                                        disabled={isEditEnabled ? false : true}\n                                        checked={!!value}\n                                        sx={{\n                                            '& .MuiSvgIcon-root': {\n                                                fontSize: 28,\n                                            },\n                                        }}\n                                        onChange={(e, value) =>\n                                            field.onChange(value)\n                                        }\n                                    />\n                                )}\n                            />\n                        }\n                        labelPlacement='start'\n                        sx={{ marginTop: 3.5, marginLeft: 0 }}\n                    />\n                </Grid>\n                <Grid item xs={16} sm={8}>\n                    <InputLabel>Ključne riječi</InputLabel>\n                    <OutlinedInput\n                        id='keyWords'\n                        type='text'\n                        fullWidth\n                        required\n                        disabled={isEditEnabled ? false : true}\n                        variant='outlined'\n                        {...register('keyWords', { required: true })}\n                        error={errors.keyWords ? true : false}\n                    />\n                    <Typography\n                        variant='inherit'\n                        color='red'\n                        sx={{\n                            font: '12px Roboto',\n                        }}\n                    >\n                        {errors.keyWords?.message}\n                    </Typography>\n                </Grid>\n            </Grid>\n            <Grid container justifyContent='center' spacing={2} columns={12}>\n                <Grid item xs={6} md={4}>\n                    <Button\n                        variant='contained'\n                        startIcon={<Delete />}\n                        style={{\n                            textTransform: 'none',\n                            fontWeight: 'bold',\n                            marginTop: 15,\n                            width: '100%',\n                        }}\n                        color='error'\n                        disabled={isEditEnabled ? false : true}\n                        onClick={handleOpenRemoveDocModal}\n                    >\n                        Izbriši\n                    </Button>\n                </Grid>\n                <Grid item xs={6} md={4}>\n                    <Button\n                        variant='contained'\n                        startIcon={<Edit />}\n                        style={{\n                            textTransform: 'none',\n                            fontWeight: 'bold',\n                            marginTop: 15,\n                            width: '100%',\n                        }}\n                        disabled={isEditEnabled ? false : true}\n                        onClick={handleSubmit(handleEditDocument)}\n                    >\n                        Izmjeni\n                    </Button>\n                </Grid>\n            </Grid>\n            {isRemoveDocModalVisible && (\n                <DocumentRemoveModal\n                    visible={isRemoveDocModalVisible}\n                    onClose={handleCloseRemoveDocModal}\n                    selected={id}\n                />\n            )}\n        </div>\n    );\n}\n\nexport default DocumentInfoEdit;\n","import React, { useState, useEffect } from 'react';\nimport { NavLink, useParams, useNavigate } from 'react-router-dom';\nimport {\n    Grid,\n    Breadcrumbs,\n    Typography,\n    Stack,\n    Snackbar,\n    Alert,\n    FormGroup,\n    FormControlLabel,\n    Switch,\n    Button,\n} from '@mui/material';\nimport { Edit, Home } from '@mui/icons-material';\nimport UploadDocumentBox from '../../components/UploadDocumentBox';\nimport Service from '../../api/service';\nimport Loader from '../../components/Loader';\nimport './style.css';\nimport DocumentInfoEdit from '../../components/DocumentInfoEdit';\n\nfunction EditDocumentPage() {\n    const { id } = useParams();\n    const [isLoading, setIsLoading] = useState(true);\n    const [document, setDocument] = useState(null);\n    const [updatedFiles, setUpdatedFiles] = useState([]);\n    const [isAlertVisible, setIsAlertVisible] = useState(false);\n    const [alertMessage, setAlertMessage] = useState('');\n    const [alertType, setAlertType] = useState('error');\n    const [isEditEnabled, setIsEditEnabled] = useState(false);\n    const [isPreviewBtnVisible, setIsPreviewBtnVisible] = useState(false);\n\n    const navigate = useNavigate();\n\n    useEffect(() => {\n        const fetchSelectedDocument = async () => {\n            await Service.getDocument({ id })\n                .then((res) => {\n                    setDocument(res.data.document);\n                    setUpdatedFiles(res.data.document.files);\n                    setIsLoading(false);\n                })\n                .catch((err) => {\n                    setAlertMessage(\n                        err.response\n                            ? err.response.data.message\n                            : 'Konekcija sa serverom nije uspostavljena'\n                    );\n                    setIsAlertVisible(true);\n                    setAlertType('error');\n                    navigate('/dokumenti');\n                    setIsLoading(false);\n                });\n        };\n        fetchSelectedDocument();\n    }, [id, navigate]);\n\n    const handleSwitchChange = (event) => {\n        setIsEditEnabled(event.target.checked);\n    };\n\n    const handleEditFiles = (tmpFiles) => {\n        setUpdatedFiles(tmpFiles);\n    };\n\n    return (\n        <div>\n            {isLoading ? (\n                <Loader loaderColor={`black`} />\n            ) : (\n                <div className='editDocumentPage'>\n                    {isAlertVisible && (\n                        <Snackbar\n                            open={isAlertVisible}\n                            anchorOrigin={{\n                                vertical: 'top',\n                                horizontal: 'center',\n                            }}\n                            autoHideDuration={6000}\n                            onClose={() => setIsAlertVisible(false)}\n                        >\n                            <Alert\n                                onClose={() => setIsAlertVisible(false)}\n                                severity={alertType}\n                                sx={{ width: '100%', font: '14px Roboto' }}\n                            >\n                                {alertMessage}\n                            </Alert>\n                        </Snackbar>\n                    )}\n                    <Grid container justifyContent='flex-start' sx={{ mb: 1 }}>\n                        <Breadcrumbs aria-label='breadcrumb'>\n                            <NavLink\n                                to='/'\n                                style={{\n                                    textDecoration: 'none',\n                                    color: 'grey',\n                                }}\n                            >\n                                <Home sx={{ mr: 0.5 }} fontSize='inherit' />\n                                Početna\n                            </NavLink>\n                            <Stack\n                                direction='row'\n                                spacing={2}\n                                style={{ color: '#393e46' }}\n                            >\n                                <Edit\n                                    sx={{ mr: -1.2, marginTop: 0.3 }}\n                                    fontSize='inherit'\n                                />\n                                <Typography>Izmjena dokumenta</Typography>\n                            </Stack>\n                        </Breadcrumbs>\n                    </Grid>\n                    <div className='editSwitch'>\n                        <Grid container justifyContent='flex-end'>\n                            {isPreviewBtnVisible && (\n                                <Button\n                                    variant='outlined'\n                                    style={{\n                                        textTransform: 'none',\n                                        fontWeight: 'bold',\n                                    }}\n                                    onClick={() => navigate(`/pregled/${id}`)}\n                                >\n                                    Pregled\n                                </Button>\n                            )}\n\n                            <FormGroup sx={{ mr: 1 }}>\n                                <FormControlLabel\n                                    control={\n                                        <Switch\n                                            onChange={handleSwitchChange}\n                                            checked={isEditEnabled}\n                                        />\n                                    }\n                                    label='Izmjena dokumenta'\n                                    labelPlacement='start'\n                                />\n                            </FormGroup>\n                        </Grid>\n                    </div>\n\n                    <Grid container justifyContent='center'>\n                        <UploadDocumentBox\n                            document={document}\n                            isEditEnabled={isEditEnabled}\n                            onEdit={handleEditFiles}\n                        />\n                    </Grid>\n                    <Grid\n                        justifyContent='center'\n                        container\n                        spacing={2}\n                        columns={16}\n                        sx={{ padding: 1 }}\n                    >\n                        <DocumentInfoEdit\n                            document={document}\n                            isEditEnabled={isEditEnabled}\n                            files={updatedFiles}\n                            onShowPreview={() => setIsPreviewBtnVisible(true)}\n                            onSwitchDisable={() => setIsEditEnabled(false)}\n                        />\n                    </Grid>\n                    {/* <div className='actionButtons'>\n                       \n                    </div> */}\n                </div>\n            )}\n        </div>\n    );\n}\n\nexport default EditDocumentPage;\n","import React, { Fragment, useEffect, useState } from 'react';\r\nimport {\r\n    BrowserRouter as Router,\r\n    Routes,\r\n    Route,\r\n    Navigate,\r\n} from 'react-router-dom';\r\nimport { useSelector, useDispatch } from 'react-redux';\r\nimport Login from '../pages/Login';\r\nimport Content from './Content';\r\nimport Signup from '../pages/Signup';\r\nimport PasswordReset from '../pages/PasswordReset';\r\nimport ValidateProfile from '../pages/ValidateProfile';\r\nimport ViewHistory from '../pages/ViewHistory';\r\nimport Home from '../pages/Home';\r\nimport Statistics from '../pages/Statistics';\r\nimport Profile from '../pages/Profile';\r\nimport NewDocument from '../pages/NewDocument';\r\nimport ViewDocumentPage from '../pages/ViewDocumentPage';\r\nimport DocumentsPage from '../pages/DocumentsPage';\r\nimport SearchPage from '../pages/SearchPage';\r\nimport RequestsPage from '../pages/RequestsPage';\r\nimport Service from '../api/service';\r\nimport { requestsActions } from '../store/requests';\r\nimport { Snackbar, Alert } from '@mui/material';\r\nimport ApproveRequestModal from '../components/ApproveRequestModal';\r\nimport EditDocumentPage from '../pages/EditDocumentPage';\r\nimport { modalResponseActions } from '../store/modalResponse';\r\n\r\nfunction Dashboard() {\r\n    const [isAlertVisible, setIsAlertVisible] = useState(false);\r\n    const [errorMessage, setErrorMessage] = useState('');\r\n\r\n    const isUserLoggedIn = useSelector((state) => state.auth.isAuthenticated);\r\n    const currentUser = useSelector((state) => state.auth.currentUser);\r\n    const isSearchStarted = useSelector((state) => state.docs.isSearchStarted);\r\n    const isRequestModalVisible = useSelector(\r\n        (state) => state.requests.isRequestModalVisible\r\n    );\r\n    const selectedRequest = useSelector(\r\n        (state) => state.requests.selectedRequest\r\n    );\r\n\r\n    const isModalResAlertVisible = useSelector(\r\n        (state) => state.modalResponse.isModalResAlertVisible\r\n    );\r\n    const modalResMessage = useSelector(\r\n        (state) => state.modalResponse.modalResMessage\r\n    );\r\n    const modalAlertType = useSelector(\r\n        (state) => state.modalResponse.modalAlertType\r\n    );\r\n\r\n    const dispatch = useDispatch();\r\n\r\n    useEffect(() => {\r\n        const fetchAllRequests = async () => {\r\n            await Service.getAllRequests()\r\n                .then((res) => {\r\n                    dispatch(\r\n                        requestsActions.setAllRequests(res.data.allRequests)\r\n                    );\r\n                })\r\n                .catch((err) => {\r\n                    setIsAlertVisible(true);\r\n                    setErrorMessage(\r\n                        err.response\r\n                            ? err.response.data.message\r\n                            : 'Konekcija sa serverom nije uspostavljena'\r\n                    );\r\n                });\r\n        };\r\n        if (\r\n            isUserLoggedIn &&\r\n            (currentUser.role === 'editor' || currentUser.role === 'admin')\r\n        ) {\r\n            fetchAllRequests();\r\n        }\r\n    }, [dispatch, isUserLoggedIn, currentUser]);\r\n\r\n    const closeNotificationModal = () => {\r\n        dispatch(requestsActions.resetInitialState());\r\n    };\r\n    return (\r\n        <Fragment>\r\n            {isAlertVisible && (\r\n                <Snackbar\r\n                    open={isAlertVisible}\r\n                    anchorOrigin={{\r\n                        vertical: 'top',\r\n                        horizontal: 'center',\r\n                    }}\r\n                    autoHideDuration={8000}\r\n                    onClose={() => setIsAlertVisible(false)}\r\n                >\r\n                    <Alert\r\n                        onClose={() => setIsAlertVisible(false)}\r\n                        severity='error'\r\n                        sx={{ width: '100%' }}\r\n                    >\r\n                        {errorMessage}\r\n                    </Alert>\r\n                </Snackbar>\r\n            )}\r\n            {isModalResAlertVisible && (\r\n                <Snackbar\r\n                    open={isModalResAlertVisible}\r\n                    anchorOrigin={{\r\n                        vertical: 'top',\r\n                        horizontal: 'center',\r\n                    }}\r\n                    autoHideDuration={3000}\r\n                    onClose={() =>\r\n                        dispatch(\r\n                            modalResponseActions.setIsModalResAlertHidden()\r\n                        )\r\n                    }\r\n                >\r\n                    <Alert\r\n                        onClose={() =>\r\n                            dispatch(\r\n                                modalResponseActions.setIsModalResAlertHidden()\r\n                            )\r\n                        }\r\n                        severity={modalAlertType}\r\n                        sx={{ width: '100%' }}\r\n                    >\r\n                        {modalResMessage}\r\n                    </Alert>\r\n                </Snackbar>\r\n            )}\r\n\r\n            <Router>\r\n                <Routes>\r\n                    <Route\r\n                        path='/'\r\n                        element={isUserLoggedIn ? <Content /> : <Login />}\r\n                    >\r\n                        <Route index element={<Home />} />\r\n                        <Route\r\n                            path='/historijapregleda'\r\n                            element={\r\n                                currentUser?.role === 'reader' ||\r\n                                currentUser?.role === 'editor' ? (\r\n                                    <ViewHistory />\r\n                                ) : (\r\n                                    <Navigate to='/' />\r\n                                )\r\n                            }\r\n                        />\r\n                        <Route\r\n                            path='/statistika'\r\n                            element={\r\n                                currentUser.role === 'admin' ||\r\n                                currentUser.role === 'editor' ? (\r\n                                    <Statistics />\r\n                                ) : (\r\n                                    <Navigate to='/' />\r\n                                )\r\n                            }\r\n                        />\r\n                        <Route\r\n                            path='/dokumenti'\r\n                            element={\r\n                                currentUser.role === 'admin' ? (\r\n                                    <DocumentsPage />\r\n                                ) : (\r\n                                    <Navigate to='/' />\r\n                                )\r\n                            }\r\n                        />\r\n                        <Route path='/profil' element={<Profile />} />\r\n                        <Route\r\n                            path='/novidokument'\r\n                            element={\r\n                                currentUser.role === 'admin' ||\r\n                                currentUser.role === 'editor' ? (\r\n                                    <NewDocument />\r\n                                ) : (\r\n                                    <Navigate to='/' />\r\n                                )\r\n                            }\r\n                        />\r\n                        <Route\r\n                            path='/izmjena/:id'\r\n                            element={\r\n                                currentUser.role === 'admin' ||\r\n                                currentUser.role === 'editor' ? (\r\n                                    <EditDocumentPage />\r\n                                ) : (\r\n                                    <Navigate to='/' />\r\n                                )\r\n                            }\r\n                        />\r\n                        <Route\r\n                            path='/pregled/:id'\r\n                            element={<ViewDocumentPage />}\r\n                        />\r\n                        <Route\r\n                            path='/pretraga'\r\n                            element={\r\n                                isSearchStarted ? (\r\n                                    <SearchPage />\r\n                                ) : (\r\n                                    <Navigate to='/' />\r\n                                )\r\n                            }\r\n                        />\r\n                        <Route\r\n                            path='/zahtjevi'\r\n                            element={\r\n                                currentUser.role === 'editor' ||\r\n                                currentUser.role === 'admin' ? (\r\n                                    <RequestsPage />\r\n                                ) : (\r\n                                    <Navigate to='/' />\r\n                                )\r\n                            }\r\n                        />\r\n                    </Route>\r\n                    {/* <Route\r\n                        path='/'\r\n                        element={\r\n                            !isUserLoggedIn ? <Login /> : <Navigate to='/' />\r\n                        }\r\n                    /> */}\r\n                    <Route\r\n                        path='/registracija'\r\n                        element={\r\n                            !isUserLoggedIn ? <Signup /> : <Navigate to='/' />\r\n                        }\r\n                    />\r\n                    <Route\r\n                        path='/resetPassword/:resetToken'\r\n                        element={\r\n                            !isUserLoggedIn ? (\r\n                                <PasswordReset />\r\n                            ) : (\r\n                                <Navigate to='/' />\r\n                            )\r\n                        }\r\n                    />\r\n                    <Route\r\n                        path='/validateProfile/:validationToken'\r\n                        element={\r\n                            !isUserLoggedIn ? (\r\n                                <ValidateProfile />\r\n                            ) : (\r\n                                <Navigate to='/' />\r\n                            )\r\n                        }\r\n                    />\r\n                    <Route path='*' element={<Navigate to='/' />} />\r\n                </Routes>\r\n            </Router>\r\n            {isRequestModalVisible && (\r\n                <ApproveRequestModal\r\n                    visible={isRequestModalVisible}\r\n                    onClose={closeNotificationModal}\r\n                    selected={selectedRequest}\r\n                />\r\n            )}\r\n        </Fragment>\r\n    );\r\n}\r\n\r\nexport default Dashboard;\r\n","import React, { Fragment, useEffect, useState } from 'react';\nimport Dashboard from './layout/Dashboard';\nimport { createTheme, ThemeProvider } from '@mui/material/styles';\nimport { useDispatch } from 'react-redux';\nimport { authActions } from './store/auth';\nimport { Alert, Backdrop, Snackbar } from '@mui/material';\nimport Loader from './components/Loader';\nimport Service from './api/service';\n// import axios from 'axios';\nimport './appStyle.css';\n\nconst theme = createTheme({\n    palette: {\n        primary: {\n            main: '#393E46',\n        },\n    },\n});\n\nfunction App() {\n    const [isAlertVisible, setIsAlertVisible] = useState(false);\n    const [errorMessage, setErrorMessage] = useState('');\n    const [isLoading, setIsLoading] = useState(true);\n\n    const dispatch = useDispatch();\n    useEffect(() => {\n        const isLoggedIn = localStorage.getItem('isLoggedIn');\n\n        const isUserAutheticated = async () => {\n            // let csrfToken = '';\n            // await Service.getCsrfToken().then((res) => {\n            //     axios.defaults.headers.common['X-CSRF-Token'] =\n            //         res.data.csrfToken;\n            //     csrfToken = res.data.csrfToken;\n            // });\n\n            if (isLoggedIn === 'true') {\n                await Service.userAuthenticated()\n                    .then((res) => {\n                        dispatch(authActions.login());\n                        dispatch(authActions.setCurrentUser(res.data.user));\n                        localStorage.setItem('token', res.data.token);\n                    })\n                    .catch((err) => {\n                        setErrorMessage(\n                            err.response\n                                ? err.response.data.message\n                                : 'Konekcija sa serverom nije uspostavljena'\n                        );\n                        setIsAlertVisible(true);\n                    });\n            }\n\n            setTimeout(() => {\n                setIsLoading(false);\n            }, 1000);\n        };\n\n        isUserAutheticated();\n    }, [dispatch]);\n\n    return (\n        <ThemeProvider theme={theme}>\n            {isLoading ? (\n                <Backdrop\n                    sx={{\n                        color: '#fff',\n                        zIndex: (theme) => theme.zIndex.drawer + 1,\n                        backgroundColor: '#fff',\n                    }}\n                    open={isLoading}\n                >\n                    <Loader loaderColor={`black`} />\n                </Backdrop>\n            ) : (\n                <Fragment>\n                    <div style={{ maxWidth: 400, margin: 'auto' }}>\n                        {isAlertVisible && (\n                            <Snackbar\n                                open={isAlertVisible}\n                                anchorOrigin={{\n                                    vertical: 'top',\n                                    horizontal: 'center',\n                                }}\n                                autoHideDuration={6000}\n                                onClose={() => setIsAlertVisible(false)}\n                            >\n                                <Alert\n                                    onClose={() => setIsAlertVisible(false)}\n                                    severity='error'\n                                    sx={{ width: '100%', font: '14px Roboto' }}\n                                >\n                                    {errorMessage}\n                                </Alert>\n                            </Snackbar>\n                        )}\n                    </div>\n                    <Dashboard />\n                </Fragment>\n            )}\n        </ThemeProvider>\n    );\n}\n\nexport default App;\n","import { configureStore, getDefaultMiddleware } from '@reduxjs/toolkit';\n\nimport authReducer from './auth';\nimport docsReducer from './docs';\nimport requestsReducer from './requests';\nimport modalResponseReducer from './modalResponse';\n\nconst store = configureStore({\n    reducer: {\n        auth: authReducer,\n        docs: docsReducer,\n        requests: requestsReducer,\n        modalResponse: modalResponseReducer,\n    },\n    middleware: () =>\n        getDefaultMiddleware({\n            serializableCheck: false,\n        }),\n});\n\nexport default store;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\nimport store from './store/index';\nimport { Provider } from 'react-redux';\n\nReactDOM.render(\n    <React.StrictMode>\n        <Provider store={store}>\n            <App />\n        </Provider>\n    </React.StrictMode>,\n    document.getElementById('root')\n);\n"],"sourceRoot":""}